{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utils/fullscreen.js","webpack:///./src/assets/environments/environments.js","webpack:///./src/react-components/auth-dialog.js","webpack:///./src/react-components/join-us-dialog.js","webpack:///./src/react-components/report-dialog.js","webpack:///./src/react-components/updates-dialog.js","webpack:///./src/react-components/home-root.js","webpack:///./src/index.js","webpack:///./src/utils/phoenix-utils.js","webpack:///./src/assets/images/hub-preview-light-no-shadow.png","webpack:///./src/assets/stylesheets/index.scss","webpack:///./src/assets/stylesheets/sign-in-dialog.scss","webpack:///./src/react-components/sign-in-dialog.js","webpack:///./src/react-components/dialog-container.js","webpack:///./src/utils/i18n.js","webpack:///./src/utils/video-utils.js","webpack:///./src/utils/mask-email.js","webpack:///./src/utils/auth-channel.js","webpack:///./src/utils/identity.js","webpack:///./src/storage/store.js","webpack:///./src/assets/avatars/avatars.js","webpack:///./src/utils/focus-utils.js","webpack:///./src/telemetry.js","webpack:///./src/react-components/wrap-with-audio.js","webpack:///./src/assets/video/home.webm","webpack:///./src/assets/video/home.mp4","webpack:///./src/assets/images/discord-logo-small.png","webpack:///./src/assets/images/moz-logo-black.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","7","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","__webpack_exports__","showFullScreenIfAvailable","showFullScreenIfWasFullScreen","screenfull__WEBPACK_IMPORTED_MODULE_0__","screenfull__WEBPACK_IMPORTED_MODULE_0___default","hasEnteredFullScreenThisSession","AFRAME","utils","device","isMobile","isMobileVR","isIOS","screenfull","enabled","request","isFullscreen","ENVIRONMENT_URLS","concat","map","x","process","AuthDialog","Component","render","authOrigin","verifying","this","props","formatMessage","intl","title","id","react_default","a","createElement","dialog_container","_extends","index_es","className","PropTypes","bool","string","injectIntl","JoinUsDialog","join_us_dialog_extends","href","target","rel","ReportDialog","report_dialog_extends","wrap_with_audio","UpdatesDialog","[object Object]","args","super","updates_dialog_defineProperty","mailingListEmail","mailingListPrivacy","_this$props","onSubmittedEmail","other","_objectWithoutProperties","onSubmit","async","e","preventDefault","stopPropagation","state","payload","email","newsletters","privacy","fmt","source_url","document","location","fetch","body","formurlencoded","method","headers","content-type","then","type","onChange","setState","required","placeholder","checked","func","addLocaleData","en","HomeRoot","constructor","home_root_defineProperty","environments","dialog","signedIn","DialogClass","_objectSpread","onClose","closeDialog","showDialog","closable","videoEl","querySelector","playbackRate","playVideoWithStopOnBlur","SignInDialog","message","messages","onSignIn","authComplete","authChannel","startAuthentication","authStarted","signOut","sceneUrlBase","sceneInfoUrl","sceneId","scene","json","scenes","attribution","split","join","authors","organization","scene_id","meta","images","srcset","screenshot_url","environmentLoads","src","res","bundle_url","Promise","all","trigger","createAndRedirectToNewHub","componentDidMount","authVerify","showAuthDialog","verifyAuth","loadEnvironmentFromScene","loadEnvironments","loadHomeVideo","listSignup","showUpdatesDialog","report","showReportDialog","channel","connectToReticulum","authTopic","resolve","reject","receive","token","authToken","mainContentClassNames","classNames","styles","mainContent","noninteractive","locale","lang","home","headerContent","titleAndNav","onClick","links","signIn","maskEmail","onLinkClicked","showSignInDialog","heroContent","heroPanel","container","logo","hubLogo","blurb","ctaButtons","primaryButton","ctaButton","rightPanel","secondaryLink","discordLogoSmall","footerContent","top","link","showJoinUsDialog","mozLogo","store","initialEnvironment","qs","URLSearchParams","search","registerTelemetry","pathname","startsWith","substring","Store","AuthChannel","setSocket","root","home_root","has","ReactDOM","getElementById","getReticulumFetchUrl","invalidateReticulumMeta","getReticulumMeta","getLandingPageForPhoto","fetchReticulumAuthenticated","getPresenceProfileForSession","migrateChannelToSocket","path","absolute","reticulumMeta","invalidatedReticulumMetaThisSession","version","getAttribute","pool","phx_host","phxHostOverride","debug","params","getNewSocketUrl","socketProtocol","protocol","socketHost","socketPort","includes","socketUrl","console","log","socketSettings","logger","kind","msg","socket","Socket","connect","onError","endPointPath","URL","endPoint","newEndPoint","photoUrl","parsedUrl","replace","url","APP","credentials","retUrl","authorization","JSON","stringify","text","parse","sceneUrl","createUrl","hub","default_environment_gltf_bundle_url","error","update","creatorAssignmentToken","creator_assignment_token","creatorAssignmentTokens","hubId","hub_id","host","presences","sessionId","presence","entries","find","k","metas","profile","oldChannel","topic","bindings","item","on","event","callback","pushBuffer","timeout","oldJoinPush","joinPush","recHooks","status","hero-content","cta-buttons","primary-button","loading-text","loadingText","main-content","header-content","title-and-nav","sign-in","video-container","videoContainer","background-video","backgroundVideo","hero-panel","cta-button","hero-video","heroVideo","have-code","haveCode","secondary-link","footer-content","moz-logo","bottom","email-field","emailField","next-button","nextButton","continue-button","continueButton","sign-in-form","signInForm","sign-in-complete","signInComplete","terms","_defineProperty","contents","react__WEBPACK_IMPORTED_MODULE_0___default","react_intl__WEBPACK_IMPORTED_MODULE_2__","onContinue","continueText","onFocus","handleTextFieldFocus","onBlur","handleTextFieldBlur","_dialog_container__WEBPACK_IMPORTED_MODULE_4__","DialogContainer","currentTarget","onKeyDown","onContainerClicked","addEventListener","componentWillUnmount","removeEventListener","wide","_wrap_with_audio__WEBPACK_IMPORTED_MODULE_3__","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_5__","icon","faTimes","children","node","isRequired","_assets_translations_data_json__WEBPACK_IMPORTED_MODULE_0__","navigatorLang","navigator","languages","language","userLanguage","toLowerCase","localeData","toggleVideo","hasFocus","play","pause","emailParts","emailIdentity","emailDomain","Math","min","hubChannel","resetToRandomLegacyAvatar","_signedIn","uuid","origin","names","selectRandom","arr","floor","random","avatarIds","avatars","av","generateDefaultProfile","avatarId","LOCAL_STORE_KEY","STORE_STATE_CACHE_KEY","OAUTH_FLOW_CREDENTIALS_KEY","validator","Validator","SCHEMA","definitions","additionalProperties","properties","displayName","pattern","personalAvatarId","activity","hasFoundFreeze","hasChangedName","hasAcceptedProfile","lastEnteredAt","hasPinned","hasRotated","hasRecentered","hasScaled","hasHoveredInWorldHud","settings","lastUsedMicDeviceId","confirmedDiscordRooms","items","uploadPromotionTokens","fileId","promotionToken","$ref","EventTarget","localStorage","getItem","setItem","oauthFlowCredentials","Cookies","getJSON","remove","credentialsAccountId","jwtDecode","sub","resetConfirmedDiscordRooms","arrayMerge","destinationArray","sourceArray","resetTipActivityFlags","newState","mergeOpts","finalState","merge","valid","validate","Error","dispatchEvent","CustomEvent","model","thumbnail","_fullscreen__WEBPACK_IMPORTED_MODULE_1__","detect","require","browser","isExitingFullscreenDueToFocus","exit","focus","select","raven_js__WEBPACK_IMPORTED_MODULE_0__","raven_js__WEBPACK_IMPORTED_MODULE_0___default","ga","trackedPage","trackedTitle","sentryDsn","SENTRY_DSN","gaTrackingId","GA_TRACKING_ID","Raven","config","install","ReactAudioContext","WithHoverSound","react__WEBPACK_IMPORTED_MODULE_0__","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","React","createContext","sound","Consumer","context","cloneElement","onMouseEnter","playSound","propTypes"],"mappings":"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","file":"assets/js/index-19a870b5435d25ea4af2.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t7: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1461,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import screenfull from \"screenfull\";\n\nlet hasEnteredFullScreenThisSession = false;\n\nfunction shouldShowFullScreen() {\n  // Disable full screen on iOS, since Safari's fullscreen mode does not let you prevent native pinch-to-zoom gestures.\n  return (\n    (AFRAME.utils.device.isMobile() || AFRAME.utils.device.isMobileVR()) &&\n    !AFRAME.utils.device.isIOS() &&\n    screenfull.enabled\n  );\n}\n\nexport function showFullScreenIfAvailable() {\n  if (shouldShowFullScreen()) {\n    screenfull.request();\n    hasEnteredFullScreenThisSession = true;\n  }\n}\n\nexport function showFullScreenIfWasFullScreen() {\n  if (hasEnteredFullScreenThisSession && !screenfull.isFullscreen) {\n    screenfull.request();\n  }\n}\n","const BASE_ENVIRONMENTS = [\n  \"/rooms/meetingroom/MeetingRoom.bundle.json\",\n  \"/rooms/atrium/Atrium.bundle.json\",\n  \"/rooms/MedievalFantasyBook/MedievalFantasyBook.bundle.json\",\n  \"/rooms/rooftopbuilding1/RooftopBuilding1.bundle.json\",\n  \"/rooms/wideopenspace/WideOpenSpace.bundle.json\"\n];\nconst EXTRA_ENVIRONMENTS = process.env.EXTRA_ENVIRONMENTS ? process.env.EXTRA_ENVIRONMENTS.split(\",\") : [];\nconst ALL_ENVIRONMENTS = EXTRA_ENVIRONMENTS.concat(BASE_ENVIRONMENTS);\n\nexport const ENVIRONMENT_URLS = ALL_ENVIRONMENTS.map(x => {\n  return process.env.ASSET_BUNDLE_SERVER + x;\n});\n\nexport const DEFAULT_ENVIRONMENT_URL = ENVIRONMENT_URLS[0];\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { injectIntl, FormattedMessage } from \"react-intl\";\nimport DialogContainer from \"./dialog-container.js\";\n\nclass AuthDialog extends Component {\n  static propTypes = {\n    intl: PropTypes.object,\n    verifying: PropTypes.bool,\n    authOrigin: PropTypes.string\n  };\n\n  render() {\n    const { authOrigin, verifying } = this.props;\n    const { formatMessage } = this.props.intl;\n    const title = verifying ? formatMessage({ id: \"auth.verifying\" }) : formatMessage({ id: \"auth.verified-title\" });\n\n    return (\n      <DialogContainer title={title} {...this.props}>\n        {verifying ? (\n          <FormattedMessage id=\"auth.verifying\" />\n        ) : authOrigin === \"spoke\" ? (\n          <FormattedMessage className=\"preformatted\" id=\"auth.spoke-verified\" />\n        ) : (\n          <FormattedMessage className=\"preformatted\" id=\"auth.verified\" />\n        )}\n      </DialogContainer>\n    );\n  }\n}\n\nexport default injectIntl(AuthDialog);\n","import React, { Component } from \"react\";\nimport DialogContainer from \"./dialog-container.js\";\n\nexport default class JoinUsDialog extends Component {\n  render() {\n    return (\n      <DialogContainer title=\"Join Us\" {...this.props}>\n        <span>\n          <p>\n            Join us in the{\" \"}\n            <a href=\"https://discord.gg/wHmY4nd\" target=\"_blank\" rel=\"noopener noreferrer\">\n              Hubs community\n            </a>{\" \"}\n            on Discord.\n            <br />\n          </p>\n          <p>VR meetups every Friday at noon PDT!</p>\n          <p>\n            You can also follow us on Twitter at{\" \"}\n            <a href=\"https://twitter.com/mozillareality\" target=\"_blank\" rel=\"noopener noreferrer\">\n              @mozillareality\n            </a>.\n          </p>\n        </span>\n      </DialogContainer>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport DialogContainer from \"./dialog-container.js\";\nimport { WithHoverSound } from \"./wrap-with-audio\";\n\nexport default class ReportDialog extends Component {\n  render() {\n    return (\n      <DialogContainer title=\"Report an Issue\" {...this.props}>\n        <span>\n          <p>Need to report a problem?</p>\n          <p>\n            You can file a{\" \"}\n            <WithHoverSound>\n              <a href=\"https://github.com/mozilla/hubs/issues\" target=\"_blank\" rel=\"noopener noreferrer\">\n                GitHub Issue\n              </a>\n            </WithHoverSound>{\" \"}\n            or e-mail us for support at{\" \"}\n            <WithHoverSound>\n              <a href=\"mailto:hubs@mozilla.com\">hubs@mozilla.com</a>\n            </WithHoverSound>\n          </p>\n          <p>\n            You can also find us on{\" \"}\n            <WithHoverSound>\n              <a href=\"https://discord.gg/wHmY4nd\" target=\"_blank\" rel=\"noopener noreferrer\">\n                Discord\n              </a>\n            </WithHoverSound>\n          </p>\n        </span>\n      </DialogContainer>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport PropTypes from \"prop-types\";\nimport formurlencoded from \"form-urlencoded\";\nimport DialogContainer from \"./dialog-container.js\";\nimport { WithHoverSound } from \"./wrap-with-audio\";\n\nexport default class UpdatesDialog extends Component {\n  static propTypes = {\n    onSubmittedEmail: PropTypes.func\n  };\n\n  state = {\n    mailingListEmail: \"\",\n    mailingListPrivacy: false\n  };\n\n  render() {\n    const { onSubmittedEmail, ...other } = this.props;\n    const signUpForMailingList = async e => {\n      e.preventDefault();\n      e.stopPropagation();\n      if (!this.state.mailingListPrivacy) return;\n\n      const url = \"https://www.mozilla.org/en-US/newsletter/\";\n\n      const payload = {\n        email: this.state.mailingListEmail,\n        newsletters: \"hubs\",\n        privacy: true,\n        fmt: \"H\",\n        source_url: document.location.href\n      };\n\n      await fetch(url, {\n        body: formurlencoded(payload),\n        method: \"POST\",\n        headers: { \"content-type\": \"application/x-www-form-urlencoded\" }\n      }).then(onSubmittedEmail);\n    };\n\n    return (\n      <DialogContainer {...other}>\n        <span>\n          <p>Sign up to get updates about new features in Hubs.</p>\n          <form onSubmit={signUpForMailingList}>\n            <div className=\"mailing-list-form\">\n              <WithHoverSound>\n                <input\n                  type=\"email\"\n                  value={this.state.mailingListEmail}\n                  onChange={e => this.setState({ mailingListEmail: e.target.value })}\n                  className=\"mailing-list-form__email_field\"\n                  required\n                  placeholder=\"Your email here\"\n                />\n              </WithHoverSound>\n              <label className=\"mailing-list-form__privacy\">\n                <WithHoverSound>\n                  <input\n                    className=\"mailing-list-form__privacy_checkbox\"\n                    type=\"checkbox\"\n                    required\n                    value={this.state.mailingListPrivacy}\n                    onChange={e => this.setState({ mailingListPrivacy: e.target.checked })}\n                  />\n                </WithHoverSound>\n                <span className=\"mailing-list-form__privacy_label\">\n                  <FormattedMessage id=\"mailing_list.privacy_label\" />{\" \"}\n                  <WithHoverSound>\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.mozilla.org/en-US/privacy/\">\n                      <FormattedMessage id=\"mailing_list.privacy_link\" />\n                    </a>\n                  </WithHoverSound>\n                </span>\n              </label>\n              <WithHoverSound>\n                <input className=\"mailing-list-form__submit\" type=\"submit\" value=\"Sign Up Now\" />\n              </WithHoverSound>\n            </div>\n          </form>\n        </span>\n      </DialogContainer>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { IntlProvider, FormattedMessage, addLocaleData } from \"react-intl\";\nimport en from \"react-intl/locale-data/en\";\n\nimport { lang, messages } from \"../utils/i18n\";\nimport { playVideoWithStopOnBlur } from \"../utils/video-utils.js\";\nimport homeVideoWebM from \"../assets/video/home.webm\";\nimport homeVideoMp4 from \"../assets/video/home.mp4\";\nimport hubLogo from \"../assets/images/hub-preview-light-no-shadow.png\";\nimport discordLogoSmall from \"../assets/images/discord-logo-small.png\";\nimport mozLogo from \"../assets/images/moz-logo-black.png\";\nimport classNames from \"classnames\";\nimport { ENVIRONMENT_URLS } from \"../assets/environments/environments\";\nimport { createAndRedirectToNewHub, connectToReticulum } from \"../utils/phoenix-utils\";\nimport maskEmail from \"../utils/mask-email\";\n\nimport styles from \"../assets/stylesheets/index.scss\";\n\nimport AuthDialog from \"./auth-dialog.js\";\nimport JoinUsDialog from \"./join-us-dialog.js\";\nimport ReportDialog from \"./report-dialog.js\";\nimport SignInDialog from \"./sign-in-dialog.js\";\nimport UpdatesDialog from \"./updates-dialog.js\";\nimport DialogContainer from \"./dialog-container.js\";\nimport { WithHoverSound } from \"./wrap-with-audio\";\n\naddLocaleData([...en]);\n\nclass HomeRoot extends Component {\n  static propTypes = {\n    intl: PropTypes.object,\n    sceneId: PropTypes.string,\n    store: PropTypes.object,\n    authChannel: PropTypes.object,\n    authVerify: PropTypes.bool,\n    authTopic: PropTypes.string,\n    authToken: PropTypes.string,\n    authOrigin: PropTypes.string,\n    listSignup: PropTypes.bool,\n    report: PropTypes.bool,\n    initialEnvironment: PropTypes.string\n  };\n\n  state = {\n    environments: [],\n    dialog: null,\n    signedIn: null,\n    mailingListEmail: \"\",\n    mailingListPrivacy: false\n  };\n\n  constructor(props) {\n    super(props);\n    this.state.signedIn = props.authChannel.signedIn;\n    this.state.email = props.authChannel.email;\n  }\n\n  componentDidMount() {\n    if (this.props.authVerify) {\n      this.showAuthDialog(true);\n      this.verifyAuth().then(this.showAuthDialog);\n      return;\n    }\n    if (this.props.sceneId) {\n      this.loadEnvironmentFromScene();\n    } else {\n      this.loadEnvironments();\n    }\n    this.loadHomeVideo();\n    if (this.props.listSignup) {\n      this.showUpdatesDialog();\n    } else if (this.props.report) {\n      this.showReportDialog();\n    }\n  }\n\n  async verifyAuth() {\n    const socket = await connectToReticulum();\n    const channel = socket.channel(this.props.authTopic);\n    await new Promise((resolve, reject) =>\n      channel\n        .join()\n        .receive(\"ok\", resolve)\n        .receive(\"error\", reject)\n    );\n    channel.push(\"auth_verified\", { token: this.props.authToken });\n  }\n\n  showDialog = (DialogClass, props = {}) => {\n    this.setState({\n      dialog: <DialogClass {...{ onClose: this.closeDialog, ...props }} />\n    });\n  };\n\n  showAuthDialog = verifying => {\n    this.showDialog(AuthDialog, { closable: false, verifying, authOrigin: this.props.authOrigin });\n  };\n\n  loadHomeVideo = () => {\n    const videoEl = document.querySelector(\"#background-video\");\n    if (!videoEl) return;\n    videoEl.playbackRate = 0.9;\n    playVideoWithStopOnBlur(videoEl);\n  };\n\n  closeDialog = () => {\n    this.setState({ dialog: null });\n  };\n\n  showJoinUsDialog = () => this.showDialog(JoinUsDialog);\n\n  showReportDialog = () => this.showDialog(ReportDialog);\n\n  showUpdatesDialog = () =>\n    this.showDialog(UpdatesDialog, {\n      onSubmittedEmail: () => {\n        this.showDialog(\n          <DialogContainer>Great! Please check your e-mail to confirm your subscription.</DialogContainer>\n        );\n      }\n    });\n\n  showSignInDialog = () => {\n    this.showDialog(SignInDialog, {\n      message: messages[\"sign-in.prompt\"],\n      onSignIn: async email => {\n        const { authComplete } = await this.props.authChannel.startAuthentication(email);\n        this.showDialog(SignInDialog, { authStarted: true });\n        await authComplete;\n        this.setState({ signedIn: true, email });\n        this.closeDialog();\n      }\n    });\n  };\n\n  signOut = () => {\n    this.props.authChannel.signOut();\n    this.setState({ signedIn: false });\n  };\n\n  loadEnvironmentFromScene = async () => {\n    let sceneUrlBase = \"/api/v1/scenes\";\n    if (process.env.RETICULUM_SERVER) {\n      sceneUrlBase = `https://${process.env.RETICULUM_SERVER}${sceneUrlBase}`;\n    }\n    const sceneInfoUrl = `${sceneUrlBase}/${this.props.sceneId}`;\n    const resp = await fetch(sceneInfoUrl).then(r => r.json());\n    const scene = resp.scenes[0];\n    const attribution = scene.attribution && scene.attribution.split(\"\\n\").join(\", \");\n    const authors = attribution && [{ organization: { name: attribution } }];\n    // Transform the scene info into a an environment bundle structure.\n    this.setState({\n      environments: [\n        {\n          scene_id: this.props.sceneId,\n          meta: {\n            title: scene.name,\n            authors,\n            images: [{ type: \"preview-thumbnail\", srcset: scene.screenshot_url }]\n          }\n        }\n      ]\n    });\n  };\n\n  loadEnvironments = () => {\n    const environments = [];\n\n    const environmentLoads = ENVIRONMENT_URLS.map(src =>\n      (async () => {\n        const res = await fetch(src);\n        const data = await res.json();\n        data.bundle_url = src;\n        environments.push(data);\n      })()\n    );\n\n    Promise.all(environmentLoads).then(() => this.setState({ environments }));\n  };\n\n  onLinkClicked = trigger => {\n    return e => {\n      e.preventDefault();\n      e.stopPropagation();\n      trigger();\n    };\n  };\n\n  launchTour = () => {\n    createAndRedirectToNewHub(\n      \"Hubs Tour\",\n      // TODO BP placeholder tour scene\n      // \"chjVRLh\", // dev\n      \"d2SF68V\", // prod\n      null,\n      false\n    );\n  };\n\n  render() {\n    const mainContentClassNames = classNames({\n      [styles.mainContent]: true,\n      [styles.noninteractive]: !!this.state.dialog\n    });\n\n    const showFTUEVideo = false;\n\n    return (\n      <IntlProvider locale={lang} messages={messages}>\n        <div className={styles.home}>\n          <div className={mainContentClassNames}>\n            <div className={styles.headerContent}>\n              <div className={styles.titleAndNav} onClick={() => (document.location = \"/\")}>\n                <div className={styles.links}>\n                  <WithHoverSound>\n                    <a href=\"/whats-new\">\n                      <FormattedMessage id=\"home.whats_new_link\" />\n                    </a>\n                  </WithHoverSound>\n                  <WithHoverSound>\n                    <a href=\"https://github.com/mozilla/hubs\" rel=\"noreferrer noopener\">\n                      <FormattedMessage id=\"home.source_link\" />\n                    </a>\n                  </WithHoverSound>\n                  <WithHoverSound>\n                    <a href=\"https://discord.gg/wHmY4nd\" rel=\"noreferrer noopener\">\n                      <FormattedMessage id=\"home.community_link\" />\n                    </a>\n                  </WithHoverSound>\n                  <WithHoverSound>\n                    <a href=\"/spoke\" rel=\"noreferrer noopener\">\n                      Spoke\n                    </a>\n                  </WithHoverSound>\n                </div>\n              </div>\n              <div className={styles.signIn}>\n                {this.state.signedIn ? (\n                  <div>\n                    <span>\n                      <FormattedMessage id=\"sign-in.as\" /> {maskEmail(this.state.email)}\n                    </span>{\" \"}\n                    <a onClick={this.onLinkClicked(this.signOut)}>\n                      <FormattedMessage id=\"sign-in.out\" />\n                    </a>\n                  </div>\n                ) : (\n                  <a onClick={this.onLinkClicked(this.showSignInDialog)}>\n                    <FormattedMessage id=\"sign-in.in\" />\n                  </a>\n                )}\n              </div>\n            </div>\n            <div className={styles.heroContent}>\n              <div className={styles.heroPanel}>\n                <div className={styles.container}>\n                  <div className={styles.logo}>\n                    <img src={hubLogo} />\n                  </div>\n                  <div className={styles.blurb}>\n                    <FormattedMessage id=\"home.hero_blurb\" />\n                  </div>\n                </div>\n                <div className={styles.ctaButtons}>\n                  <button\n                    className={classNames(styles.primaryButton, styles.ctaButton)}\n                    onClick={e => {\n                      e.preventDefault();\n                      createAndRedirectToNewHub(null, process.env.DEFAULT_SCENE_SID, null, false);\n                    }}\n                  >\n                    <FormattedMessage id=\"home.create_a_room\" />\n                  </button>\n                </div>\n              </div>\n              <div className={classNames(styles.heroPanel, styles.rightPanel)}>\n                {showFTUEVideo && (\n                  <div className={styles.heroVideo}>\n                    <video playsInline muted loop autoPlay>\n                      <source src={homeVideoWebM} type=\"video/webm\" />\n                      <source src={homeVideoMp4} type=\"video/mp4\" />\n                    </video>\n                  </div>\n                )}\n                <div>\n                  <WithHoverSound>\n                    <div className={styles.secondaryLink}>\n                      <a href=\"/link\">\n                        <FormattedMessage id=\"home.have_code\" />\n                      </a>\n                    </div>\n                  </WithHoverSound>\n\n                  <WithHoverSound>\n                    <div className={styles.secondaryLink}>\n                      <div>\n                        <FormattedMessage id=\"home.add_to_discord_1\" />\n                      </div>\n                      <img src={discordLogoSmall} />\n                      <a href=\"/discord\">\n                        <FormattedMessage id=\"home.add_to_discord_2\" />\n                      </a>\n                      <div>\n                        <FormattedMessage id=\"home.add_to_discord_3\" />\n                      </div>\n                    </div>\n                  </WithHoverSound>\n                </div>\n              </div>\n            </div>\n            <div className={styles.footerContent}>\n              <div className={styles.links}>\n                <div className={styles.top}>\n                  <WithHoverSound>\n                    <a\n                      className={styles.link}\n                      rel=\"noopener noreferrer\"\n                      href=\"#\"\n                      onClick={this.onLinkClicked(this.showJoinUsDialog)}\n                    >\n                      <FormattedMessage id=\"home.join_us\" />\n                    </a>\n                  </WithHoverSound>\n                  <WithHoverSound>\n                    <a\n                      className={styles.link}\n                      rel=\"noopener noreferrer\"\n                      href=\"#\"\n                      onClick={this.onLinkClicked(this.showUpdatesDialog)}\n                    >\n                      <FormattedMessage id=\"home.get_updates\" />\n                    </a>\n                  </WithHoverSound>\n                  <WithHoverSound>\n                    <a\n                      className={styles.link}\n                      rel=\"noopener noreferrer\"\n                      href=\"#\"\n                      onClick={this.onLinkClicked(this.showReportDialog)}\n                    >\n                      <FormattedMessage id=\"home.report_issue\" />\n                    </a>\n                  </WithHoverSound>\n                  <WithHoverSound>\n                    <a\n                      className={styles.link}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      href=\"https://github.com/mozilla/hubs/blob/master/TERMS.md\"\n                    >\n                      <FormattedMessage id=\"home.terms_of_use\" />\n                    </a>\n                  </WithHoverSound>\n                  <WithHoverSound>\n                    <a\n                      className={styles.link}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      href=\"https://github.com/mozilla/hubs/blob/master/PRIVACY.md\"\n                    >\n                      <FormattedMessage id=\"home.privacy_notice\" />\n                    </a>\n                  </WithHoverSound>\n\n                  <img className={styles.mozLogo} src={mozLogo} />\n                </div>\n              </div>\n            </div>\n          </div>\n          {this.state.dialog}\n        </div>\n      </IntlProvider>\n    );\n  }\n}\n\nexport default HomeRoot;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./assets/stylesheets/index.scss\";\nimport registerTelemetry from \"./telemetry\";\nimport HomeRoot from \"./react-components/home-root\";\nimport AuthChannel from \"./utils/auth-channel\";\nimport { createAndRedirectToNewHub, connectToReticulum } from \"./utils/phoenix-utils\";\nimport Store from \"./storage/store\";\n\nconst qs = new URLSearchParams(location.search);\nregisterTelemetry(\"/home\", \"Hubs Home Page\");\n\nconst { pathname } = document.location;\nconst sceneId = qs.get(\"scene_id\") || (pathname.startsWith(\"/scenes/\") && pathname.substring(1).split(\"/\")[1]);\n\n(async () => {\n  if (qs.get(\"new\") !== null) {\n    createAndRedirectToNewHub(null, process.env.DEFAULT_SCENE_SID, null, true);\n    return;\n  }\n\n  const store = new Store();\n  const authChannel = new AuthChannel(store);\n  authChannel.setSocket(await connectToReticulum());\n\n  const root = (\n    <HomeRoot\n      initialEnvironment={qs.get(\"initial_environment\")}\n      sceneId={sceneId || \"\"}\n      store={store}\n      authChannel={authChannel}\n      authVerify={qs.has(\"auth_topic\")}\n      authTopic={qs.get(\"auth_topic\")}\n      authToken={qs.get(\"auth_token\")}\n      authOrigin={qs.get(\"auth_origin\")}\n      listSignup={qs.has(\"list_signup\")}\n      report={qs.has(\"report\")}\n    />\n  );\n  ReactDOM.render(root, document.getElementById(\"home-root\"));\n})();\n","import { Socket } from \"phoenix\";\nimport { generateHubName } from \"../utils/name-generation\";\n\nimport Store from \"../storage/store\";\n\nconst resolverLink = document.createElement(\"a\");\nexport function getReticulumFetchUrl(path, absolute = false) {\n  if (process.env.RETICULUM_SERVER) {\n    return `https://${process.env.RETICULUM_SERVER}${path}`;\n  } else if (absolute) {\n    resolverLink.href = path;\n    return resolverLink.href;\n  } else {\n    return path;\n  }\n}\n\nlet reticulumMeta = null;\nlet invalidatedReticulumMetaThisSession = false;\n\nexport async function invalidateReticulumMeta() {\n  invalidatedReticulumMetaThisSession = true;\n  reticulumMeta = null;\n}\n\nexport async function getReticulumMeta() {\n  if (!reticulumMeta) {\n    // Initially look up version based upon page, avoiding round-trip, otherwise fetch.\n    if (!invalidatedReticulumMetaThisSession && document.querySelector(\"meta[name='ret:version']\")) {\n      reticulumMeta = {\n        version: document.querySelector(\"meta[name='ret:version']\").getAttribute(\"value\"),\n        pool: document.querySelector(\"meta[name='ret:pool']\").getAttribute(\"value\"),\n        phx_host: document.querySelector(\"meta[name='ret:phx_host']\").getAttribute(\"value\")\n      };\n    } else {\n      await fetch(getReticulumFetchUrl(\"/api/v1/meta\")).then(async res => {\n        reticulumMeta = await res.json();\n      });\n    }\n  }\n\n  const qs = new URLSearchParams(location.search);\n  const phxHostOverride = qs.get(\"phx_host\");\n\n  if (phxHostOverride) {\n    reticulumMeta.phx_host = phxHostOverride;\n  }\n\n  return reticulumMeta;\n}\n\nexport async function connectToReticulum(debug = false, params = null) {\n  const qs = new URLSearchParams(location.search);\n\n  const getNewSocketUrl = async () => {\n    const socketProtocol = qs.get(\"phx_protocol\") || (document.location.protocol === \"https:\" ? \"wss:\" : \"ws:\");\n    let socketHost = qs.get(\"phx_host\");\n    let socketPort = qs.get(\"phx_port\");\n\n    const reticulumMeta = await getReticulumMeta();\n    socketHost = socketHost || reticulumMeta.phx_host;\n    socketPort = socketPort || (process.env.RETICULUM_SERVER.includes(\"hubs.local\") ? \"4000\" : \"443\"); // TODO phx_port\n    return `${socketProtocol}//${socketHost}${socketPort ? `:${socketPort}` : \"\"}`;\n  };\n\n  const socketUrl = await getNewSocketUrl();\n  console.log(`Phoenix Socket URL: ${socketUrl}`);\n\n  const socketSettings = {};\n\n  if (debug) {\n    socketSettings.logger = (kind, msg, data) => {\n      console.log(`${kind}: ${msg}`, data);\n    };\n  }\n\n  if (params) {\n    socketSettings.params = params;\n  }\n\n  const socket = new Socket(`${socketUrl}/socket`, socketSettings);\n  socket.connect();\n  socket.onError(async () => {\n    // On error, underlying reticulum node may have died, so rebalance by\n    // fetching a new healthy node to connect to.\n    invalidateReticulumMeta();\n\n    const endPointPath = new URL(socket.endPoint).pathname;\n    const newSocketUrl = await getNewSocketUrl();\n    const newEndPoint = `${newSocketUrl}${endPointPath}`;\n    console.log(`Socket error, changed endpoint to ${newEndPoint}`);\n    socket.endPoint = newEndPoint;\n  });\n\n  return socket;\n}\n\nexport function getLandingPageForPhoto(photoUrl) {\n  const parsedUrl = new URL(photoUrl);\n  return getReticulumFetchUrl(parsedUrl.pathname.replace(\".png\", \".html\") + parsedUrl.search, true);\n}\n\nexport function fetchReticulumAuthenticated(url, method = \"GET\", payload) {\n  const { token } = window.APP.store.state.credentials;\n  const retUrl = getReticulumFetchUrl(url);\n  const params = {\n    headers: {\n      \"content-type\": \"application/json\",\n      authorization: `bearer ${token}`\n    },\n    method\n  };\n  if (payload) {\n    params.body = JSON.stringify(payload);\n  }\n  return fetch(retUrl, params).then(async r => {\n    const result = await r.text();\n    try {\n      return JSON.parse(result);\n    } catch (e) {\n      // Some reticulum responses, particularly DELETE requests, don't return json.\n      return result;\n    }\n  });\n}\n\nexport async function createAndRedirectToNewHub(name, sceneId, sceneUrl, replace) {\n  const createUrl = getReticulumFetchUrl(\"/api/v1/hubs\");\n  // const payload = { hub: { name: name || generateHubName() } };\n  const payload = { hub: { name: 'Axon Park' } };\n\n  if (sceneId) {\n    payload.hub.scene_id = sceneId;\n  } else {\n    payload.hub.default_environment_gltf_bundle_url = sceneUrl;\n  }\n\n  const headers = { \"content-type\": \"application/json\" };\n  const store = new Store();\n  if (store.state && store.state.credentials.token) {\n    headers.authorization = `bearer ${store.state.credentials.token}`;\n  }\n\n  let res = await fetch(createUrl, {\n    body: JSON.stringify(payload),\n    headers,\n    method: \"POST\"\n  }).then(r => r.json());\n\n  if (res.error === \"invalid_token\") {\n    // Clear the invalid token from store.\n    store.update({ credentials: { token: null, email: null } });\n\n    // Create hub anonymously\n    delete headers.authorization;\n    res = await fetch(createUrl, {\n      body: JSON.stringify(payload),\n      headers,\n      method: \"POST\"\n    }).then(r => r.json());\n  }\n\n  const hub = res;\n  let url = hub.url;\n\n  const creatorAssignmentToken = hub.creator_assignment_token;\n  if (creatorAssignmentToken) {\n    store.update({ creatorAssignmentTokens: [{ hubId: hub.hub_id, creatorAssignmentToken: creatorAssignmentToken }] });\n  }\n\n  if (process.env.RETICULUM_SERVER && document.location.host !== process.env.RETICULUM_SERVER) {\n    url = `/hub.html?hub_id=${hub.hub_id}`;\n  }\n\n  if (replace) {\n    document.location.replace(url);\n  } else {\n    document.location = url;\n  }\n}\n\nexport function getPresenceProfileForSession(presences, sessionId) {\n  const entry = Object.entries(presences || {}).find(([k]) => k === sessionId) || [];\n  const presence = entry[1];\n  return (presence && presence.metas && presence.metas[0].profile) || {};\n}\n\n// Takes the given channel, and creates a new channel with the same bindings\n// with the given socket, joins it, and leaves the old channel after joining.\n//\n// NOTE: This function relies upon phoenix channel object internals, so this\n// function will need to be reviewed if/when we ever update phoenix.js\nexport function migrateChannelToSocket(oldChannel, socket, params) {\n  const channel = socket.channel(oldChannel.topic, params || oldChannel.params);\n\n  for (let i = 0, l = oldChannel.bindings.length; i < l; i++) {\n    const item = oldChannel.bindings[i];\n    channel.on(item.event, item.callback);\n  }\n\n  for (let i = 0, l = oldChannel.pushBuffer.length; i < l; i++) {\n    const item = oldChannel.pushBuffer[i];\n    channel.push(item.event, item.payload, item.timeout);\n  }\n\n  const oldJoinPush = oldChannel.joinPush;\n  const joinPush = channel.join();\n\n  for (let i = 0, l = oldJoinPush.recHooks.length; i < l; i++) {\n    const item = oldJoinPush.recHooks[i];\n    joinPush.receive(item.status, item.callback);\n  }\n\n  return new Promise(resolve => {\n    joinPush.receive(\"ok\", () => {\n      // Clear all event handlers first so no duplicate messages come in.\n      oldChannel.bindings = [];\n      resolve(channel);\n    });\n  });\n}\n","module.exports = __webpack_public_path__ + \"assets/images/hub-preview-light-no-shadow-5ebb166e8580d819b445892173ec0286.png\";","// removed by extract-text-webpack-plugin\nmodule.exports = {\"hero-content\":\"index__hero-content__11fJu\",\"heroContent\":\"index__hero-content__11fJu\",\"cta-buttons\":\"index__cta-buttons__3SD-3\",\"ctaButtons\":\"index__cta-buttons__3SD-3\",\"primary-button\":\"index__primary-button__r8Kw5\",\"primaryButton\":\"index__primary-button__r8Kw5\",\"loading-text\":\"index__loading-text__3tobw\",\"loadingText\":\"index__loading-text__3tobw\",\"home\":\"index__home__3xkuf\",\"main-content\":\"index__main-content__1L8Sf\",\"mainContent\":\"index__main-content__1L8Sf\",\"noninteractive\":\"index__noninteractive__3jQRs\",\"header-content\":\"index__header-content__1XfPi\",\"headerContent\":\"index__header-content__1XfPi\",\"title-and-nav\":\"index__title-and-nav__23waG\",\"titleAndNav\":\"index__title-and-nav__23waG\",\"links\":\"index__links__p0Llg\",\"sign-in\":\"index__sign-in__2L8Bu\",\"signIn\":\"index__sign-in__2L8Bu\",\"video-container\":\"index__video-container__2Z1bb\",\"videoContainer\":\"index__video-container__2Z1bb\",\"background-video\":\"index__background-video__1XJJZ\",\"backgroundVideo\":\"index__background-video__1XJJZ\",\"container\":\"index__container__cs00S\",\"logo\":\"index__logo__2zl0D\",\"blurb\":\"index__blurb__3k96f\",\"hero-panel\":\"index__hero-panel__2AEHu\",\"heroPanel\":\"index__hero-panel__2AEHu\",\"cta-button\":\"index__cta-button__vTmK6\",\"ctaButton\":\"index__cta-button__vTmK6\",\"rightPanel\":\"index__rightPanel__2JG0C\",\"hero-video\":\"index__hero-video__Yf3bL\",\"heroVideo\":\"index__hero-video__Yf3bL\",\"have-code\":\"index__have-code__1EZm-\",\"haveCode\":\"index__have-code__1EZm-\",\"secondary-link\":\"index__secondary-link__3gfJB\",\"secondaryLink\":\"index__secondary-link__3gfJB\",\"footer-content\":\"index__footer-content__2GrlX\",\"footerContent\":\"index__footer-content__2GrlX\",\"moz-logo\":\"index__moz-logo__1ifwj\",\"mozLogo\":\"index__moz-logo__1ifwj\",\"top\":\"index__top__1gv9a\",\"link\":\"index__link__ujnyC\",\"bottom\":\"index__bottom__2Zyu1\"};","// removed by extract-text-webpack-plugin\nmodule.exports = {\"email-field\":\"sign-in-dialog__email-field__g3xRW\",\"emailField\":\"sign-in-dialog__email-field__g3xRW\",\"next-button\":\"sign-in-dialog__next-button__2pGtq\",\"nextButton\":\"sign-in-dialog__next-button__2pGtq\",\"continue-button\":\"sign-in-dialog__continue-button__kFN6Z\",\"continueButton\":\"sign-in-dialog__continue-button__kFN6Z\",\"sign-in-form\":\"sign-in-dialog__sign-in-form__3Muog\",\"signInForm\":\"sign-in-dialog__sign-in-form__3Muog\",\"sign-in-complete\":\"sign-in-dialog__sign-in-complete__3JMkv\",\"signInComplete\":\"sign-in-dialog__sign-in-complete__3JMkv\",\"terms\":\"sign-in-dialog__terms__3TT6i\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { FormattedMessage } from \"react-intl\";\n\nimport styles from \"../assets/stylesheets/sign-in-dialog.scss\";\nimport DialogContainer from \"./dialog-container\";\nimport { handleTextFieldFocus, handleTextFieldBlur } from \"../utils/focus-utils\";\n\nexport default class SignInDialog extends Component {\n  static propTypes = {\n    authStarted: PropTypes.bool,\n    authComplete: PropTypes.bool,\n    onSignIn: PropTypes.func,\n    onContinue: PropTypes.func,\n    message: PropTypes.string,\n    continueText: PropTypes.string\n  };\n\n  state = {\n    email: \"\"\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.onSignIn(this.state.email);\n  };\n\n  render() {\n    let contents;\n    if (this.props.authStarted) {\n      contents = (\n        <p>\n          <FormattedMessage className=\"preformatted\" id=\"sign-in.auth-started\" />\n        </p>\n      );\n    } else if (this.props.authComplete) {\n      contents = (\n        <div className={styles.signInComplete}>\n          <p>{this.props.message}</p>\n          <button onClick={this.props.onContinue} className={styles.continueButton}>\n            {this.props.continueText}\n          </button>\n        </div>\n      );\n    } else {\n      contents = (\n        <form onSubmit={this.onSubmit} className={styles.signInForm}>\n          <span>{this.props.message}</span>\n          <input\n            name=\"email\"\n            type=\"email\"\n            required\n            placeholder=\"Your email address\"\n            value={this.state.email}\n            onFocus={e => handleTextFieldFocus(e.target)}\n            onBlur={() => handleTextFieldBlur()}\n            onChange={e => this.setState({ email: e.target.value })}\n            className={styles.emailField}\n          />\n          <p className={styles.terms}>\n            By proceeding, you agree to the{\" \"}\n            <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://github.com/mozilla/hubs/blob/master/TERMS.md\">\n              terms of use\n            </a>{\" \"}\n            and{\" \"}\n            <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://github.com/mozilla/hubs/blob/master/PRIVACY.md\">\n              privacy notice\n            </a>.\n          </p>\n          <button type=\"submit\" className={styles.nextButton}>\n            next\n          </button>\n        </form>\n      );\n    }\n\n    return (\n      <DialogContainer title=\"Sign In\" {...this.props}>\n        {contents}\n      </DialogContainer>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport { WithHoverSound } from \"./wrap-with-audio\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons/faTimes\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nexport default class DialogContainer extends Component {\n  static propTypes = {\n    title: PropTypes.node,\n    children: PropTypes.node.isRequired,\n    onClose: PropTypes.func,\n    closable: PropTypes.bool,\n    wide: PropTypes.bool,\n    className: PropTypes.string\n  };\n\n  static defaultProps = {\n    closable: true\n  };\n\n  constructor(props) {\n    super(props);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onContainerClicked = this.onContainerClicked.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  onKeyDown(e) {\n    if (this.props.closable && e.key === \"Escape\") {\n      this.props.onClose();\n    }\n  }\n\n  onContainerClicked = e => {\n    if (this.props.closable && e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className={classNames(\"dialog-overlay\", this.props.className)}>\n        <div className=\"dialog\" onClick={this.onContainerClicked}>\n          <div className={`dialog__box ${this.props.wide ? \"dialog__wide\" : \"\"} `}>\n            <div className=\"dialog__box__contents\">\n              {this.props.closable &&\n                this.props.onClose && (\n                  <WithHoverSound>\n                    <button className=\"dialog__box__contents__close\" onClick={() => this.props.onClose()}>\n                      <i>\n                        <FontAwesomeIcon icon={faTimes} />\n                      </i>\n                    </button>\n                  </WithHoverSound>\n                )}\n              <div className=\"dialog__box__contents__title\">{this.props.title}</div>\n              <div className=\"dialog__box__contents__body\">{this.props.children}</div>\n              <div className=\"dialog__box__contents__button-container\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import localeData from \"../assets/translations.data.json\";\nconst navigatorLang = ((navigator.languages && navigator.languages[0]) || navigator.language || navigator.userLanguage)\n  .toLowerCase()\n  .split(/[_-]+/)[0];\nexport const lang = (localeData[navigatorLang] && navigatorLang) || \"en\";\nexport const messages = localeData[lang] || localeData.en;\n","export function playVideoWithStopOnBlur(videoEl) {\n  function toggleVideo() {\n    // Play the video if the window/tab is visible.\n    if (document.hasFocus()) {\n      videoEl.play();\n    } else {\n      videoEl.pause();\n    }\n  }\n  if (\"hasFocus\" in document) {\n    document.addEventListener(\"visibilitychange\", toggleVideo);\n    window.addEventListener(\"focus\", toggleVideo);\n    window.addEventListener(\"blur\", toggleVideo);\n  }\n}\n","export default function maskEmail(email) {\n  if (!email) return \"\";\n  const emailParts = email.split(\"@\");\n  const emailIdentity = emailParts[0];\n  const emailDomain = emailParts[1];\n  const truncatedIdentity = emailIdentity.substring(0, Math.min(emailIdentity.length, 3));\n  return `${truncatedIdentity}...@${emailDomain}`;\n}\n","import uuid from \"uuid/v4\";\n\nexport default class AuthChannel {\n  constructor(store) {\n    this.store = store;\n    this.socket = null;\n    this._signedIn = !!this.store.state.credentials.token;\n  }\n\n  setSocket = socket => {\n    this.socket = socket;\n  };\n\n  get email() {\n    return this.store.state.credentials.email;\n  }\n\n  get signedIn() {\n    return this._signedIn;\n  }\n\n  signOut = async hubChannel => {\n    if (hubChannel) {\n      await hubChannel.signOut();\n    }\n    this.store.update({ credentials: { token: null, email: null } });\n    this.store.resetToRandomLegacyAvatar();\n    this._signedIn = false;\n  };\n\n  async startAuthentication(email, hubChannel) {\n    const channel = this.socket.channel(`auth:${uuid()}`);\n    await new Promise((resolve, reject) =>\n      channel\n        .join()\n        .receive(\"ok\", resolve)\n        .receive(\"error\", reject)\n    );\n\n    const authComplete = new Promise(resolve =>\n      channel.on(\"auth_credentials\", async ({ credentials: token }) => {\n        this.store.update({ credentials: { email, token } });\n        if (hubChannel) {\n          await hubChannel.signIn(token);\n        }\n        this._signedIn = true;\n        resolve();\n      })\n    );\n\n    channel.push(\"auth_request\", { email, origin: \"hubs\" });\n\n    // Returning an object with the authComplete promise since we want the caller to wait for the above await but not\n    // for authComplete.\n    return { authComplete };\n  }\n}\n","import { avatars } from \"../assets/avatars/avatars.js\";\n\nconst names = [\n  \"Baers-Pochard\",\n  \"Baikal-Teal\",\n  \"Barrows-Goldeneye\",\n  \"Blue-Billed\",\n  \"Blue-Duck\",\n  \"Blue-Winged\",\n  \"Brown-Teal\",\n  \"Bufflehead\",\n  \"Canvasback\",\n  \"Cape-Shoveler\",\n  \"Chestnut-Teal\",\n  \"Chiloe-Wigeon\",\n  \"Cinnamon-Teal\",\n  \"Comb-Duck\",\n  \"Common-Eider\",\n  \"Common-Goldeneye\",\n  \"Common-Merganser\",\n  \"Common-Pochard\",\n  \"Common-Scoter\",\n  \"Common-Shelduck\",\n  \"Cotton-Pygmy\",\n  \"Crested-Duck\",\n  \"Crested-Shelduck\",\n  \"Eatons-Pintail\",\n  \"Falcated\",\n  \"Ferruginous\",\n  \"Freckled-Duck\",\n  \"Gadwall\",\n  \"Garganey\",\n  \"Greater-Scaup\",\n  \"Green-Pygmy\",\n  \"Grey-Teal\",\n  \"Hardhead\",\n  \"Harlequin\",\n  \"Hartlaubs\",\n  \"Hooded-Merganser\",\n  \"Hottentot-Teal\",\n  \"Kelp-Goose\",\n  \"King-Eider\",\n  \"Lake-Duck\",\n  \"Laysan-Duck\",\n  \"Lesser-Scaup\",\n  \"Long-Tailed\",\n  \"Maccoa-Duck\",\n  \"Mallard\",\n  \"Mandarin\",\n  \"Marbled-Teal\",\n  \"Mellers-Duck\",\n  \"Merganser\",\n  \"Northern-Pintail\",\n  \"Orinoco-Goose\",\n  \"Paradise-Shelduck\",\n  \"Plumed-Whistler\",\n  \"Puna-Teal\",\n  \"Pygmy-Goose\",\n  \"Radjah-Shelduck\",\n  \"Red-Billed\",\n  \"Red-Crested\",\n  \"Red-Shoveler\",\n  \"Ring-Necked\",\n  \"Ringed-Teal\",\n  \"Rosy-Billed\",\n  \"Ruddy-Shelduck\",\n  \"Salvadoris-Teal\",\n  \"Scaly-Sided\",\n  \"Shelduck\",\n  \"Shoveler\",\n  \"Silver-Teal\",\n  \"Smew\",\n  \"Spectacled-Eider\",\n  \"Spot-Billed\",\n  \"Spotted-Whistler\",\n  \"Steamerduck\",\n  \"Stellers-Eider\",\n  \"Sunda-Teal\",\n  \"Surf-Scoter\",\n  \"Tufted-Duck\",\n  \"Velvet-Scoter\",\n  \"Wandering-Whistler\",\n  \"Whistling-duck\",\n  \"White-Backed\",\n  \"White-Cheeked\",\n  \"White-Winged\",\n  \"Wigeon\",\n  \"Wood-Duck\",\n  \"Yellow-Billed\"\n];\n\nfunction selectRandom(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexport function generateRandomName() {\n  return `${selectRandom(names)}-${Math.floor(10000 + Math.random() * 10000)}`;\n}\n\nexport const avatarIds = avatars.map(av => av.id);\n\nexport function generateDefaultProfile() {\n  return {\n    avatarId: selectRandom(avatarIds)\n  };\n}\n","import { Validator } from \"jsonschema\";\nimport merge from \"deepmerge\";\nimport Cookies from \"js-cookie\";\nimport jwtDecode from \"jwt-decode\";\n\nconst LOCAL_STORE_KEY = \"___hubs_store\";\nconst STORE_STATE_CACHE_KEY = Symbol();\nconst OAUTH_FLOW_CREDENTIALS_KEY = \"ret-oauth-flow-account-credentials\";\nconst validator = new Validator();\nimport { EventTarget } from \"event-target-shim\";\nimport { generateDefaultProfile, generateRandomName } from \"../utils/identity.js\";\n\n// Durable (via local-storage) schema-enforced state that is meant to be consumed via forward data flow.\n// (Think flux but with way less incidental complexity, at least for now :))\nexport const SCHEMA = {\n  id: \"/HubsStore\",\n\n  definitions: {\n    profile: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        displayName: { type: \"string\", pattern: \"^[A-Za-z0-9-]{3,32}$\" },\n        avatarId: { type: \"string\" },\n        personalAvatarId: { type: \"string\" }\n      }\n    },\n\n    credentials: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        token: { type: [\"null\", \"string\"] },\n        email: { type: [\"null\", \"string\"] }\n      }\n    },\n\n    activity: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        hasFoundFreeze: { type: \"boolean\" },\n        hasChangedName: { type: \"boolean\" },\n        hasAcceptedProfile: { type: \"boolean\" },\n        lastEnteredAt: { type: \"string\" },\n        hasPinned: { type: \"boolean\" },\n        hasRotated: { type: \"boolean\" },\n        hasRecentered: { type: \"boolean\" },\n        hasScaled: { type: \"boolean\" },\n        hasHoveredInWorldHud: { type: \"boolean\" }\n      }\n    },\n\n    settings: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        lastUsedMicDeviceId: { type: \"string\" }\n      }\n    },\n\n    confirmedDiscordRooms: {\n      type: \"array\",\n      items: { type: \"string\" }\n    },\n\n    uploadPromotionTokens: {\n      type: \"array\",\n      items: {\n        type: \"object\",\n        additionalProperties: false,\n        properties: {\n          fileId: { type: \"string\" },\n          promotionToken: { type: \"string\" }\n        }\n      }\n    },\n\n    creatorAssignmentTokens: {\n      type: \"array\",\n      items: {\n        type: \"object\",\n        additionalProperties: false,\n        properties: {\n          hubId: { type: \"string\" },\n          creatorAssignmentToken: { type: \"string\" }\n        }\n      }\n    }\n  },\n\n  type: \"object\",\n\n  properties: {\n    profile: { $ref: \"#/definitions/profile\" },\n    credentials: { $ref: \"#/definitions/credentials\" },\n    activity: { $ref: \"#/definitions/activity\" },\n    settings: { $ref: \"#/definitions/settings\" },\n    confirmedDiscordRooms: { $ref: \"#/definitions/confirmedDiscordRooms\" },\n    uploadPromotionTokens: { $ref: \"#/definitions/uploadPromotionTokens\" },\n    creatorAssignmentTokens: { $ref: \"#/definitions/creatorAssignmentTokens\" }\n  },\n\n  additionalProperties: false\n};\n\nexport default class Store extends EventTarget {\n  constructor() {\n    super();\n\n    if (localStorage.getItem(LOCAL_STORE_KEY) === null) {\n      localStorage.setItem(LOCAL_STORE_KEY, JSON.stringify({}));\n    }\n    this.update({\n      activity: {},\n      settings: {},\n      credentials: {},\n      profile: {},\n      confirmedDiscordRooms: [],\n      uploadPromotionTokens: [],\n      creatorAssignmentTokens: []\n    });\n\n    const oauthFlowCredentials = Cookies.getJSON(OAUTH_FLOW_CREDENTIALS_KEY);\n    if (oauthFlowCredentials) {\n      this.update({ credentials: oauthFlowCredentials });\n      this.resetToRandomLegacyAvatar();\n      Cookies.remove(OAUTH_FLOW_CREDENTIALS_KEY);\n    }\n  }\n\n  // Initializes store with any default bits\n  init = () => {\n    this.update({\n      profile: { ...generateDefaultProfile(), ...(this.state.profile || {}) }\n    });\n\n    // Regenerate name to encourage users to change it.\n    if (!this.state.activity.hasChangedName) {\n      this.update({ profile: { displayName: generateRandomName() } });\n    }\n  };\n\n  resetToRandomLegacyAvatar = () => {\n    this.update({\n      profile: { ...(this.state.profile || {}), ...generateDefaultProfile() }\n    });\n  };\n\n  get state() {\n    if (!this.hasOwnProperty(STORE_STATE_CACHE_KEY)) {\n      this[STORE_STATE_CACHE_KEY] = JSON.parse(localStorage.getItem(LOCAL_STORE_KEY));\n    }\n\n    return this[STORE_STATE_CACHE_KEY];\n  }\n\n  get credentialsAccountId() {\n    if (this.state.credentials.token) {\n      return jwtDecode(this.state.credentials.token).sub;\n    } else {\n      return null;\n    }\n  }\n\n  resetConfirmedDiscordRooms() {\n    // merge causing us some annoyance here :(\n    const overwriteMerge = (destinationArray, sourceArray) => sourceArray;\n    this.update({ confirmedDiscordRooms: [] }, { arrayMerge: overwriteMerge });\n  }\n\n  resetTipActivityFlags() {\n    this.update({ activity: { hasRotated: false, hasPinned: false, hasRecentered: false, hasScaled: false } });\n  }\n\n  update(newState, mergeOpts) {\n    const finalState = merge(this.state, newState, mergeOpts);\n    const { valid } = validator.validate(finalState, SCHEMA);\n\n    if (!valid) {\n      // Intentionally not including details about the state or validation result here, since we don't want to leak\n      // sensitive data in the error message.\n      throw new Error(`Write to store failed schema validation.`);\n    }\n\n    localStorage.setItem(LOCAL_STORE_KEY, JSON.stringify(finalState));\n    delete this[STORE_STATE_CACHE_KEY];\n\n    this.dispatchEvent(new CustomEvent(\"statechanged\"));\n\n    return finalState;\n  }\n}\n","export const avatars = [\n  {\n    id: \"botdefault\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotDefault_Avatar-9f71f8ff22.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botdefault-thumb-42C4C7D3C01D085EAFDAC8BACE591CE6.png\"\n  },\n  {\n    id: \"botbobo\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotBobo_Avatar-f9740a010b.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botbobo-thumb-261278FD5831E9CD89610D15948F23E4.png\"\n  },\n  {\n    id: \"botdom\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotDom_Avatar-0c48bf15a5.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botdom-thumb-1160EB5E81D24F12CE643C520CE1E99E.png\"\n  },\n  {\n    id: \"botgreg\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotGreg_Avatar-98d39797bb.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botgreg-thumb-F2A37F14F9C342EE44DDE9B24DD9B9FC.png\"\n  },\n  {\n    id: \"botguest\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotGuest_Avatar-78cd857332.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botguest-thumb-F7A471250E2C10C2709325C3B02A8BBB.png\"\n  },\n  {\n    id: \"botjim\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotJim_Avatar-d28005a687.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botjim-thumb-A2D195C1A51A082BCED58BD172481B39.png\"\n  },\n  {\n    id: \"botkev\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotKev_Avatar-a95787bb51.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botkev-thumb-90746A7349E3F964C913EA612EE9A53F.png\"\n  },\n  {\n    id: \"botpinky\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotPinky_Avatar-b0b93f8675.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botpinky-thumb-C2E69D4479077766B988DC3EE4F30BE5.png\"\n  },\n  {\n    id: \"botrobert\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotRobert_Avatar-e9554880f3.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botrobert-thumb-9C33F2C752326E2CF4321EAA7BDB4E47.png\"\n  },\n  {\n    id: \"botwoody\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotWoody_Avatar-0140485a23.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botwoody-thumb-F1F1FA7E21301B5AC1D8872B4ED0CC56.png\"\n  }\n];\n","import screenfull from \"screenfull\";\nimport { showFullScreenIfWasFullScreen } from \"./fullscreen\";\nconst { detect } = require(\"detect-browser\");\n\nconst browser = detect();\nlet isExitingFullscreenDueToFocus = false;\n\n// Utility function that handles a bunch of incidental stuff related to text fields:\n//\n// - On non-mobile platforms, selects the value on focus\n// - If full screen, exits/enters full screen because of firefox full screen issues\nexport function handleTextFieldFocus(target) {\n  if (!window.AFRAME) return;\n  const isMobile = AFRAME.utils.device.isMobile();\n\n  if (screenfull.isFullscreen && !AFRAME.utils.device.isMobileVR() && browser.name === \"firefox\") {\n    // This will prevent focus, but its the only way to avoid getting into a\n    // weird \"firefox reports full screen but actually not\". You end up having to tap\n    // twice to ultimately get the focus.\n    //\n    // We need to keep track of a bit here so that we don't re-full screen when\n    // the text box is blurred by the browser.\n\n    isExitingFullscreenDueToFocus = true;\n    screenfull.exit().then(() => {\n      target.focus();\n    });\n  }\n\n  if (!isMobile) target.select();\n}\n\nexport function handleTextFieldBlur() {\n  // This is the incidental blur event when exiting fullscreen mode on mobile\n  if (isExitingFullscreenDueToFocus) {\n    isExitingFullscreenDueToFocus = false;\n    return;\n  }\n\n  showFullScreenIfWasFullScreen();\n}\n","import Raven from \"raven-js\";\n\nconst ga = window.ga;\n\nexport default function registerTelemetry(trackedPage, trackedTitle) {\n  const sentryDsn = process.env.SENTRY_DSN;\n  const gaTrackingId = process.env.GA_TRACKING_ID;\n\n  if (sentryDsn) {\n    console.log(\"Tracking: Sentry DSN: \" + sentryDsn);\n    Raven.config(sentryDsn).install();\n  }\n\n  if (ga && gaTrackingId) {\n    console.log(\"Tracking: Google Analytics ID: \" + gaTrackingId);\n\n    ga(\"create\", gaTrackingId, \"auto\");\n\n    if (trackedPage) {\n      ga(\"set\", \"page\", trackedPage);\n    }\n\n    if (trackedTitle) {\n      ga(\"set\", \"title\", trackedTitle);\n    }\n\n    ga(\"send\", \"pageview\");\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const ReactAudioContext = React.createContext({});\n\nexport const hudHoverSound = \"play_sound-hud_hover_start\";\n\nexport const WithHoverSound = ({ sound, children }) => {\n  return (\n    <ReactAudioContext.Consumer>\n      {context => {\n        return React.cloneElement(children, {\n          onMouseEnter: e => {\n            if (context && context.playSound) {\n              context.playSound(sound || hudHoverSound);\n            }\n            children.props.onMouseEnter && children.props.onMouseEnter(e);\n          }\n        });\n      }}\n    </ReactAudioContext.Consumer>\n  );\n};\n\nWithHoverSound.propTypes = {\n  children: PropTypes.object,\n  sound: PropTypes.string\n};\n","module.exports = __webpack_public_path__ + \"assets/video/home-aee18c619a9005bd4b0d31295670af80.webm\";","module.exports = __webpack_public_path__ + \"assets/video/home-5af051d2c531928dbaaf51b9badaabde.mp4\";","module.exports = __webpack_public_path__ + \"assets/images/discord-logo-small-2c21aeda16de354ba5334551a883b481.png\";","module.exports = __webpack_public_path__ + \"assets/images/moz-logo-black-b2559c1a75a74dc0e702c9c8d4f9eeae.png\";"],"sourceRoot":""}