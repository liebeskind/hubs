!function(e){function t(t){for(var o,r,s=t[0],l=t[1],c=t[2],d=0,m=[];d<s.length;d++)r=s[d],a[r]&&m.push(a[r][0]),a[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(u&&u(t);m.length;)m.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(o=!1)}o&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},a={7:0},i=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([1461,0]),n()}({1008:function(e,t,n){e.exports=n.p+"assets/images/discord-logo-small-2c21aeda16de354ba5334551a883b481.png"},1009:function(e,t,n){e.exports=n.p+"assets/images/moz-logo-black-b2559c1a75a74dc0e702c9c8d4f9eeae.png"},113:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return s});var o=n(78),a=n.n(o);let i=!1;function r(){(AFRAME.utils.device.isMobile()||AFRAME.utils.device.isMobileVR())&&!AFRAME.utils.device.isIOS()&&a.a.enabled&&(a.a.request(),i=!0)}function s(){i&&!a.a.isFullscreen&&a.a.request()}},1461:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(36),r=n.n(i),s=n(1678),l=n.n(s),c=n(58),u=n(1),d=n.n(u),m=n(4),p=n(121),h=n.n(p),b=n(35),g=n(380),_=(n(864),n(865),n(272),n(1008),n(1009),n(3)),f=n.n(_);const v=[].concat(["/rooms/meetingroom/MeetingRoom.bundle.json","/rooms/atrium/Atrium.bundle.json","/rooms/MedievalFantasyBook/MedievalFantasyBook.bundle.json","/rooms/rooftopbuilding1/RooftopBuilding1.bundle.json","/rooms/wideopenspace/WideOpenSpace.bundle.json"]).map(e=>"https://asset-bundles-prod.reticulum.io"+e);v[0];var y,k,w,E=n(15),S=n(381),x=n(24);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class P extends o.Component{render(){const{authOrigin:e,verifying:t}=this.props,{formatMessage:n}=this.props.intl,o=n(t?{id:"auth.verifying"}:{id:"auth.verified-title"});return a.a.createElement(x.a,C({title:o},this.props),t?a.a.createElement(m.a,{id:"auth.verifying"}):"spoke"===e?a.a.createElement(m.a,{className:"preformatted",id:"auth.spoke-verified"}):a.a.createElement(m.a,{className:"preformatted",id:"auth.verified"}))}}y=P,k="propTypes",w={intl:d.a.object,verifying:d.a.bool,authOrigin:d.a.string},k in y?Object.defineProperty(y,k,{value:w,enumerable:!0,configurable:!0,writable:!0}):y[k]=w;var j=Object(m.d)(P);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class D extends o.Component{render(){return a.a.createElement(x.a,A({title:"Join Us"},this.props),a.a.createElement("span",null,a.a.createElement("p",null,"Join us in the"," ",a.a.createElement("a",{href:"https://discord.gg/wHmY4nd",target:"_blank",rel:"noopener noreferrer"},"Hubs community")," ","on Discord.",a.a.createElement("br",null)),a.a.createElement("p",null,"VR meetups every Friday at noon PDT!"),a.a.createElement("p",null,"You can also follow us on Twitter at"," ",a.a.createElement("a",{href:"https://twitter.com/mozillareality",target:"_blank",rel:"noopener noreferrer"},"@mozillareality"),".")))}}var T=n(7);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class R extends o.Component{render(){return a.a.createElement(x.a,O({title:"Report an Issue"},this.props),a.a.createElement("span",null,a.a.createElement("p",null,"Need to report a problem?"),a.a.createElement("p",null,"You can file a"," ",a.a.createElement(T.b,null,a.a.createElement("a",{href:"https://github.com/mozilla/hubs/issues",target:"_blank",rel:"noopener noreferrer"},"GitHub Issue"))," ","or e-mail us for support at"," ",a.a.createElement(T.b,null,a.a.createElement("a",{href:"mailto:hubs@mozilla.com"},"hubs@mozilla.com"))),a.a.createElement("p",null,"You can also find us on"," ",a.a.createElement(T.b,null,a.a.createElement("a",{href:"https://discord.gg/wHmY4nd",target:"_blank",rel:"noopener noreferrer"},"Discord")))))}}var N=n(175),I=n(866),B=n.n(I);function L(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class F extends o.Component{constructor(...e){super(...e),M(this,"state",{mailingListEmail:"",mailingListPrivacy:!1})}render(){const e=this.props,{onSubmittedEmail:t}=e,n=L(e,["onSubmittedEmail"]);return a.a.createElement(x.a,n,a.a.createElement("span",null,a.a.createElement("p",null,"Sign up to get updates about new features in Hubs."),a.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),e.stopPropagation(),!this.state.mailingListPrivacy)return;const n={email:this.state.mailingListEmail,newsletters:"hubs",privacy:!0,fmt:"H",source_url:document.location.href};await fetch("https://www.mozilla.org/en-US/newsletter/",{body:B()(n),method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"}}).then(t)}},a.a.createElement("div",{className:"mailing-list-form"},a.a.createElement(T.b,null,a.a.createElement("input",{type:"email",value:this.state.mailingListEmail,onChange:e=>this.setState({mailingListEmail:e.target.value}),className:"mailing-list-form__email_field",required:!0,placeholder:"Your email here"})),a.a.createElement("label",{className:"mailing-list-form__privacy"},a.a.createElement(T.b,null,a.a.createElement("input",{className:"mailing-list-form__privacy_checkbox",type:"checkbox",required:!0,value:this.state.mailingListPrivacy,onChange:e=>this.setState({mailingListPrivacy:e.target.checked})})),a.a.createElement("span",{className:"mailing-list-form__privacy_label"},a.a.createElement(m.a,{id:"mailing_list.privacy_label"})," ",a.a.createElement(T.b,null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.mozilla.org/en-US/privacy/"},a.a.createElement(m.a,{id:"mailing_list.privacy_link"}))))),a.a.createElement(T.b,null,a.a.createElement("input",{className:"mailing-list-form__submit",type:"submit",value:"Sign Up Now"}))))))}}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){G(e,t,n[t])})}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}M(F,"propTypes",{onSubmittedEmail:d.a.func}),Object(m.c)([...h.a]);class H extends o.Component{constructor(e){super(e),G(this,"state",{environments:[],dialog:null,signedIn:null,mailingListEmail:"",mailingListPrivacy:!1}),G(this,"showDialog",(e,t={})=>{this.setState({dialog:a.a.createElement(e,Y({onClose:this.closeDialog},t))})}),G(this,"showAuthDialog",e=>{this.showDialog(j,{closable:!1,verifying:e,authOrigin:this.props.authOrigin})}),G(this,"loadHomeVideo",()=>{const e=document.querySelector("#background-video");e&&(e.playbackRate=.9,Object(g.a)(e))}),G(this,"closeDialog",()=>{this.setState({dialog:null})}),G(this,"showJoinUsDialog",()=>this.showDialog(D)),G(this,"showReportDialog",()=>this.showDialog(R)),G(this,"showUpdatesDialog",()=>this.showDialog(F,{onSubmittedEmail:()=>{this.showDialog(a.a.createElement(x.a,null,"Great! Please check your e-mail to confirm your subscription."))}})),G(this,"showSignInDialog",()=>{this.showDialog(N.a,{message:b.b["sign-in.prompt"],onSignIn:async e=>{const{authComplete:t}=await this.props.authChannel.startAuthentication(e);this.showDialog(N.a,{authStarted:!0}),await t,this.setState({signedIn:!0,email:e}),this.closeDialog()}})}),G(this,"signOut",()=>{this.props.authChannel.signOut(),this.setState({signedIn:!1})}),G(this,"loadEnvironmentFromScene",async()=>{let e="/api/v1/scenes";const t=`${e=`https://dev.reticulum.io${e}`}/${this.props.sceneId}`,n=(await fetch(t).then(e=>e.json())).scenes[0],o=n.attribution&&n.attribution.split("\n").join(", "),a=o&&[{organization:{name:o}}];this.setState({environments:[{scene_id:this.props.sceneId,meta:{title:n.name,authors:a,images:[{type:"preview-thumbnail",srcset:n.screenshot_url}]}}]})}),G(this,"loadEnvironments",()=>{const e=[],t=v.map(t=>(async()=>{const n=await fetch(t),o=await n.json();o.bundle_url=t,e.push(o)})());Promise.all(t).then(()=>this.setState({environments:e}))}),G(this,"onLinkClicked",e=>t=>{t.preventDefault(),t.stopPropagation(),e()}),G(this,"launchTour",()=>{Object(E.b)("Hubs Tour","d2SF68V",null,!1)}),this.state.signedIn=e.authChannel.signedIn,this.state.email=e.authChannel.email}componentDidMount(){if(this.props.authVerify)return this.showAuthDialog(!0),void this.verifyAuth().then(this.showAuthDialog);this.props.sceneId?this.loadEnvironmentFromScene():this.loadEnvironments(),this.loadHomeVideo(),this.props.listSignup?this.showUpdatesDialog():this.props.report&&this.showReportDialog()}async verifyAuth(){const e=(await Object(E.a)()).channel(this.props.authTopic);await new Promise((t,n)=>e.join().receive("ok",t).receive("error",n)),e.push("auth_verified",{token:this.props.authToken})}render(){const e=f()({[l.a.mainContent]:!0,[l.a.noninteractive]:!!this.state.dialog});return a.a.createElement(m.b,{locale:b.a,messages:b.b},a.a.createElement("div",{className:l.a.home},a.a.createElement("div",{className:e},a.a.createElement("div",{className:l.a.headerContent},a.a.createElement("div",{className:l.a.titleAndNav,onClick:()=>document.location="/"},!1),a.a.createElement("div",{className:l.a.signIn},this.state.signedIn?a.a.createElement("div",null,a.a.createElement("span",null,a.a.createElement(m.a,{id:"sign-in.as"})," ",Object(S.a)(this.state.email))," ",a.a.createElement("a",{onClick:this.onLinkClicked(this.signOut)},a.a.createElement(m.a,{id:"sign-in.out"}))):a.a.createElement("a",{onClick:this.onLinkClicked(this.showSignInDialog)},a.a.createElement(m.a,{id:"sign-in.in"})))),a.a.createElement("div",{className:l.a.heroContent},a.a.createElement("div",{className:l.a.heroPanel},a.a.createElement("div",{className:l.a.container},a.a.createElement("div",{className:l.a.logo,style:{alignSelf:"center",maxWidth:150,marginBottom:15}},a.a.createElement("img",{src:"https://scontent-lax3-2.xx.fbcdn.net/v/t1.0-9/54268481_418828918875645_3756046202836090880_n.jpg?_nc_cat=105&_nc_ht=scontent-lax3-2.xx&oh=565c73168d488999f10fe235c26e504b&oe=5D5DE7BB"})),a.a.createElement("div",{className:l.a.blurb},a.a.createElement(m.a,{id:"home.hero_blurb"}))),a.a.createElement("div",{className:l.a.ctaButtons},a.a.createElement("button",{className:f()(l.a.primaryButton,l.a.ctaButton),onClick:e=>{e.preventDefault(),Object(E.b)(null,"JGLt8DP",null,!1)}},a.a.createElement(m.a,{id:"home.create_a_room"})))),a.a.createElement("div",{className:f()(l.a.heroPanel,l.a.rightPanel)},!1,a.a.createElement("div",null,a.a.createElement(T.b,null,a.a.createElement("div",{className:l.a.secondaryLink},a.a.createElement("a",{href:"/link"},a.a.createElement(m.a,{id:"home.have_code"})))),!1))),a.a.createElement("div",{className:l.a.footerContent},!1)),this.state.dialog))}}G(H,"propTypes",{intl:d.a.object,sceneId:d.a.string,store:d.a.object,authChannel:d.a.object,authVerify:d.a.bool,authTopic:d.a.string,authToken:d.a.string,authOrigin:d.a.string,listSignup:d.a.bool,report:d.a.bool,initialEnvironment:d.a.string});var V=H,U=n(382),z=n(48);const $=new URLSearchParams(location.search);Object(c.a)("/home","Hubs Home Page");const{pathname:J}=document.location,W=$.get("scene_id")||J.startsWith("/scenes/")&&J.substring(1).split("/")[1];(async()=>{if(null!==$.get("new"))return void Object(E.b)(null,"JGLt8DP",null,!0);const e=new z.b,t=new U.a(e);t.setSocket(await Object(E.a)());const n=a.a.createElement(V,{initialEnvironment:$.get("initial_environment"),sceneId:W||"",store:e,authChannel:t,authVerify:$.has("auth_topic"),authTopic:$.get("auth_topic"),authToken:$.get("auth_token"),authOrigin:$.get("auth_origin"),listSignup:$.has("list_signup"),report:$.has("report")});r.a.render(n,document.getElementById("home-root"))})()},15:function(e,t,n){"use strict";var o=n(104);var a=n(48);n.d(t,"f",function(){return i}),n.d(t,"h",function(){return l}),n.d(t,"g",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"b",function(){return p}),n.d(t,"e",function(){return h}),n.d(t,"i",function(){return b});document.createElement("a");function i(e,t=!1){return`https://dev.reticulum.io${e}`}let r=null,s=!1;async function l(){s=!0,r=null}async function c(){r||(!s&&document.querySelector("meta[name='ret:version']")?r={version:document.querySelector("meta[name='ret:version']").getAttribute("value"),pool:document.querySelector("meta[name='ret:pool']").getAttribute("value"),phx_host:document.querySelector("meta[name='ret:phx_host']").getAttribute("value")}:await fetch(i("/api/v1/meta")).then(async e=>{r=await e.json()}));const e=new URLSearchParams(location.search).get("phx_host");return e&&(r.phx_host=e),r}async function u(e=!1,t=null){const n=new URLSearchParams(location.search),a=async()=>{const e=n.get("phx_protocol")||("https:"===document.location.protocol?"wss:":"ws:");let t=n.get("phx_host"),o=n.get("phx_port");const a=await c();return`${e}//${t=t||a.phx_host}${(o=o||("dev.reticulum.io".includes("hubs.local")?"4000":"443"))?`:${o}`:""}`},i=await a();console.log(`Phoenix Socket URL: ${i}`);const r={};e&&(r.logger=((e,t,n)=>{console.log(`${e}: ${t}`,n)})),t&&(r.params=t);const s=new o.b(`${i}/socket`,r);return s.connect(),s.onError(async()=>{l();const e=new URL(s.endPoint).pathname,t=`${await a()}${e}`;console.log(`Socket error, changed endpoint to ${t}`),s.endPoint=t}),s}function d(e){const t=new URL(e);return i(t.pathname.replace(".png",".html")+t.search,!0)}function m(e,t="GET",n){const{token:o}=window.APP.store.state.credentials,a=i(e),r={headers:{"content-type":"application/json",authorization:`bearer ${o}`},method:t};return n&&(r.body=JSON.stringify(n)),fetch(a,r).then(async e=>{const t=await e.text();try{return JSON.parse(t)}catch(e){return t}})}async function p(e,t,n,o){const r=i("/api/v1/hubs"),s={hub:{name:"Axon Park"}};s.hub.default_environment_gltf_bundle_url="https://s3-us-west-1.amazonaws.com/axonpark/Axon_Park_Cliffside.glb";const l={"content-type":"application/json"},c=new a.b;c.state&&c.state.credentials.token&&(l.authorization=`bearer ${c.state.credentials.token}`);let u=await fetch(r,{body:JSON.stringify(s),headers:l,method:"POST"}).then(e=>e.json());"invalid_token"===u.error&&(c.update({credentials:{token:null,email:null}}),delete l.authorization,u=await fetch(r,{body:JSON.stringify(s),headers:l,method:"POST"}).then(e=>e.json()));const d=u;let m=d.url;const p=d.creator_assignment_token;p&&c.update({creatorAssignmentTokens:[{hubId:d.hub_id,creatorAssignmentToken:p}]}),"dev.reticulum.io"!==document.location.host&&(m=`/hub.html?hub_id=${d.hub_id}`),o?document.location.replace(m):document.location=m}function h(e,t){const n=(Object.entries(e||{}).find(([e])=>e===t)||[])[1];return n&&n.metas&&n.metas[0].profile||{}}function b(e,t,n){const o=t.channel(e.topic,n||e.params);for(let t=0,n=e.bindings.length;t<n;t++){const n=e.bindings[t];o.on(n.event,n.callback)}for(let t=0,n=e.pushBuffer.length;t<n;t++){const n=e.pushBuffer[t];o.push(n.event,n.payload,n.timeout)}const a=e.joinPush,i=o.join();for(let e=0,t=a.recHooks.length;e<t;e++){const t=a.recHooks[e];i.receive(t.status,t.callback)}return new Promise(t=>{i.receive("ok",()=>{e.bindings=[],t(o)})})}},1678:function(e,t){e.exports={"hero-content":"index__hero-content__11fJu",heroContent:"index__hero-content__11fJu","cta-buttons":"index__cta-buttons__3SD-3",ctaButtons:"index__cta-buttons__3SD-3","primary-button":"index__primary-button__r8Kw5",primaryButton:"index__primary-button__r8Kw5","loading-text":"index__loading-text__3tobw",loadingText:"index__loading-text__3tobw",home:"index__home__3xkuf","main-content":"index__main-content__1L8Sf",mainContent:"index__main-content__1L8Sf",noninteractive:"index__noninteractive__3jQRs","header-content":"index__header-content__1XfPi",headerContent:"index__header-content__1XfPi","title-and-nav":"index__title-and-nav__23waG",titleAndNav:"index__title-and-nav__23waG",links:"index__links__p0Llg","sign-in":"index__sign-in__2L8Bu",signIn:"index__sign-in__2L8Bu","video-container":"index__video-container__2Z1bb",videoContainer:"index__video-container__2Z1bb","background-video":"index__background-video__1XJJZ",backgroundVideo:"index__background-video__1XJJZ",container:"index__container__cs00S",logo:"index__logo__2zl0D",blurb:"index__blurb__3k96f","hero-panel":"index__hero-panel__2AEHu",heroPanel:"index__hero-panel__2AEHu","cta-button":"index__cta-button__vTmK6",ctaButton:"index__cta-button__vTmK6",rightPanel:"index__rightPanel__2JG0C","hero-video":"index__hero-video__Yf3bL",heroVideo:"index__hero-video__Yf3bL","have-code":"index__have-code__1EZm-",haveCode:"index__have-code__1EZm-","secondary-link":"index__secondary-link__3gfJB",secondaryLink:"index__secondary-link__3gfJB","footer-content":"index__footer-content__2GrlX",footerContent:"index__footer-content__2GrlX","moz-logo":"index__moz-logo__1ifwj",mozLogo:"index__moz-logo__1ifwj",top:"index__top__1gv9a",link:"index__link__ujnyC",bottom:"index__bottom__2Zyu1"}},1685:function(e,t){e.exports={"email-field":"sign-in-dialog__email-field__g3xRW",emailField:"sign-in-dialog__email-field__g3xRW","next-button":"sign-in-dialog__next-button__2pGtq",nextButton:"sign-in-dialog__next-button__2pGtq","continue-button":"sign-in-dialog__continue-button__kFN6Z",continueButton:"sign-in-dialog__continue-button__kFN6Z","sign-in-form":"sign-in-dialog__sign-in-form__3Muog",signInForm:"sign-in-dialog__sign-in-form__3Muog","sign-in-complete":"sign-in-dialog__sign-in-complete__3JMkv",signInComplete:"sign-in-dialog__sign-in-complete__3JMkv",terms:"sign-in-dialog__terms__3TT6i"}},175:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var o=n(0),a=n.n(o),i=n(1),r=n.n(i),s=n(4),l=n(1685),c=n.n(l),u=n(24),d=n(51);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends o.Component{constructor(...e){super(...e),p(this,"state",{email:""}),p(this,"onSubmit",e=>{e.preventDefault(),e.stopPropagation(),this.props.onSignIn(this.state.email)})}render(){let e;return e=this.props.authStarted?a.a.createElement("p",null,a.a.createElement(s.a,{className:"preformatted",id:"sign-in.auth-started"})):this.props.authComplete?a.a.createElement("div",{className:c.a.signInComplete},a.a.createElement("p",null,this.props.message),a.a.createElement("button",{onClick:this.props.onContinue,className:c.a.continueButton},this.props.continueText)):a.a.createElement("form",{onSubmit:this.onSubmit,className:c.a.signInForm},a.a.createElement("span",null,this.props.message),a.a.createElement("input",{name:"email",type:"email",required:!0,placeholder:"Your email address",value:this.state.email,onFocus:e=>Object(d.b)(e.target),onBlur:()=>Object(d.a)(),onChange:e=>this.setState({email:e.target.value}),className:c.a.emailField}),a.a.createElement("p",{className:c.a.terms},"By proceeding, you agree to the"," ",a.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://github.com/mozilla/hubs/blob/master/TERMS.md"},"terms of use")," ","and"," ",a.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://github.com/mozilla/hubs/blob/master/PRIVACY.md"},"privacy notice"),"."),a.a.createElement("button",{type:"submit",className:c.a.nextButton},"next")),a.a.createElement(u.a,m({title:"Sign In"},this.props),e)}}p(h,"propTypes",{authStarted:r.a.bool,authComplete:r.a.bool,onSignIn:r.a.func,onContinue:r.a.func,message:r.a.string,continueText:r.a.string})},225:function(e,t){},237:function(e,t){},238:function(e,t){},24:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n(0),a=n.n(o),i=n(1),r=n.n(i),s=n(3),l=n.n(s),c=n(7),u=n(85),d=n(18);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.Component{constructor(e){super(e),m(this,"onContainerClicked",e=>{this.props.closable&&e.currentTarget===e.target&&this.props.onClose()}),this.onKeyDown=this.onKeyDown.bind(this),this.onContainerClicked=this.onContainerClicked.bind(this)}componentDidMount(){window.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){window.removeEventListener("keydown",this.onKeyDown)}onKeyDown(e){this.props.closable&&"Escape"===e.key&&this.props.onClose()}render(){return a.a.createElement("div",{className:l()("dialog-overlay",this.props.className)},a.a.createElement("div",{className:"dialog",onClick:this.onContainerClicked},a.a.createElement("div",{className:`dialog__box ${this.props.wide?"dialog__wide":""} `},a.a.createElement("div",{className:"dialog__box__contents"},this.props.closable&&this.props.onClose&&a.a.createElement(c.b,null,a.a.createElement("button",{className:"dialog__box__contents__close",onClick:()=>this.props.onClose()},a.a.createElement("i",null,a.a.createElement(d.a,{icon:u.faTimes})))),a.a.createElement("div",{className:"dialog__box__contents__title"},this.props.title),a.a.createElement("div",{className:"dialog__box__contents__body"},this.props.children),a.a.createElement("div",{className:"dialog__box__contents__button-container"})))))}}m(p,"propTypes",{title:r.a.node,children:r.a.node.isRequired,onClose:r.a.func,closable:r.a.bool,wide:r.a.bool,className:r.a.string}),m(p,"defaultProps",{closable:!0})},272:function(e,t,n){e.exports=n.p+"assets/images/hub-preview-light-no-shadow-5ebb166e8580d819b445892173ec0286.png"},35:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var o=n(43);const a=(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage).toLowerCase().split(/[_-]+/)[0],i=o[a]&&a||"en",r=o[i]||o.en},380:function(e,t,n){"use strict";function o(e){function t(){document.hasFocus()?e.play():e.pause()}"hasFocus"in document&&(document.addEventListener("visibilitychange",t),window.addEventListener("focus",t),window.addEventListener("blur",t))}n.d(t,"a",function(){return o})},381:function(e,t,n){"use strict";function o(e){if(!e)return"";const t=e.split("@"),n=t[0],o=t[1];return`${n.substring(0,Math.min(n.length,3))}...@${o}`}n.d(t,"a",function(){return o})},382:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(444),a=n.n(o);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(e){i(this,"setSocket",e=>{this.socket=e}),i(this,"signOut",async e=>{e&&await e.signOut(),this.store.update({credentials:{token:null,email:null}}),this.store.resetToRandomLegacyAvatar(),this._signedIn=!1}),this.store=e,this.socket=null,this._signedIn=!!this.store.state.credentials.token}get email(){return this.store.state.credentials.email}get signedIn(){return this._signedIn}async startAuthentication(e,t){const n=this.socket.channel(`auth:${a()()}`);await new Promise((e,t)=>n.join().receive("ok",e).receive("error",t));const o=new Promise(o=>n.on("auth_credentials",async({credentials:n})=>{this.store.update({credentials:{email:e,token:n}}),t&&await t.signIn(n),this._signedIn=!0,o()}));return n.push("auth_request",{email:e,origin:"hubs"}),{authComplete:o}}}},43:function(e){e.exports={en:{"auth.verifying":"Verifying...","auth.verified-title":"E-Mail Verified!","auth.verified":"Your email has been verified!\nYou can now close this browser tab and return to Hubs.","auth.spoke-verified":"You email has been verified!\nYou can now close this browser tab and return to Spoke.","sign-in.prompt":"Sign in to pin objects in rooms.","sign-in.auth-started":"Email sent!\n\nTo continue, go click on the link in the email using your phone, tablet, or PC.","sign-in.pin":"You'll need to sign in to pin objects.","sign-in.pin-complete":"You are now signed in.","sign-in.unpin":"You'll need to sign in to un-pin objects.","sign-in.unpin-complete":"You are now signed in.","sign-in.change-scene":"You'll need to sign in to change the scene.","sign-in.change-scene-complete":"You are now signed in.","sign-in.rename-room":"You'll need to sign in to rename axon park.","sign-in.rename-room-complete":"You are now signed in.","sign-in.close-room":"You'll need to sign in to close axon park.","sign-in.close-room-complete":"You are now signed in.","sign-in.mute-user":"You'll need to sign in to mute other users.","sign-in.mute-user-complete":"You are now signed in.","sign-in.kick-user":"You'll need to sign in to kick other users.","sign-in.kick-user-complete":"You are now signed in.","sign-in.create-avatar":"You'll need to sign in to create avatars.","sign-in.create-avatar-complete":"You are now signed in.","sign-in.as":"Signed in as","sign-in.in":"Sign In","sign-in.out":"Sign Out","rename-room.message":"Enter the new name for axon park.","rename-room.rename":"Rename Axon Park","close-room.message":"Closing this room will remove yourself and others from axon park, shutting it down permanently.\n\nAre you sure? This action cannot be undone.","close-room.confirm":"Yes, Close Axon Park","close-room.cancel":"Cancel","entry.room":"Immersive Education","entry.enter-room-title":"Lobby","entry.enter-room":"enter or send to device","entry.leave-room":"Leave Axon Park","entry.change-scene":"Choose a Scene","entry.in-lobby-notice":"You are viewing Axon Park from the lobby.","entry.screen-prefix":"Enter on ","entry.desktop-screen":"Screen","entry.mobile-screen":"Phone","entry.mobile-safari":"Safari","entry.generic-prefix":" ","entry.generic-medium":"Connected VR Headset","entry.generic-subtitle-desktop":"Oculus or SteamVR","entry.gearvr-prefix":"Enter on ","entry.gearvr-medium":"Gear VR","entry.choose-device":"Choose Device","entry.device-prefix-desktop":" ","entry.device-prefix-mobile":" ","entry.device-medium":"Send to Device","entry.device-subtitle-desktop":"Standalone VR or Phone","entry.device-subtitle-mobile":"Standalone VR or PC","entry.device-subtitle-vr":"Phone or PC","entry.cardboard":"Enter on Google Cardboard","entry.daydream-prefix":"Enter on ","entry.daydream-medium":"Daydream","entry.daydream-via-chrome":"Using Google Chrome","entry.invite-others":"invite others","entry.invite-others-nag":"invite","entry.invite-team-nag":"Invite a hubs team member","entry.enable-screen-sharing":"Share my desktop","entry.return-to-vr":"Return to VR","entry.enter-in-vr":"Enter in VR","entry.lobby":"Lobby","entry.back":"Back","entry.notify_me":"Notify me when others are here","entry.mute-on-entry":"Mute my microphone","profile.save":"Accept","profile.display_name.validation_warning":"Alphanumerics and hyphens. At least 3 characters, no more than 32","profile.header":"Name & Avatar","profile.avatar-selector.loading":"Loading Avatars...","profile.terms_of_use":"Terms of Use","profile.privacy_notice":"Privacy Notice","profile.choose_avatar":"Choose an Avatar","profile.tabs.legacy":"Default","profile.tabs.skinnable":"Custom Skin","profile.tabs.url":"Custom Model","profile.info":"Resources for creating custom avatar models can be found","profile.info-link":"here","avatar-editor.info":"Resources for creating custom avatar skins can be found","avatar-editor.info-link":"here","media-browser.search-placeholder.scenes":"Search Scenes...","media-browser.search-placeholder.avatars":"Search Avatars...","media-browser.search-placeholder.videos":"Search the web...","media-browser.search-placeholder.images":"Search the web...","media-browser.search-placeholder.youtube":"Search for videos...","media-browser.search-placeholder.gifs":"Search for GIFs...","media-browser.search-placeholder.twitch":"Search for streams...","media-browser.search-placeholder.sketchfab":"Search for models...","media-browser.search-placeholder.poly":"Search for models...","media-browser.search-placeholder.base":"Search...","media-browser.add_custom_object":"Custom URL or File","media-browser.add_custom_scene":"Custom Scene","media-browser.add_custom_avatar":"Avatar GLB URL","media-browser.privacy_policy":"Privacy Policy","media-browser.spoke":"Spoke","media-browser.report_issue":"Report Issue","media-browser.powered_by.images":"Search by Bing | ","media-browser.powered_by.videos":"Search by Bing | ","media-browser.powered_by.youtube":"Search by Google | ","media-browser.powered_by.gifs":"Search by Tenor | ","media-browser.powered_by.sketchfab":"Search by Sketchfab | ","media-browser.powered_by.poly":"Search by Google | ","media-browser.powered_by.twitch":"Search by Twitch | ","media-browser.powered_by.scenes":"Made with ","media-browser.powered_by.avatars":" ","media-browser.nav_title.youtube":"YouTube","media-browser.nav_title.videos":"Videos","media-browser.nav_title.images":"Images","media-browser.nav_title.gifs":"GIFs","media-browser.nav_title.scenes":"Scenes","media-browser.nav_title.avatars":"Avatars","media-browser.nav_title.sketchfab":"Sketchfab","media-browser.nav_title.poly":"Google Poly","media-browser.nav_title.twitch":"Twitch","media-browser.create-avatar":"Create Avatar","media-browser.create-scene":"Create Scene with Spoke","audio.title":"Audio Setup","audio.talk_to_test":"talk","audio.click_to_test":"click","audio.subtitle-desktop":"Confirm HMD speaker output","audio.subtitle-mobile":"Earphones are recommended","audio.enter-now":"Enter Now","audio.hmd-mic-warning":"Your HMD mic is not chosen","audio.grant-title":"Grant mic permissions","audio.grant-subtitle":"Mic access needed to be heard by others","audio.granted-title":"Mic permissions granted","audio.granted-subtitle":"You can still mute yourself in-game","audio.granted-next":"Next","exit.subtitle.exited":"Your session has ended. Refresh your browser to start a new one.","exit.subtitle.closed":"This room is no longer available.","exit.subtitle.denied":"You are not permitted to join this room. Please request permission from the room creator.","exit.subtitle.kicked":"You have been kicked from axon park.","exit.subtitle.left":"You have left axon park.","exit.subtitle.full":"This room is full, please try again later.","exit.subtitle.connect_error":"Unable to connect to this room, please try again later.","exit.subtitle.version_mismatch":"The version you deployed is not available yet. Your browser will refresh in 5 seconds.","autoexit.title":"Auto-ending session in ","autoexit.title_units":" seconds","autoexit.subtitle":"You have started another session.","autoexit.cancel":"CANCEL","presence.entered_room":"entered axon park.","presence.entered_lobby":"entered axon park's lobby.","presence.join_lobby":"joined the axon park lobby.","presence.join_room":"joined axon park.","presence.leave":"left.","presence.name_change":"is now known as","presence.scene_change":"changed the scene to","presence.hub_name_change":"changed the name of the room to","presence.in_lobby":"Axon Park Lobby","presence.in_room":"In Axon Park","home.create_a_room":"Initialize Axon Park","home.take_a_tour":"Take a Tour","home.room_create_options":"options","home.room_create_button":"Initialize Axon Park","home.create_name.validation_warning":"Invalid name, limited to 4 to 64 characters and limited symbols.","home.join_us":"Join the Conversation","home.have_code":"Have an axon park code?","home.add_to_discord_1":"Add the","home.add_to_discord_2":"Hubs Bot","home.add_to_discord_3":"to Discord","home.create_with_spoke":"Create a Scene","home.report_issue":"Report Issues","home.source_link":"Source","home.whats_new_link":"What's New","home.spoke_link":"Spoke","home.about_link":"About","home.community_link":"Community","home.privacy_notice":"Privacy Notice","home.terms_of_use":"Terms of Use","home.get_updates":"Get Updates","home.hero_title":"A new way to get together","home.hero_blurb":"The future of learning is virtual.\nEqualizing access to premier quality education.","home.made_with_love":"made with ðŸ¦† by ","home.environment_author_by":" by ","dialog.close":"close","mailing_list.privacy_label":"I'm okay with Mozilla handling my info as explained in","mailing_list.privacy_link":"this Privacy Notice","link.link_page_header_entry":"Enter your code:","link.link_page_header_headset":"Enter Send to Device code:","link.linking_a_headset":"Have a letter code?","link.try_again":"We couldn't find that code.\nPlease try again.","help.report_issue":"Report an Issue","scene.logo_tagline":"A new way to get together","scene.create_button":"Create a room with this scene","scene.tweet_button":"Share on Twitter","scene.unavailable":"This scene is no longer available.","link.in_your_browser":"In your device's browser, go to:","link.enter_code":"Then, enter this one-time code:","link.do_not_close":"Your account and avatar will be transferred to the device.\nKeep this page open to use this code.","link.connect_headset":"Send to Device","link.cancel":"cancel","invite.enter_via":"Enter via ","invite.enter_via_modal":"Others may enter via ","invite.tweet":"tweet","invite.and_enter_code":" with code:","invite.or_visit":"or share permalink","invite.or_visit_modal":"or by visiting permalink","spoke.primary_tagline":"make your space","spoke.secondary_tagline":"Create 3D social scenes for ","spoke.thank_you":"Thank you for downloading Spoke!","spoke.download_win":"Download for Windows","spoke.download_macos":"Download for Mac","spoke.download_linux":"Download for Linux","spoke.download_unsupported":"View Releases","spoke.browse_all_versions":"Browse All Versions","spoke.beginner_tutorial_button":"Learn Spoke in 5 Minutes","spoke.advanced_tutorial_button":"Advanced Spoke in 10 minutes","spoke.play_button":"Learn Spoke in 5 Minutes","commands.fly":"Toggle fly mode.","commands.grow":"Increase your avatar's size.","commands.shrink":"Decrease your avatar's size.","commands.scene":"Change the scene.","commands.rename":"Rename the room.","commands.help":"Show help.","commands.leave":"Disconnect from axon park.","commands.duck":"The duck tested well. Quack.","commands.debug":"Toggle physics debug rendering.","settings.change-avatar":"Set Name & Avatar","settings.change-scene":"Choose a Scene","settings.rename-room":"Set Axon Park Name...","settings.close-room":"Close Axon Park...","settings.room-info":"Axon Park Info","settings.create-room":"New Axon Park...","settings.create-scene":"Get Spoke","settings.send-feedback":"Send Feedback","settings.whats-new":"What's New","settings.features":"Help","settings.controls":"Controls","settings.community":"Join Discord","settings.tips":"Show Tips","settings.report":"Report Issue","settings.terms":"Terms of Use","settings.privacy":"Privacy Notice","settings.help":"Help","settings.row-profile":"Profile","settings.row-room":"Axon Park","tips.mobile.video_share_mode":"Tap to stop sharing video.","tips.mobile.pen_mode":"Tap icon again to end drawing.","tips.mobile.mute_mode":"You are muted. Tap to unmute.","tips.mobile.freeze_mode":"Two-finger tap to hide menus.","tips.mobile.look":"Welcome! ðŸ‘‹ Tap and drag to look around.","tips.mobile.locomotion":"Great! To move, pinch with two fingers.","tips.mobile.spawn_menu-pre":"Use the ","tips.mobile.spawn_menu-post":"at the top to create objects.","tips.mobile.freeze_gesture":"Two-finger tap to show menus.","tips.mobile.object_grab":"Drag an object to move or throw it.","tips.mobile.object_rotate_button-pre":"Tap and drag ","tips.mobile.object_rotate_button-post":" to rotate.","tips.mobile.object_scale_button-pre":"Tap and drag ","tips.mobile.object_scale_button-post":" to scale.","tips.mobile.object_recenter_button-pre":"Tap ","tips.mobile.object_recenter_button-post":" to have the object face you.","tips.mobile.object_pin":"Pin an object to save it to axon park.","tips.mobile.invite":"Use the Invite button to share axon park.","tips.desktop.video_share_mode":"You're streaming. Select again to stop sharing video.","tips.desktop.pen_mode":"Press ESC or right click to drop pen. Ctrl-Z to undo.","tips.desktop.mirror_mode":"Press ESC to end camera mirroring.","tips.desktop.mute_mode":"You are muted. Click or press M to un-mute.","tips.desktop.look":"Welcome to Hubs! ðŸ‘‹ Click and drag to look around.","tips.desktop.locomotion":"Great! Now, use the W A S D keys to move. Hold shift to boost.","tips.desktop.turning":"Perfect. Use the Q and E keys to rotate.","tips.desktop.spawn_menu-pre":"To create objects, click the ","tips.desktop.spawn_menu-post":"button at the top of the screen, or press Ctrl 1 through 7.","tips.desktop.freeze_gesture":"Press and hold spacebar to show object menus.","tips.desktop.menu_hover":"Now, point the cursor at an object to show the menu.","tips.desktop.object_grab":"Click and drag an object to move it. Or, flick to throw it!","tips.desktop.object_pin":"Pin an object to save it to axon park.","tips.desktop.object_zoom":"Scroll to move this object towards and away from you.","tips.desktop.object_rotate_button-pre":"Click and drag ","tips.desktop.object_rotate_button-post":" to rotate the object.","tips.desktop.object_scale_button-pre":"Click and drag ","tips.desktop.object_scale_button-post":" to scale the object.","tips.desktop.object_recenter_button-pre":"Click ","tips.desktop.object_recenter_button-post":" to rotate the object to face you. Helpful if you drop it!","tips.desktop.object_scale":"Hold shift and scroll to scale it bigger and smaller.","tips.desktop.pen_color":"Use Shift-Q and Shift-E to change the pen color.","tips.desktop.pen_size":"Hold Shift and scroll to change the pen size.","tips.desktop.invite":"Nobody else is here. Use the Invite button at the top to share this room.","loader.entering_lobby":"Entering lobby...","loader.loading":"Loading ","loader.object":"object","loader.objects":"objects","change-scene-dialog.change-scene":"Change Scene","change-scene-dialog.create-in-spoke":"Or, create a new scene using Spoke.","change-scene-dialog.new-spoke-project":"Launch Spoke","avatar-url-dialog.apply":"Apply","interstitial.prompt":"Continue","feedback.prompt":"Feedback","discord.primary_tagline":"Share a virtual room with your community.\nWatch videos, play with 3D objects, or just hang out.","discord.secondary_tagline":"No downloads or sign up. Full VR support too.","discord.contact_us":"Request Beta Invite","discord.community_link":"Hubs Discord","discord.splash_tag":"Designed for serious businessing.","client-info.kick-button":"Kick","client-info.hide-button":"Hide","client-info.unhide-button":"Un-hide ","client-info.mute-button":"Mute","client-info.cancel":"Cancel"}}},48:function(e,t,n){"use strict";var o=n(135),a=n(93),i=n(70),r=n.n(i),s=n(112),l=n.n(s),c=n(68),u=n(49);const d=["Baers-Pochard","Baikal-Teal","Barrows-Goldeneye","Blue-Billed","Blue-Duck","Blue-Winged","Brown-Teal","Bufflehead","Canvasback","Cape-Shoveler","Chestnut-Teal","Chiloe-Wigeon","Cinnamon-Teal","Comb-Duck","Common-Eider","Common-Goldeneye","Common-Merganser","Common-Pochard","Common-Scoter","Common-Shelduck","Cotton-Pygmy","Crested-Duck","Crested-Shelduck","Eatons-Pintail","Falcated","Ferruginous","Freckled-Duck","Gadwall","Garganey","Greater-Scaup","Green-Pygmy","Grey-Teal","Hardhead","Harlequin","Hartlaubs","Hooded-Merganser","Hottentot-Teal","Kelp-Goose","King-Eider","Lake-Duck","Laysan-Duck","Lesser-Scaup","Long-Tailed","Maccoa-Duck","Mallard","Mandarin","Marbled-Teal","Mellers-Duck","Merganser","Northern-Pintail","Orinoco-Goose","Paradise-Shelduck","Plumed-Whistler","Puna-Teal","Pygmy-Goose","Radjah-Shelduck","Red-Billed","Red-Crested","Red-Shoveler","Ring-Necked","Ringed-Teal","Rosy-Billed","Ruddy-Shelduck","Salvadoris-Teal","Scaly-Sided","Shelduck","Shoveler","Silver-Teal","Smew","Spectacled-Eider","Spot-Billed","Spotted-Whistler","Steamerduck","Stellers-Eider","Sunda-Teal","Surf-Scoter","Tufted-Duck","Velvet-Scoter","Wandering-Whistler","Whistling-duck","White-Backed","White-Cheeked","White-Winged","Wigeon","Wood-Duck","Yellow-Billed"];function m(e){return e[Math.floor(Math.random()*e.length)]}const p=u.a.map(e=>e.id);function h(){return{avatarId:m(p)}}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){g(e,t,n[t])})}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return k}),n.d(t,"b",function(){return w});const _="___hubs_store",f=Symbol(),v="ret-oauth-flow-account-credentials",y=new o.Validator,k={id:"/HubsStore",definitions:{profile:{type:"object",additionalProperties:!1,properties:{displayName:{type:"string",pattern:"^[A-Za-z0-9-]{3,32}$"},avatarId:{type:"string"},personalAvatarId:{type:"string"}}},credentials:{type:"object",additionalProperties:!1,properties:{token:{type:["null","string"]},email:{type:["null","string"]}}},activity:{type:"object",additionalProperties:!1,properties:{hasFoundFreeze:{type:"boolean"},hasChangedName:{type:"boolean"},hasAcceptedProfile:{type:"boolean"},lastEnteredAt:{type:"string"},hasPinned:{type:"boolean"},hasRotated:{type:"boolean"},hasRecentered:{type:"boolean"},hasScaled:{type:"boolean"},hasHoveredInWorldHud:{type:"boolean"}}},settings:{type:"object",additionalProperties:!1,properties:{lastUsedMicDeviceId:{type:"string"}}},confirmedDiscordRooms:{type:"array",items:{type:"string"}},uploadPromotionTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{fileId:{type:"string"},promotionToken:{type:"string"}}}},creatorAssignmentTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{hubId:{type:"string"},creatorAssignmentToken:{type:"string"}}}}},type:"object",properties:{profile:{$ref:"#/definitions/profile"},credentials:{$ref:"#/definitions/credentials"},activity:{$ref:"#/definitions/activity"},settings:{$ref:"#/definitions/settings"},confirmedDiscordRooms:{$ref:"#/definitions/confirmedDiscordRooms"},uploadPromotionTokens:{$ref:"#/definitions/uploadPromotionTokens"},creatorAssignmentTokens:{$ref:"#/definitions/creatorAssignmentTokens"}},additionalProperties:!1};class w extends c.a{constructor(){super(),g(this,"init",()=>{this.update({profile:b({},h(),this.state.profile||{})}),this.state.activity.hasChangedName||this.update({profile:{displayName:`${m(d)}-${Math.floor(1e4+1e4*Math.random())}`}})}),g(this,"resetToRandomLegacyAvatar",()=>{this.update({profile:b({},this.state.profile||{},h())})}),null===localStorage.getItem(_)&&localStorage.setItem(_,JSON.stringify({})),this.update({activity:{},settings:{},credentials:{},profile:{},confirmedDiscordRooms:[],uploadPromotionTokens:[],creatorAssignmentTokens:[]});const e=r.a.getJSON(v);e&&(this.update({credentials:e}),this.resetToRandomLegacyAvatar(),r.a.remove(v))}get state(){return this.hasOwnProperty(f)||(this[f]=JSON.parse(localStorage.getItem(_))),this[f]}get credentialsAccountId(){return this.state.credentials.token?l()(this.state.credentials.token).sub:null}resetConfirmedDiscordRooms(){this.update({confirmedDiscordRooms:[]},{arrayMerge:(e,t)=>t})}resetTipActivityFlags(){this.update({activity:{hasRotated:!1,hasPinned:!1,hasRecentered:!1,hasScaled:!1}})}update(e,t){const n=Object(a.default)(this.state,e,t),{valid:o}=y.validate(n,k);if(!o)throw new Error("Write to store failed schema validation.");return localStorage.setItem(_,JSON.stringify(n)),delete this[f],this.dispatchEvent(new CustomEvent("statechanged")),n}}},49:function(e,t,n){"use strict";n.d(t,"a",function(){return o});const o=[{id:"botdefault",model:"https://asset-bundles-prod.reticulum.io/bots/BotDefault_Avatar-9f71f8ff22.gltf",thumbnail:"https://asset-bundles-prod.reticulum.io/bots/botdefault-thumb-42C4C7D3C01D085EAFDAC8BACE591CE6.png"},{id:"botbobo",model:"https://asset-bundles-prod.reticulum.io/bots/BotBobo_Avatar-f9740a010b.gltf",thumbnail:"https://asset-bundles-prod.reticulum.io/bots/botbobo-thumb-261278FD5831E9CD89610D15948F23E4.png"},{id:"botdom",model:"https://asset-bundles-prod.reticulum.io/bots/BotDom_Avatar-0c48bf15a5.gltf",thumbnail:"https://asset-bundles-prod.reticulum.io/bots/botdom-thumb-1160EB5E81D24F12CE643C520CE1E99E.png"},{id:"botgreg",model:"https://asset-bundles-prod.reticulum.io/bots/BotGreg_Avatar-98d39797bb.gltf",thumbnail:"https://asset-bundles-prod.reticulum.io/bots/botgreg-thumb-F2A37F14F9C342EE44DDE9B24DD9B9FC.png"},{id:"botguest",model:"https://asset-bundles-prod.reticulum.io/bots/BotGuest_Avatar-78cd857332.gltf",thumbnail:"https://asset-bundles-prod.reticulum.io/bots/botguest-thumb-F7A471250E2C10C2709325C3B02A8BBB.png"},{id:"botjim",model:"https://asset-bundles-prod.reticulum.io/bots/BotJim_Avatar-d28005a687.gltf",thumbnail:"https://asset-bundles-prod.reticulum.io/bots/botjim-thumb-A2D195C1A51A082BCED58BD172481B39.png"},{id:"botkev",model:"https://asset-bundles-prod.reticulum.io/bots/BotKev_Avatar-a95787bb51.gltf",thumbnail:"https://asset-bundles-prod.reticulum.io/bots/botkev-thumb-90746A7349E3F964C913EA612EE9A53F.png"},{id:"botpinky",model:"https://asset-bundles-prod.reticulum.io/bots/BotPinky_Avatar-b0b93f8675.gltf",thumbnail:"https://asset-bundles-prod.reticulum.io/bots/botpinky-thumb-C2E69D4479077766B988DC3EE4F30BE5.png"},{id:"botrobert",model:"https://asset-bundles-prod.reticulum.io/bots/BotRobert_Avatar-e9554880f3.gltf",thumbnail:"https://asset-bundles-prod.reticulum.io/bots/botrobert-thumb-9C33F2C752326E2CF4321EAA7BDB4E47.png"},{id:"botwoody",model:"https://asset-bundles-prod.reticulum.io/bots/BotWoody_Avatar-0140485a23.gltf",thumbnail:"https://asset-bundles-prod.reticulum.io/bots/botwoody-thumb-F1F1FA7E21301B5AC1D8872B4ED0CC56.png"}]},51:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var o=n(78),a=n.n(o),i=n(113);const{detect:r}=n(133),s=r();let l=!1;function c(e){if(!window.AFRAME)return;const t=AFRAME.utils.device.isMobile();a.a.isFullscreen&&!AFRAME.utils.device.isMobileVR()&&"firefox"===s.name&&(l=!0,a.a.exit().then(()=>{e.focus()})),t||e.select()}function u(){l?l=!1:Object(i.b)()}},58:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(83),a=n.n(o);const i=window.ga;function r(e,t){const n={NODE_ENV:"production",DEFAULT_SCENE_SID:"JGLt8DP",RETICULUM_SERVER:"dev.reticulum.io",FARSPARK_SERVER:"farspark-dev.reticulum.io",NON_CORS_PROXY_DOMAINS:"hubs.local,dev.reticulum.io",ASSET_BUNDLE_SERVER:"https://asset-bundles-prod.reticulum.io",EXTRA_ENVIRONMENTS:"",POSTGREST_SERVER:"hubs.local:3000"}.SENTRY_DSN,o={NODE_ENV:"production",DEFAULT_SCENE_SID:"JGLt8DP",RETICULUM_SERVER:"dev.reticulum.io",FARSPARK_SERVER:"farspark-dev.reticulum.io",NON_CORS_PROXY_DOMAINS:"hubs.local,dev.reticulum.io",ASSET_BUNDLE_SERVER:"https://asset-bundles-prod.reticulum.io",EXTRA_ENVIRONMENTS:"",POSTGREST_SERVER:"hubs.local:3000"}.GA_TRACKING_ID;n&&(console.log("Tracking: Sentry DSN: "+n),a.a.config(n).install()),i&&o&&(console.log("Tracking: Google Analytics ID: "+o),i("create",o,"auto"),e&&i("set","page",e),t&&i("set","title",t),i("send","pageview"))}},7:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return l});var o=n(0),a=n.n(o),i=n(1),r=n.n(i);const s=a.a.createContext({}),l=({sound:e,children:t})=>a.a.createElement(s.Consumer,null,n=>a.a.cloneElement(t,{onMouseEnter:o=>{n&&n.playSound&&n.playSound(e||"play_sound-hud_hover_start"),t.props.onMouseEnter&&t.props.onMouseEnter(o)}}));l.propTypes={children:r.a.object,sound:r.a.string}},864:function(e,t,n){e.exports=n.p+"assets/video/home-aee18c619a9005bd4b0d31295670af80.webm"},865:function(e,t,n){e.exports=n.p+"assets/video/home-5af051d2c531928dbaaf51b9badaabde.mp4"}});
//# sourceMappingURL=index-32a2775a21f3438958e9.js.map