{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utils/phoenix-utils.js","webpack:///./src/utils/history.js","webpack:///./src/utils/fullscreen.js","webpack:///./src/assets/video/home.webm","webpack:///./src/assets/video/home.mp4","webpack:///./src/assets/images/discord-logo-small.png","webpack:///./src/assets/images/moz-logo-black.png","webpack:///./src/react-components/state-link.js","webpack:///./src/utils/media-url-utils.js","webpack:///./src/airtable.js","webpack:///./src/assets/environments/environments.js","webpack:///./src/utils/is-mobile.js","webpack:///./src/react-components/auth-dialog.js","webpack:///./src/react-components/join-us-dialog.js","webpack:///./src/react-components/report-dialog.js","webpack:///./src/react-components/updates-dialog.js","webpack:///./src/react-components/home-root.js","webpack:///./src/index.js","webpack:///./src/react-components/dialog-container.js","webpack:///./src/react-components/sign-in-dialog.js","webpack:///./src/assets/stylesheets/index.scss","webpack:///./src/assets/stylesheets/media-browser.scss","webpack:///./src/assets/stylesheets/sign-in-dialog.scss","webpack:///./src/axonpark/messages.js","webpack:///./src/utils/i18n.js","webpack:///./src/assets/images/hub-preview-light-no-shadow.png","webpack:///./src/utils/auth-channel.js","webpack:///./src/utils/video-utils.js","webpack:///./src/utils/mask-email.js","webpack:///./src/react-components/media-tiles.js","webpack:///./src/utils/identity.js","webpack:///./src/storage/store.js","webpack:///./src/utils/focus-utils.js","webpack:///./src/assets/avatars/avatars.js","webpack:///./src/telemetry.js","webpack:///./src/react-components/wrap-with-audio.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","7","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","document","createElement","getReticulumFetchUrl","path","absolute","reticulumMeta","invalidatedReticulumMetaThisSession","invalidateReticulumMeta","_invalidateReticulumMeta","this","arguments","getReticulumMeta","_getReticulumMeta","querySelector","version","getAttribute","pool","phx_host","fetch","then","_ref2","_asyncToGenerator","res","json","_x6","phxHostOverride","URLSearchParams","location","search","connectToReticulum","_connectToReticulum","debug","params","qs","getNewSocketUrl","_ref3","socketProtocol","protocol","socketHost","socketPort","process","RETICULUM_SOCKET_SERVER","URL","port","socketUrl","console","log","socketSettings","logger","kind","msg","socket","Socket","connect","onError","endPointPath","endPoint","pathname","newEndPoint","getLandingPageForPhoto","photoUrl","parsedUrl","replace","fetchReticulumAuthenticated","url","method","payload","token","APP","store","state","credentials","retUrl","headers","content-type","authorization","body","JSON","stringify","_ref","text","parse","e","_x","createAndRedirectToNewHub","_x2","_x3","_x4","_x5","_createAndRedirectToNewHub","sceneId","sceneUrl","createUrl","assets","Name","SceneUrl","record","airtableAssets","find","fields","hub","default_environment_gltf_bundle_url","Store","error","update","email","creatorAssignmentToken","creator_assignment_token","creatorAssignmentTokens","hubId","hub_id","embedToken","embed_token","embedTokens","host","getPresenceEntryForSession","presences","sessionId","presence","entries","k","metas","getPresenceContextForSession","context","getPresenceProfileForSession","profile","migrateChannelToSocket","oldChannel","channel","topic","bindings","item","on","event","callback","pushBuffer","timeout","oldJoinPush","joinPush","join","recHooks","receive","status","Promise","resolve","discordBridgesForPresences","channels","values","discordBridges","Array","map","b","pushOrUpdateHistory","history","v","detail","newPathname","newSearch","newLength","__historyLength","_objectSpread","__duplicate","undefined","isDuplicate","pushHistoryState","replaceHistoryState","pushHistoryPath","clearHistoryState","popToBeginningOfHubHistory","navigateToPriorPage","len","unsubscribe","listen","go","sluglessPath","split","withSlug","__webpack_exports__","willRequireUserGesture","showFullScreenIfAvailable","showFullScreenIfWasFullScreen","screenfull__WEBPACK_IMPORTED_MODULE_0__","screenfull__WEBPACK_IMPORTED_MODULE_0___default","hasEnteredFullScreenThisSession","shouldShowFullScreen","AFRAME","utils","device","isMobile","isMobileVR","isIOS","screenfull","enabled","isFullscreen","request","StateLink","React","Component","handleClick","_this","props","onClick","defaultPrevented","button","target","metaKey","altKey","ctrlKey","shiftKey","isModifiedEvent","preventDefault","stateKey","stateValue","stateDetail","render","innerRef","className","children","react__WEBPACK_IMPORTED_MODULE_0___default","a","href","ref","PropTypes","bool","string","func","node","scaledThumbnailUrlFor","proxiedUrlFor","getCustomGLTFParserURLResolver","guessContentType","isHubsSceneUrl","isHubsRoomUrl","isHubsDestinationUrl","isHubsAvatarUrl","nonCorsProxyDomains","CORS_PROXY_SERVER","commonKnownContentTypes","gltf","glb","png","jpg","jpeg","pdf","mp4","mp3","farsparkEncodeUrl","str","btoa","encodeURIComponent","_","p1","String","fromCharCode","b64EncodeUnicode","width","height","urlHostname","hostname","index","startsWith","hasIndex","domain","endsWith","gltfUrl","test","corsProxyPrefix","originalUrlParts","decodeURIComponent","substring","dataUrlRegex","matches","match","extension","pop","hubsSceneRegex","hubsAvatarRegex","hubsRoomRegex","Airtable","configure","endpointUrl","apiKey","base","airtableAssetsInitialState","DarkLogo","Icon","airtableMessages","select","view","firstPage","err","records","ENVIRONMENT_URLS","concat","x","_isMobile","navigator","userAgent","vendor","opera","substr","platform","mockUserAgent","isTablet","AuthDialog","authOrigin","verifying","formatMessage","intl","title","id","react_default","dialog_container","_extends","closable","index_es","injectIntl","JoinUsDialog","join_us_dialog_extends","rel","ReportDialog","report_dialog_extends","wrap_with_audio","UpdatesDialog","[object Object]","args","super","updates_dialog_defineProperty","mailingListEmail","mailingListPrivacy","_this$props","onSubmittedEmail","other","_objectWithoutProperties","signUpForMailingList","stopPropagation","newsletters","privacy","fmt","source_url","formurlencoded","onSubmit","type","onChange","setState","required","placeholder","checked","addLocaleData","en","checkIsMobile","HomeRoot","constructor","home_root_defineProperty","environments","dialog","signedIn","DialogClass","onClose","closeDialog","showDialog","videoEl","playbackRate","playVideoWithStopOnBlur","SignInDialog","message","messages","onSignIn","home_root_asyncToGenerator","authComplete","authChannel","startAuthentication","authStarted","signOut","sceneUrlBase","sceneInfoUrl","scene","scenes","attribution","authors","organization","scene_id","meta","images","srcset","screenshot_url","environmentLoads","src","bundle_url","all","trigger","componentDidMount","authVerify","showAuthDialog","verifyAuth","loadEnvironmentFromScene","loadEnvironments","loadHomeVideo","listSignup","showUpdatesDialog","report","showReportDialog","_this2","AuthChannel","setSocket","verifyAuthentication","authTopic","authToken","authPayload","mainContentClassNames","classNames","styles","mainContent","noninteractive","locale","lang","home","headerContent","titleAndNav","links","signIn","maskEmail","onLinkClicked","showSignInDialog","heroContent","hideHero","favoriteHubsResult","renderFavoriteHero","renderNonFavoriteHero","heroPanel","rightPanel","footerContent","top","link","axonIcon","renderPwaButton","secondaryButton","style","installEvent","installed","visibility","prompt","userChoice","choiceResult","outcome","react_fontawesome_index_es","icon","faPlus","renderCreateButton","primaryButton","ctaButton","container","logo","logoMargin","ctaButtons","mediaBrowserStyles","mediaBrowser","mediaBrowserInline","box","darkened","media_tiles","urlSource","alignSelf","maxWidth","marginBottom","blurb","initialEnvironment","registerTelemetry","mountedUI","remountUI","root","home_root","has","ReactDOM","getElementById","addEventListener","credentialsAccountId","DialogContainer","_defineProperty","currentTarget","onKeyDown","onContainerClicked","componentWillUnmount","removeEventListener","wide","allowOverflow","additionalClass","_wrap_with_audio__WEBPACK_IMPORTED_MODULE_3__","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_5__","faTimes","isRequired","contents","react_intl__WEBPACK_IMPORTED_MODULE_2__","signInComplete","onContinue","continueButton","continueText","signInForm","onFocus","handleTextFieldFocus","onBlur","handleTextFieldBlur","emailField","terms","nextButton","_dialog_container__WEBPACK_IMPORTED_MODULE_4__","hero-content","cta-buttons","primary-button","secondary-button","loading-text","loadingText","main-content","header-content","title-and-nav","sign-in","video-container","videoContainer","background-video","backgroundVideo","logo-margin","hero-panel","cta-button","hero-video","heroVideo","have-code","haveCode","secondary-link","secondaryLink","footer-content","moz-logo","mozLogo","axon-icon","bottom","media-browser","facets","facet","pager","header-center","headerCenter","engine-attribution","engineAttribution","engine-attribution-contents","engineAttributionContents","favorites-header","favoritesHeader","header","no-search","noSearch","nav","nav-right-pad","navRightPad","nav-source","navSource","nav-source-selected","navSourceSelected","nav-scroll-arrow","navScrollArrow","tiles","tile","info","creator","publisher","last-joined","lastJoined","tile-link","tileLink","tile-content","tileContent","avatar-tile","avatarTile","edit-avatar","editAvatar","create-tile","createTile","tiles-variable","tilesVariable","page-number","pageNumber","pager-button-disabled","pagerButtonDisabled","header-left","headerLeft","header-right","headerRight","create-button","createButton","create-link","createLink","empty-string","emptyString","media-browser-inline","email-field","next-button","continue-button","sign-in-form","sign-in-complete","auth.verified-title","auth.verified","auth.spoke-verified","sign-in.prompt","sign-in.auth-started","sign-in.pin","sign-in.pin-complete","sign-in.unpin","sign-in.unpin-complete","sign-in.change-scene","sign-in.change-scene-complete","sign-in.rename-room","sign-in.rename-room-complete","sign-in.close-room","sign-in.close-room-complete","sign-in.mute-user","sign-in.mute-user-complete","sign-in.kick-user","sign-in.kick-user-complete","sign-in.create-avatar","sign-in.create-avatar-complete","sign-in.favorite-room","sign-in.favorite-rooms","sign-in.favorite-room-complete","sign-in.favorite-rooms-complete","sign-in.as","sign-in.in","sign-in.out","rename-room.message","rename-room.rename","close-room.message","close-room.confirm","close-room.cancel","entry.room","entry.enter-room-title","entry.enter-room","entry.leave-room","entry.change-scene","entry.in-lobby-notice","entry.screen-prefix","entry.desktop-screen","entry.mobile-screen","entry.mobile-safari","entry.generic-prefix","entry.generic-medium","entry.generic-subtitle-desktop","entry.gearvr-prefix","entry.gearvr-medium","entry.choose-device","entry.device-medium","entry.device-subtitle-desktop","entry.device-subtitle-mobile","entry.device-subtitle-vr","entry.cardboard","entry.daydream-prefix","entry.daydream-medium","entry.daydream-via-chrome","entry.invite-others","entry.share-button","entry.desktop.invite-tip","entry.mobile.invite-tip","entry.invite-team-nag","entry.enable-screen-sharing","entry.return-to-vr","entry.enter-in-vr","entry.open-in-window","entry.lobby","entry.back","entry.notify_me","entry.mute-on-entry","profile.save","profile.display_name.validation_warning","profile.header","profile.terms_of_use","profile.privacy_notice","profile.choose_avatar","profile.tabs.legacy","profile.tabs.skinnable","profile.tabs.url","profile.info","profile.info-link","avatar-editor.info","avatar-editor.info-link","avatar-preview.loading-failed","media-browser.search-placeholder.scenes","media-browser.search-placeholder.avatars","media-browser.search-placeholder.videos","media-browser.search-placeholder.images","media-browser.search-placeholder.youtube","media-browser.search-placeholder.gifs","media-browser.search-placeholder.twitch","media-browser.search-placeholder.sketchfab","media-browser.search-placeholder.poly","media-browser.search-placeholder.base","media-browser.favorites-header","media-browser.add_custom_object","media-browser.add_custom_scene","media-browser.add_custom_avatar","media-browser.privacy_policy","media-browser.spoke","media-browser.report_issue","media-browser.powered_by.images","media-browser.powered_by.videos","media-browser.powered_by.youtube","media-browser.powered_by.gifs","media-browser.powered_by.sketchfab","media-browser.powered_by.poly","media-browser.powered_by.twitch","media-browser.powered_by.scenes","media-browser.powered_by.avatars","media-browser.empty.images","media-browser.empty.videos","media-browser.empty.youtube","media-browser.empty.gifs","media-browser.empty.sketchfab","media-browser.empty.poly","media-browser.empty.twitch","media-browser.empty.favorites","media-browser.nav_title.youtube","media-browser.nav_title.videos","media-browser.nav_title.images","media-browser.nav_title.gifs","media-browser.nav_title.scenes","media-browser.nav_title.avatars","media-browser.nav_title.sketchfab","media-browser.nav_title.poly","media-browser.nav_title.twitch","media-browser.create-avatar","media-browser.create-scene","media-browser.hub.joined-prefix","audio.title","audio.talk_to_test","audio.click_to_test","audio.subtitle-desktop","audio.subtitle-mobile","audio.enter-now","audio.hmd-mic-warning","audio.grant-title","audio.grant-subtitle","audio.granted-title","audio.granted-subtitle","audio.granted-next","exit.subtitle.exited","exit.subtitle.closed","exit.subtitle.denied","exit.subtitle.kicked","exit.subtitle.left","exit.subtitle.full","exit.subtitle.connect_error","exit.subtitle.version_mismatch","autoexit.title","autoexit.title_units","autoexit.subtitle","autoexit.cancel","presence.entered_room","presence.entered_lobby","presence.join_lobby","presence.join_room","presence.leave","presence.name_change","presence.scene_change","presence.hub_name_change","presence.in_lobby","presence.in_room","home.create_a_room","home.desktop.add_pwa","home.mobile.add_pwa","home.take_a_tour","home.room_create_options","home.room_create_button","home.create_name.validation_warning","home.join_us","home.have_code","home.add_to_discord_1","home.add_to_discord_2","home.add_to_discord_3","home.create_with_spoke","home.report_issue","home.source_link","home.whats_new_link","home.spoke_link","home.about_link","home.community_link","home.privacy_notice","home.terms_of_use","home.get_updates","home.hero_title","home.hero_blurb","home.made_with_love","home.environment_author_by","dialog.close","mailing_list.privacy_label","mailing_list.privacy_link","link.link_page_header_entry","link.link_page_header_headset","link.linking_a_headset","link.try_again","help.report_issue","scene.logo_tagline","scene.create_button","scene.tweet_button","scene.unavailable","link.in_your_browser","link.enter_code","link.do_not_close","link.connect_headset","link.cancel","invite.enter_via","invite.enter_via_modal","invite.tweet","invite.and_enter_code","invite.or_visit","invite.or_visit_modal","invite.embed","invite.embed-tip","spoke.primary_tagline","spoke.secondary_tagline","spoke.thank_you","spoke.download_win","spoke.download_macos","spoke.download_linux","spoke.download_unsupported","spoke.browse_all_versions","spoke.beginner_tutorial_button","spoke.advanced_tutorial_button","spoke.play_button","commands.fly","commands.grow","commands.shrink","commands.scene","commands.rename","commands.help","commands.leave","commands.duck","commands.capture","commands.debug","commands.vrstats","settings.change-avatar","settings.change-scene","settings.favorites","settings.rename-room","settings.close-room","settings.room-info","settings.create-room","settings.create-scene","settings.send-feedback","settings.whats-new","settings.features","settings.controls","settings.community","settings.tips","settings.report","settings.terms","settings.privacy","settings.help","settings.row-profile","settings.row-room","tips.mobile.video_share_mode","tips.mobile.pen_mode","tips.mobile.mute_mode","tips.mobile.freeze_mode","tips.mobile.look","tips.mobile.locomotion","tips.mobile.spawn_menu-pre","tips.mobile.spawn_menu-post","tips.mobile.freeze_gesture","tips.mobile.object_grab","tips.mobile.object_rotate_button-pre","tips.mobile.object_rotate_button-post","tips.mobile.object_scale_button-pre","tips.mobile.object_scale_button-post","tips.mobile.object_recenter_button-pre","tips.mobile.object_recenter_button-post","tips.mobile.object_pin","tips.mobile.invite","tips.desktop.video_share_mode","tips.desktop.pen_mode","tips.desktop.mirror_mode","tips.desktop.mute_mode","tips.desktop.look","tips.desktop.locomotion","tips.desktop.turning","tips.desktop.spawn_menu-pre","tips.desktop.spawn_menu-post","tips.desktop.freeze_gesture","tips.desktop.menu_hover","tips.desktop.object_grab","tips.desktop.object_pin","tips.desktop.object_zoom","tips.desktop.object_rotate_button-pre","tips.desktop.object_rotate_button-post","tips.desktop.object_scale_button-pre","tips.desktop.object_scale_button-post","tips.desktop.object_recenter_button-pre","tips.desktop.object_recenter_button-post","tips.desktop.object_scale","tips.desktop.pen_color","tips.desktop.pen_size","tips.desktop.invite","tips.desktop.watching","tips.watching.back","tips.mobile.watching","tips.watching-exit","loader.entering_lobby","loader.loading","loader.object","loader.objects","change-scene-dialog.change-scene","change-scene-dialog.create-in-spoke","change-scene-dialog.new-spoke-project","avatar-url-dialog.apply","interstitial.prompt","feedback.prompt","hide-ui.prompt","discord.primary_tagline","discord.secondary_tagline","discord.contact_us","discord.community_link","discord.splash_tag","client-info.kick-button","client-info.hide-button","client-info.unhide-button","client-info.mute-button","client-info.cancel","avatar-landing.select","avatar-landing.selected","leave-room-dialog.join-room.message","leave-room-dialog.join-room.confirm","leave-room-dialog.create-room.message","leave-room-dialog.create-room.confirm","embed.load-button","embed.presence-warning","i18n_messages","navigatorLang","languages","language","userLanguage","toLowerCase","localeData","hubChannel","resetToRandomLegacyAvatar","_signedIn","reject","handleAuthCredentials","_this3","uuid","origin","_this4","toggleVideo","hasFocus","play","pause","emailParts","emailIdentity","emailDomain","Math","min","dayjs","extend","relativeTime","PUBLISHER_FOR_ENTRY_TYPE","sketchfab_model","poly_model","twitch_stream","MediaTiles","isImage","isAvatar","imageAspect","clientWidth","innerWidth","imageWidth","imageHeight","floor","max","entry","idx","imageSrc","preview","attributions","includes","isHub","getTileDimensions","publisherName","handleEntryClicked","_state_link__WEBPACK_IMPORTED_MODULE_14__","avatarId","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6__","faPencilAlt","faExternalLinkAlt","react_intl__WEBPACK_IMPORTED_MODULE_5__","last_activated_at","fromNow","createTileWidth","createTileHeight","searchParams","hasMeta","apiSource","source","isVariableWidth","hasNext","next_cursor","hasPrevious","dispatchEvent","CustomEvent","entryToTile","handlePager","previousPage","faAngleLeft","page","nextPage","faAngleRight","names","selectRandom","arr","random","avatarIds","avatars","av","generateDefaultProfile","LOCAL_STORE_KEY","STORE_STATE_CACHE_KEY","OAUTH_FLOW_CREDENTIALS_KEY","validator","Validator","SCHEMA","definitions","additionalProperties","properties","displayName","pattern","personalAvatarId","activity","hasFoundFreeze","hasChangedName","hasAcceptedProfile","lastEnteredAt","hasPinned","hasRotated","hasRecentered","hasScaled","hasHoveredInWorldHud","hasOpenedShare","entryCount","settings","lastUsedMicDeviceId","confirmedDiscordRooms","items","confirmedBroadcastedRooms","uploadPromotionTokens","fileId","promotionToken","onLoadActions","action","$ref","EventTarget","localStorage","getItem","setItem","oauthFlowCredentials","Cookies","getJSON","remove","jwtDecode","sub","resetConfirmedBroadcastedRooms","clearStoredArray","resetTipActivityFlags","bumpEntryCount","currentEntryCount","enqueueOnLoadAction","executeOnLoadActions","sceneEl","emit","clearOnLoadActions","arrayMerge","destinationArray","sourceArray","newState","mergeOpts","finalState","merge","valid","validate","Error","_fullscreen__WEBPACK_IMPORTED_MODULE_1__","detect","require","browser","isExitingFullscreenDueToFocus","exit","focus","model","thumbnail","raven_js__WEBPACK_IMPORTED_MODULE_0__","raven_js__WEBPACK_IMPORTED_MODULE_0___default","ga","trackedPage","trackedTitle","sentryDsn","SENTRY_DSN","gaTrackingId","GA_TRACKING_ID","Raven","config","install","ReactAudioContext","WithHoverSound","react__WEBPACK_IMPORTED_MODULE_0__","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","createContext","sound","Consumer","cloneElement","onMouseEnter","playSound","propTypes"],"mappings":"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B,gHCjNf,MAAM+C,EAAQ,CACZ,gBACA,cACA,oBACA,cACA,YACA,cACA,aACA,aACA,aACA,gBACA,gBACA,gBACA,gBACA,YACA,eACA,mBACA,mBACA,iBACA,gBACA,kBACA,eACA,eACA,mBACA,iBACA,WACA,cACA,gBACA,UACA,WACA,gBACA,cACA,YACA,WACA,YACA,YACA,mBACA,iBACA,aACA,aACA,YACA,cACA,eACA,cACA,cACA,UACA,WACA,eACA,eACA,YACA,mBACA,gBACA,oBACA,kBACA,YACA,cACA,kBACA,aACA,cACA,eACA,cACA,cACA,cACA,iBACA,kBACA,cACA,WACA,WACA,cACA,OACA,mBACA,cACA,mBACA,cACA,iBACA,aACA,cACA,cACA,gBACA,qBACA,iBACA,eACA,gBACA,eACA,SACA,YACA,iBAGF,SAASC,EAAaC,GACpB,OAAOA,EAAI1D,KAAKiB,MAAMjB,KAAK2D,SAAWD,EAAIxiC,SAOrC,MAAM0iC,EAAYC,IAAQ/1B,IAAIg2B,GAAMA,EAAGhsB,IAEvC,SAASisB,IACd,MAAO,CACLjC,SAAU2B,EAAaG,ggBClG3B,MAAMI,EAAkB,gBAClBC,EAAwB3gC,SACxB4gC,EAA6B,qCAC7BC,EAAY,IAAIC,YAMTC,EAAS,CACpBvsB,GAAI,aAEJwsB,YAAa,CACXj4B,QAAS,CACPyN,KAAM,SACNyqB,sBAAsB,EACtBC,WAAY,CACVC,YAAa,CAAE3qB,KAAM,SAAU4qB,QAAS,wBACxC5C,SAAU,CAAEhoB,KAAM,UAClB6qB,iBAAkB,CAAE7qB,KAAM,YAI9B/Q,YAAa,CACX+Q,KAAM,SACNyqB,sBAAsB,EACtBC,WAAY,CACV77B,MAAO,CAAEmR,KAAM,CAAC,OAAQ,WACxB7O,MAAO,CAAE6O,KAAM,CAAC,OAAQ,aAI5B8qB,SAAU,CACR9qB,KAAM,SACNyqB,sBAAsB,EACtBC,WAAY,CACVK,eAAgB,CAAE/qB,KAAM,WACxBgrB,eAAgB,CAAEhrB,KAAM,WACxBirB,mBAAoB,CAAEjrB,KAAM,WAC5BkrB,cAAe,CAAElrB,KAAM,UACvBmrB,UAA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","file":"assets/js/index-f79752270828808b469e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t7: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([2148,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { Socket } from \"phoenix\";\nimport { generateHubName } from \"../utils/name-generation\";\nimport { airtableAssets, airtableAssetsInitialState } from '../airtable'\n\nimport Store from \"../storage/store\";\n\nconst resolverLink = document.createElement(\"a\");\nexport function getReticulumFetchUrl(path, absolute = false) {\n  if (process.env.RETICULUM_SERVER) {\n    return `https://${process.env.RETICULUM_SERVER}${path}`;\n  } else if (absolute) {\n    resolverLink.href = path;\n    return resolverLink.href;\n  } else {\n    return path;\n  }\n}\n\nlet reticulumMeta = null;\nlet invalidatedReticulumMetaThisSession = false;\n\nexport async function invalidateReticulumMeta() {\n  invalidatedReticulumMetaThisSession = true;\n  reticulumMeta = null;\n}\n\nexport async function getReticulumMeta() {\n  if (!reticulumMeta) {\n    // Initially look up version based upon page, avoiding round-trip, otherwise fetch.\n    if (!invalidatedReticulumMetaThisSession && document.querySelector(\"meta[name='ret:version']\")) {\n      reticulumMeta = {\n        version: document.querySelector(\"meta[name='ret:version']\").getAttribute(\"value\"),\n        pool: document.querySelector(\"meta[name='ret:pool']\").getAttribute(\"value\"),\n        phx_host: document.querySelector(\"meta[name='ret:phx_host']\").getAttribute(\"value\")\n      };\n    } else {\n      await fetch(getReticulumFetchUrl(\"/api/v1/meta\")).then(async res => {\n        reticulumMeta = await res.json();\n      });\n    }\n  }\n\n  const qs = new URLSearchParams(location.search);\n  const phxHostOverride = qs.get(\"phx_host\");\n\n  if (phxHostOverride) {\n    reticulumMeta.phx_host = phxHostOverride;\n  }\n\n  return reticulumMeta;\n}\n\nexport async function connectToReticulum(debug = false, params = null) {\n  const qs = new URLSearchParams(location.search);\n\n  const getNewSocketUrl = async () => {\n    const socketProtocol = qs.get(\"phx_protocol\") || (document.location.protocol === \"https:\" ? \"wss:\" : \"ws:\");\n    let socketHost = qs.get(\"phx_host\");\n    let socketPort = qs.get(\"phx_port\");\n\n    const reticulumMeta = await getReticulumMeta();\n    socketHost = socketHost || process.env.RETICULUM_SOCKET_SERVER || reticulumMeta.phx_host;\n    socketPort =\n      socketPort ||\n      (process.env.RETICULUM_SERVER ? new URL(`${socketProtocol}//${process.env.RETICULUM_SERVER}`).port : \"443\");\n    return `${socketProtocol}//${socketHost}${socketPort ? `:${socketPort}` : \"\"}`;\n  };\n\n  const socketUrl = await getNewSocketUrl();\n  console.log(`Phoenix Socket URL: ${socketUrl}`);\n\n  const socketSettings = {};\n\n  if (debug) {\n    socketSettings.logger = (kind, msg, data) => {\n      console.log(`${kind}: ${msg}`, data);\n    };\n  }\n\n  if (params) {\n    socketSettings.params = params;\n  }\n\n  const socket = new Socket(`${socketUrl}/socket`, socketSettings);\n  socket.connect();\n  socket.onError(async () => {\n    // On error, underlying reticulum node may have died, so rebalance by\n    // fetching a new healthy node to connect to.\n    invalidateReticulumMeta();\n\n    const endPointPath = new URL(socket.endPoint).pathname;\n    const newSocketUrl = await getNewSocketUrl();\n    const newEndPoint = `${newSocketUrl}${endPointPath}`;\n    console.log(`Socket error, changed endpoint to ${newEndPoint}`);\n    socket.endPoint = newEndPoint;\n  });\n\n  return socket;\n}\n\nexport function getLandingPageForPhoto(photoUrl) {\n  const parsedUrl = new URL(photoUrl);\n  return getReticulumFetchUrl(parsedUrl.pathname.replace(\".png\", \".html\") + parsedUrl.search, true);\n}\n\nexport function fetchReticulumAuthenticated(url, method = \"GET\", payload) {\n  const { token } = window.APP.store.state.credentials;\n  const retUrl = getReticulumFetchUrl(url);\n  const params = {\n    headers: { \"content-type\": \"application/json\" },\n    method\n  };\n  if (token) {\n    params.headers.authorization = `bearer ${token}`;\n  }\n  if (payload) {\n    params.body = JSON.stringify(payload);\n  }\n  return fetch(retUrl, params).then(async r => {\n    const result = await r.text();\n    try {\n      return JSON.parse(result);\n    } catch (e) {\n      // Some reticulum responses, particularly DELETE requests, don't return json.\n      return result;\n    }\n  });\n}\n\nexport async function createAndRedirectToNewHub(name, sceneId, sceneUrl, replace) {\n  const createUrl = getReticulumFetchUrl(\"/api/v1/hubs\");\n\n  let assets = {Name: \"Test\", SceneUrl: null};\n\n  const record = await airtableAssets.find('recHqITRS7cBMwn9i')\n\n  if (record) assets = record.fields;\n  \n  // const payload = { hub: { name: name || generateHubName() } };\n  const payload = { hub: { name: assets.Name } };\n  \n\n  // if (sceneId) {\n  //   payload.hub.scene_id = sceneId;\n  // } else {\n    // payload.hub.default_environment_gltf_bundle_url = sceneUrl;\n    \n    // payload.hub.default_environment_gltf_bundle_url = 'https://www.dropbox.com/s/ayl3t33p2ymnxux/Axon%20Park_Cliffside.glb';\n    // payload.hub.default_environment_gltf_bundle_url = 'https://s3-us-west-1.amazonaws.com/axonpark/Axon_Park_Cliffside.glb';\n    payload.hub.default_environment_gltf_bundle_url = assets.SceneUrl;\n    // payload.hub.default_environment_gltf_bundle_url = '/assets/Axon_Park_Cliffside.glb';\n  // }\n\n  const headers = { \"content-type\": \"application/json\" };\n  const store = new Store();\n  if (store.state && store.state.credentials.token) {\n    headers.authorization = `bearer ${store.state.credentials.token}`;\n  }\n\n  let res = await fetch(createUrl, {\n    body: JSON.stringify(payload),\n    headers,\n    method: \"POST\"\n  }).then(r => r.json());\n\n  if (res.error === \"invalid_token\") {\n    // Clear the invalid token from store.\n    store.update({ credentials: { token: null, email: null } });\n\n    // Create hub anonymously\n    delete headers.authorization;\n    res = await fetch(createUrl, {\n      body: JSON.stringify(payload),\n      headers,\n      method: \"POST\"\n    }).then(r => r.json());\n  }\n\n  const hub = res;\n  let url = hub.url;\n\n  const creatorAssignmentToken = hub.creator_assignment_token;\n  if (creatorAssignmentToken) {\n    store.update({ creatorAssignmentTokens: [{ hubId: hub.hub_id, creatorAssignmentToken: creatorAssignmentToken }] });\n\n    // Don't need to store the embed token if there's no creator assignment token, since that means\n    // we are the owner and will get the embed token on page load.\n    const embedToken = hub.embed_token;\n\n    if (embedToken) {\n      store.update({ embedTokens: [{ hubId: hub.hub_id, embedToken: embedToken }] });\n    }\n  }\n\n  if (process.env.RETICULUM_SERVER && document.location.host !== process.env.RETICULUM_SERVER) {\n    url = `/hub.html?hub_id=${hub.hub_id}`;\n  }\n\n  if (replace) {\n    document.location.replace(url);\n  } else {\n    document.location = url;\n  }\n}\n\nexport function getPresenceEntryForSession(presences, sessionId) {\n  const entry = Object.entries(presences || {}).find(([k]) => k === sessionId) || [];\n  const presence = entry[1];\n  return (presence && presence.metas && presence.metas[0]) || {};\n}\n\nexport function getPresenceContextForSession(presences, sessionId) {\n  return (getPresenceEntryForSession(presences, sessionId) || {}).context || {};\n}\n\nexport function getPresenceProfileForSession(presences, sessionId) {\n  return (getPresenceEntryForSession(presences, sessionId) || {}).profile || {};\n}\n\n// Takes the given channel, and creates a new channel with the same bindings\n// with the given socket, joins it, and leaves the old channel after joining.\n//\n// NOTE: This function relies upon phoenix channel object internals, so this\n// function will need to be reviewed if/when we ever update phoenix.js\nexport function migrateChannelToSocket(oldChannel, socket, params) {\n  const channel = socket.channel(oldChannel.topic, params || oldChannel.params);\n\n  for (let i = 0, l = oldChannel.bindings.length; i < l; i++) {\n    const item = oldChannel.bindings[i];\n    channel.on(item.event, item.callback);\n  }\n\n  for (let i = 0, l = oldChannel.pushBuffer.length; i < l; i++) {\n    const item = oldChannel.pushBuffer[i];\n    channel.push(item.event, item.payload, item.timeout);\n  }\n\n  const oldJoinPush = oldChannel.joinPush;\n  const joinPush = channel.join();\n\n  for (let i = 0, l = oldJoinPush.recHooks.length; i < l; i++) {\n    const item = oldJoinPush.recHooks[i];\n    joinPush.receive(item.status, item.callback);\n  }\n\n  return new Promise(resolve => {\n    joinPush.receive(\"ok\", () => {\n      // Clear all event handlers first so no duplicate messages come in.\n      oldChannel.bindings = [];\n      resolve(channel);\n    });\n  });\n}\n\nexport function discordBridgesForPresences(presences) {\n  const channels = [];\n  for (const p of Object.values(presences)) {\n    for (const m of p.metas) {\n      if (m.profile && m.profile.discordBridges) {\n        Array.prototype.push.apply(channels, m.profile.discordBridges.map(b => b.channel.name));\n      }\n    }\n  }\n  return channels;\n}\n","// Utilities for manipulating state history. This provides a number of functions which\n// need to be used to manipulate history state so we can deal with edge cases around\n// entry back button and refreshes once entered.\n//\n// These functions also transparently deal with the room slug, so incoming calls can ignore\n// dealing with it, and provides APIs for getting the non-slug part of the path.\n//\n// The slug cannot be part of the basename for history, because the slug changes intra-session\n// if the room is renamed.\n\n// This pushes/replaces a new k, v pair into the history, while maintaining all the other\n// keys, or clears state if k if null.\n//\n// Also maintains a length key that can be used to find the length of the history chain\n// (across refreshes) for the current room.\nfunction pushOrUpdateHistory(history, replace, k, v, detail, newPathname, newSearch) {\n  let state = {};\n  const newLength = ((history.location.state && history.location.state.__historyLength) || 0) + (replace ? 0 : 1);\n\n  if (k || newPathname || newSearch) {\n    state = history.location.state ? { ...history.location.state } : {};\n    delete state.__duplicate;\n\n    if (k) {\n      state[k] = v;\n      state.key = k;\n      state.value = v;\n      state.detail = detail;\n    }\n  }\n\n  const pathname =\n    newPathname !== undefined ? newPathname : history.location.pathname === \"/\" ? \"\" : history.location.pathname;\n\n  const search = newSearch !== undefined ? newSearch : history.location.search;\n\n  // If popToBeginningOfHubHistory was previously used, there is a duplicate entry\n  // at the top of the history stack (which was needed to wipe out forward history)\n  // so we use this opportunity to replace it.\n  const isDuplicate = history.location.state && history.location.state.__duplicate;\n  const method = replace || isDuplicate ? history.replace : history.push;\n  state.__historyLength = newLength;\n\n  method({ pathname, search, state });\n}\n\nexport function pushHistoryState(history, k, v, detail) {\n  pushOrUpdateHistory(history, false, k, v, detail);\n}\n\nexport function replaceHistoryState(history, k, v, detail) {\n  pushOrUpdateHistory(history, true, k, v, detail);\n}\n\nexport function pushHistoryPath(history, path, search) {\n  pushOrUpdateHistory(history, false, null, null, null, path, search);\n}\n\nexport function clearHistoryState(history) {\n  pushOrUpdateHistory(history, false);\n}\n\n// This will pop the browser history to the first entry that was for this hubs room,\n// and then push a duplicate entry onto the history stack in order to wipe out forward\n// history.\nexport function popToBeginningOfHubHistory(history, navigateToPriorPage) {\n  if (!history.location.state || history.location.state.__historyLength === undefined) return;\n\n  const len = history.location.state.__historyLength;\n  if (len === 0) return;\n\n  return new Promise(resolve => {\n    // After the go() completes, we push a duplicate history entry onto the stack\n    // in order to wipe out forward history. We also optionally go back -2 if we wanted\n    // to go back to the prior page.\n    const unsubscribe = history.listen(() => {\n      unsubscribe();\n      history.push({\n        pathname: history.location.pathname,\n        search: history.location.search,\n        state: { __historyLength: 0, __duplicate: true }\n      });\n      if (navigateToPriorPage) history.go(-2); // Go back to history entry before beginning.\n      resolve();\n    });\n\n    history.go(-len);\n  });\n}\n\n// This will pop the browser history to the entry before the first entry for this hubs room.\nexport function navigateToPriorPage(history) {\n  popToBeginningOfHubHistory(history, true);\n}\n\n// Returns the part of the pathname that does not include the slug\nexport function sluglessPath(location) {\n  const parts = location.pathname.split(\"/\");\n  return `/${parts.slice(2).join(\"/\")}`;\n}\n\n// Returns a new path that includes the current slug as a prefix to the\n// provided path.\nexport function withSlug(location, path) {\n  const parts = location.pathname.split(\"/\");\n  return `/${parts[1]}${path}`;\n}\n","import screenfull from \"screenfull\";\n\nlet hasEnteredFullScreenThisSession = false;\n\nfunction shouldShowFullScreen() {\n  // Disable full screen on iOS, since Safari's fullscreen mode does not let you prevent native pinch-to-zoom gestures.\n  return (\n    (AFRAME.utils.device.isMobile() || AFRAME.utils.device.isMobileVR()) &&\n    !AFRAME.utils.device.isIOS() &&\n    screenfull.enabled\n  );\n}\n\nexport function willRequireUserGesture() {\n  return !screenfull.isFullscreen && shouldShowFullScreen();\n}\n\nexport function showFullScreenIfAvailable() {\n  if (shouldShowFullScreen()) {\n    screenfull.request();\n    hasEnteredFullScreenThisSession = true;\n  }\n}\n\nexport function showFullScreenIfWasFullScreen() {\n  if (hasEnteredFullScreenThisSession && !screenfull.isFullscreen) {\n    screenfull.request();\n  }\n}\n","module.exports = __webpack_public_path__ + \"assets/video/home-aee18c619a9005bd4b0d31295670af80.webm\";","module.exports = __webpack_public_path__ + \"assets/video/home-5af051d2c531928dbaaf51b9badaabde.mp4\";","module.exports = __webpack_public_path__ + \"assets/images/discord-logo-small-2c21aeda16de354ba5334551a883b481.png\";","module.exports = __webpack_public_path__ + \"assets/images/moz-logo-black-b2559c1a75a74dc0e702c9c8d4f9eeae.png\";","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { pushHistoryState, replaceHistoryState } from \"../utils/history\";\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\n/**\n * A history-aware link that pushes/replaces the state, but not the path, in the browser history.\n */\nclass StateLink extends React.Component {\n  static propTypes = {\n    history: PropTypes.object,\n    innerRef: PropTypes.object,\n    replace: PropTypes.bool,\n    stateKey: PropTypes.string,\n    stateValue: PropTypes.string,\n    stateDetail: PropTypes.object,\n    target: PropTypes.string,\n    onClick: PropTypes.func,\n    children: PropTypes.node,\n    className: PropTypes.string\n  };\n\n  async handleClick(event, history) {\n    if (this.props.onClick) this.props.onClick(event);\n\n    if (\n      !event.defaultPrevented && // onClick prevented default\n      event.button === 0 && // ignore everything but left clicks\n      (!this.props.target || this.props.target === \"_self\") && // let browser handle \"target=_blank\" etc.\n      !isModifiedEvent(event) // ignore clicks with modifier keys\n    ) {\n      event.preventDefault();\n      const method = this.props.replace ? replaceHistoryState : pushHistoryState;\n      method(history, this.props.stateKey, this.props.stateValue, this.props.stateDetail);\n    }\n  }\n\n  render() {\n    const { innerRef, target, className, children } = this.props;\n    return (\n      <a\n        target={target}\n        className={className}\n        onClick={event => this.handleClick(event, this.props.history)}\n        href=\"#\"\n        ref={innerRef}\n      >\n        {children}\n      </a>\n    );\n  }\n}\n\nexport default StateLink;\n","const nonCorsProxyDomains = (process.env.NON_CORS_PROXY_DOMAINS || \"\").split(\",\");\nif (process.env.CORS_PROXY_SERVER) {\n  nonCorsProxyDomains.push(process.env.CORS_PROXY_SERVER);\n}\n\nconst commonKnownContentTypes = {\n  gltf: \"model/gltf\",\n  glb: \"model/gltf-binary\",\n  png: \"image/png\",\n  jpg: \"image/jpeg\",\n  jpeg: \"image/jpeg\",\n  pdf: \"application/pdf\",\n  mp4: \"video/mp4\",\n  mp3: \"audio/mpeg\"\n};\n\n// thanks to https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding\nfunction b64EncodeUnicode(str) {\n  // first we use encodeURIComponent to get percent-encoded UTF-8, then we convert the percent-encodings\n  // into raw bytes which can be fed into btoa.\n  const CHAR_RE = /%([0-9A-F]{2})/g;\n  return btoa(encodeURIComponent(str).replace(CHAR_RE, (_, p1) => String.fromCharCode(\"0x\" + p1)));\n}\n\nconst farsparkEncodeUrl = url => {\n  // farspark doesn't know how to read '=' base64 padding characters\n  // translate base64 + to - and / to _ for URL safety\n  return b64EncodeUnicode(url)\n    .replace(/=+$/g, \"\")\n    .replace(/\\+/g, \"-\")\n    .replace(/\\//g, \"_\");\n};\n\nexport const scaledThumbnailUrlFor = (url, width, height) => {\n  const urlHostname = new URL(url).hostname;\n\n  if (process.env.RETICULUM_SERVER) {\n    const retHostname = new URL(`https://${process.env.RETICULUM_SERVER}`).hostname;\n    if (retHostname === urlHostname) return url;\n  }\n\n  return `https://${process.env.FARSPARK_SERVER}/thumbnail/${farsparkEncodeUrl(url)}?w=${width}&h=${height}`;\n};\n\nexport const proxiedUrlFor = (url, index = null) => {\n  if (!(url.startsWith(\"http:\") || url.startsWith(\"https:\"))) return url;\n\n  const hasIndex = index !== null;\n\n  if (!hasIndex) {\n    // Skip known domains that do not require CORS proxying.\n    try {\n      const parsedUrl = new URL(url);\n      if (nonCorsProxyDomains.find(domain => parsedUrl.hostname.endsWith(domain))) return url;\n    } catch (e) {\n      // Ignore\n    }\n  }\n\n  if (hasIndex || !process.env.CORS_PROXY_SERVER) {\n    const method = hasIndex ? \"extract\" : \"raw\";\n    return `https://${process.env.FARSPARK_SERVER}/0/${method}/0/0/0/${index || 0}/${farsparkEncodeUrl(url)}`;\n  } else {\n    return `https://${process.env.CORS_PROXY_SERVER}/${url}`;\n  }\n};\n\nexport const getCustomGLTFParserURLResolver = gltfUrl => url => {\n  if (typeof url !== \"string\" || url === \"\") return \"\";\n  if (/^(https?:)?\\/\\//i.test(url)) return url;\n  if (/^data:.*,.*$/i.test(url)) return url;\n  if (/^blob:.*$/i.test(url)) return url;\n\n  if (process.env.CORS_PROXY_SERVER) {\n    // For absolute paths with a CORS proxied gltf URL, re-write the url properly to be proxied\n    const corsProxyPrefix = `https://${process.env.CORS_PROXY_SERVER}/`;\n\n    if (gltfUrl.startsWith(corsProxyPrefix)) {\n      const originalUrl = decodeURIComponent(gltfUrl.substring(corsProxyPrefix.length));\n      const originalUrlParts = originalUrl.split(\"/\");\n\n      // Drop the .gltf filename\n      const path = new URL(url).pathname;\n      const assetUrl = originalUrlParts.slice(0, originalUrlParts.length - 1).join(\"/\") + \"/\" + path;\n      return corsProxyPrefix + assetUrl;\n    }\n  }\n\n  return url;\n};\n\nconst dataUrlRegex = /data:([a-zA-Z0-9]+\\/[a-zA-Z0-9-.+]+).*,.*/;\n\nexport const guessContentType = url => {\n  if (url.startsWith(\"hubs://\") && url.endsWith(\"/video\")) return \"video/vnd.hubs-webrtc\";\n  if (url.startsWith(\"data:\")) {\n    const matches = dataUrlRegex.match(url);\n    if (matches.length > 0) {\n      matches[1];\n    }\n  }\n  const extension = new URL(url, window.location).pathname.split(\".\").pop();\n  return commonKnownContentTypes[extension];\n};\nconst hubsSceneRegex = /https?:\\/\\/(hubs.local(:\\d+)?|(smoke-)?hubs.mozilla.com)\\/scenes\\/(\\w+)\\/?\\S*/;\nconst hubsAvatarRegex = /https?:\\/\\/(hubs.local(:\\d+)?|(smoke-)?hubs.mozilla.com)\\/avatars\\/(\\w+)\\/?\\S*/;\nconst hubsRoomRegex = /https?:\\/\\/(hubs.local(:\\d+)?|(smoke-)?hubs.mozilla.com)\\/(\\w+)\\/?\\S*/;\nexport const isHubsSceneUrl = hubsSceneRegex.test.bind(hubsSceneRegex);\nexport const isHubsRoomUrl = url => !isHubsSceneUrl(url) && hubsRoomRegex.test(url);\nexport const isHubsDestinationUrl = url => isHubsSceneUrl(url) || isHubsRoomUrl(url);\nexport const isHubsAvatarUrl = hubsAvatarRegex.test.bind(hubsAvatarRegex);\n","import Airtable from 'airtable';\nAirtable.configure({\n    endpointUrl: 'https://api.airtable.com',\n    apiKey: 'keyOHSVeLr3ryLrL5'\n});\n\nconst base = Airtable.base('appIR0AlHDFG5WR8z');\n\nexport const airtableAssetsInitialState = { DarkLogo: null, Name: null, Icon: null }\nexport const airtableAssets = base('Assets');\n\nexport const airtableMessages = base('Messages').select({\n    view: 'Grid view'\n}).firstPage(async (err, records) => {\n    if (err) { console.error(err); return; }\n    const record = records[0];\n    // console.log(record.get('Motto'))\n    return record;\n\n    // records.forEach(function(record) {\n    //     console.log('Retrieved', record.get('Motto'));\n    // });\n});;\n// .find('recHqITRS7cBMwn9i', (err, record) => record.fields);\n// export const airtableAssets = () => base('Assets')\n\n// export default base;","const BASE_ENVIRONMENTS = [\n  \"/rooms/meetingroom/MeetingRoom.bundle.json\",\n  \"/rooms/atrium/Atrium.bundle.json\",\n  \"/rooms/MedievalFantasyBook/MedievalFantasyBook.bundle.json\",\n  \"/rooms/rooftopbuilding1/RooftopBuilding1.bundle.json\",\n  \"/rooms/wideopenspace/WideOpenSpace.bundle.json\"\n];\nconst EXTRA_ENVIRONMENTS = process.env.EXTRA_ENVIRONMENTS ? process.env.EXTRA_ENVIRONMENTS.split(\",\") : [];\nconst ALL_ENVIRONMENTS = EXTRA_ENVIRONMENTS.concat(BASE_ENVIRONMENTS);\n\nexport const ENVIRONMENT_URLS = ALL_ENVIRONMENTS.map(x => {\n  return process.env.ASSET_BUNDLE_SERVER + x;\n});\n\nexport const DEFAULT_ENVIRONMENT_URL = ENVIRONMENT_URLS[0];\n","// lifted from https://github.com/aframevr/aframe/blob/master/src/utils/device.js to ensure consistency\nfunction isIOS() {\n  return /iPad|iPhone|iPod/.test(window.navigator.platform);\n}\n\nfunction isTablet(mockUserAgent) {\n  const userAgent = mockUserAgent || window.navigator.userAgent;\n  return /ipad|Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(userAgent);\n}\n\nfunction isR7() {\n  return /R7 Build/.test(window.navigator.userAgent);\n}\n\nconst isMobile = (function() {\n  let _isMobile = false;\n  (function(a) {\n    // eslint-disable-next-line no-useless-escape\n    if (\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n        a\n      ) ||\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(\n        a.substr(0, 4)\n      )\n    ) {\n      _isMobile = true;\n    }\n    if (isIOS() || isTablet() || isR7()) {\n      _isMobile = true;\n    }\n  })(window.navigator.userAgent || window.navigator.vendor || window.opera);\n\n  return function() {\n    return _isMobile;\n  };\n})();\n\nexport default isMobile;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { injectIntl, FormattedMessage } from \"react-intl\";\nimport DialogContainer from \"./dialog-container.js\";\n\nclass AuthDialog extends Component {\n  static propTypes = {\n    intl: PropTypes.object,\n    verifying: PropTypes.bool,\n    authOrigin: PropTypes.string\n  };\n\n  render() {\n    const { authOrigin, verifying } = this.props;\n    const { formatMessage } = this.props.intl;\n    const title = verifying ? \"\" : formatMessage({ id: \"auth.verified-title\" });\n\n    return (\n      <DialogContainer title={title} closable={!verifying} {...this.props}>\n        {verifying ? (\n          <div className=\"loader-wrap loader-mid\">\n            <div className=\"loader\">\n              <div className=\"loader-center\" />\n            </div>\n          </div>\n        ) : authOrigin === \"spoke\" ? (\n          <FormattedMessage className=\"preformatted\" id=\"auth.spoke-verified\" />\n        ) : (\n          <FormattedMessage className=\"preformatted\" id=\"auth.verified\" />\n        )}\n      </DialogContainer>\n    );\n  }\n}\n\nexport default injectIntl(AuthDialog);\n","import React, { Component } from \"react\";\nimport DialogContainer from \"./dialog-container.js\";\n\nexport default class JoinUsDialog extends Component {\n  render() {\n    return (\n      <DialogContainer title=\"Join Us\" {...this.props}>\n        <span>\n          <p>\n            Join us in the{\" \"}\n            <a href=\"https://discord.gg/wHmY4nd\" target=\"_blank\" rel=\"noopener noreferrer\">\n              Hubs community\n            </a>{\" \"}\n            on Discord.\n            <br />\n          </p>\n          <p>VR meetups every Friday at noon PDT!</p>\n          <p>\n            You can also follow us on Twitter at{\" \"}\n            <a href=\"https://twitter.com/mozillareality\" target=\"_blank\" rel=\"noopener noreferrer\">\n              @mozillareality\n            </a>.\n          </p>\n        </span>\n      </DialogContainer>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport DialogContainer from \"./dialog-container.js\";\nimport { WithHoverSound } from \"./wrap-with-audio\";\n\nexport default class ReportDialog extends Component {\n  render() {\n    return (\n      <DialogContainer title=\"Report an Issue\" {...this.props}>\n        <span>\n          <p>Need to report a problem?</p>\n          <p>\n            You can file a{\" \"}\n            <WithHoverSound>\n              <a href=\"https://github.com/mozilla/hubs/issues\" target=\"_blank\" rel=\"noopener noreferrer\">\n                GitHub Issue\n              </a>\n            </WithHoverSound>{\" \"}\n            or e-mail us for support at{\" \"}\n            <WithHoverSound>\n              <a href=\"mailto:hubs@mozilla.com\">hubs@mozilla.com</a>\n            </WithHoverSound>\n          </p>\n          <p>\n            You can also find us on{\" \"}\n            <WithHoverSound>\n              <a href=\"https://discord.gg/wHmY4nd\" target=\"_blank\" rel=\"noopener noreferrer\">\n                Discord\n              </a>\n            </WithHoverSound>\n          </p>\n        </span>\n      </DialogContainer>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport PropTypes from \"prop-types\";\nimport formurlencoded from \"form-urlencoded\";\nimport DialogContainer from \"./dialog-container.js\";\nimport { WithHoverSound } from \"./wrap-with-audio\";\n\nexport default class UpdatesDialog extends Component {\n  static propTypes = {\n    onSubmittedEmail: PropTypes.func\n  };\n\n  state = {\n    mailingListEmail: \"\",\n    mailingListPrivacy: false\n  };\n\n  render() {\n    const { onSubmittedEmail, ...other } = this.props;\n    const signUpForMailingList = async e => {\n      e.preventDefault();\n      e.stopPropagation();\n      if (!this.state.mailingListPrivacy) return;\n\n      const url = \"https://www.mozilla.org/en-US/newsletter/\";\n\n      const payload = {\n        email: this.state.mailingListEmail,\n        newsletters: \"hubs\",\n        privacy: true,\n        fmt: \"H\",\n        source_url: document.location.href\n      };\n\n      await fetch(url, {\n        body: formurlencoded(payload),\n        method: \"POST\",\n        headers: { \"content-type\": \"application/x-www-form-urlencoded\" }\n      }).then(onSubmittedEmail);\n    };\n\n    return (\n      <DialogContainer {...other}>\n        <span>\n          <p>Sign up to get updates about new features in Hubs.</p>\n          <form onSubmit={signUpForMailingList}>\n            <div className=\"mailing-list-form\">\n              <WithHoverSound>\n                <input\n                  type=\"email\"\n                  value={this.state.mailingListEmail}\n                  onChange={e => this.setState({ mailingListEmail: e.target.value })}\n                  className=\"mailing-list-form__email_field\"\n                  required\n                  placeholder=\"Your email here\"\n                />\n              </WithHoverSound>\n              <label className=\"mailing-list-form__privacy\">\n                <WithHoverSound>\n                  <input\n                    className=\"mailing-list-form__privacy_checkbox\"\n                    type=\"checkbox\"\n                    required\n                    value={this.state.mailingListPrivacy}\n                    onChange={e => this.setState({ mailingListPrivacy: e.target.checked })}\n                  />\n                </WithHoverSound>\n                <span className=\"mailing-list-form__privacy_label\">\n                  <FormattedMessage id=\"mailing_list.privacy_label\" />{\" \"}\n                  <WithHoverSound>\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.mozilla.org/en-US/privacy/\">\n                      <FormattedMessage id=\"mailing_list.privacy_link\" />\n                    </a>\n                  </WithHoverSound>\n                </span>\n              </label>\n              <WithHoverSound>\n                <input className=\"mailing-list-form__submit\" type=\"submit\" value=\"Sign Up Now\" />\n              </WithHoverSound>\n            </div>\n          </form>\n        </span>\n      </DialogContainer>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { IntlProvider, FormattedMessage, addLocaleData } from \"react-intl\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport en from \"react-intl/locale-data/en\";\n\nimport { airtableAssets, airtableAssetsInitialState } from '../airtable'\n\nimport { lang, messages } from \"../utils/i18n\";\nimport { playVideoWithStopOnBlur } from \"../utils/video-utils.js\";\nimport homeVideoWebM from \"../assets/video/home.webm\";\nimport homeVideoMp4 from \"../assets/video/home.mp4\";\nimport hubLogo from \"../assets/images/hub-preview-light-no-shadow.png\";\nimport discordLogoSmall from \"../assets/images/discord-logo-small.png\";\nimport mozLogo from \"../assets/images/moz-logo-black.png\";\nimport classNames from \"classnames\";\nimport { ENVIRONMENT_URLS } from \"../assets/environments/environments\";\nimport { createAndRedirectToNewHub, connectToReticulum } from \"../utils/phoenix-utils\";\nimport maskEmail from \"../utils/mask-email\";\nimport checkIsMobile from \"../utils/is-mobile\";\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons/faPlus\";\nimport mediaBrowserStyles from \"../assets/stylesheets/media-browser.scss\";\nimport AuthChannel from \"../utils/auth-channel\";\n\nimport styles from \"../assets/stylesheets/index.scss\";\n\nimport AuthDialog from \"./auth-dialog.js\";\nimport JoinUsDialog from \"./join-us-dialog.js\";\nimport ReportDialog from \"./report-dialog.js\";\nimport SignInDialog from \"./sign-in-dialog.js\";\nimport UpdatesDialog from \"./updates-dialog.js\";\nimport DialogContainer from \"./dialog-container.js\";\nimport MediaTiles from \"./media-tiles\";\n\naddLocaleData([...en]);\n\nconst isMobile = checkIsMobile();\n\nclass HomeRoot extends Component {\n  static propTypes = {\n    intl: PropTypes.object,\n    sceneId: PropTypes.string,\n    store: PropTypes.object,\n    authChannel: PropTypes.object,\n    authVerify: PropTypes.bool,\n    authTopic: PropTypes.string,\n    authToken: PropTypes.string,\n    authPayload: PropTypes.string,\n    authOrigin: PropTypes.string,\n    listSignup: PropTypes.bool,\n    report: PropTypes.bool,\n    initialEnvironment: PropTypes.string,\n    installEvent: PropTypes.object,\n    hideHero: PropTypes.bool,\n    favoriteHubsResult: PropTypes.object\n  };\n\n  state = {\n    environments: [],\n    dialog: null,\n    signedIn: null,\n    mailingListEmail: \"\",\n    mailingListPrivacy: false\n  };\n\n  constructor(props) {\n    super(props);\n    this.state.signedIn = props.authChannel.signedIn;\n    this.state.email = props.authChannel.email;\n    this.state.airtableAssets = airtableAssetsInitialState;\n  }\n\n  componentDidMount() {\n    if (this.props.authVerify) {\n      this.showAuthDialog(true);\n      this.verifyAuth().then(this.showAuthDialog);\n      return;\n    }\n    if (this.props.sceneId) {\n      this.loadEnvironmentFromScene();\n    } else {\n      this.loadEnvironments();\n    }\n    this.loadHomeVideo();\n    if (this.props.listSignup) {\n      this.showUpdatesDialog();\n    } else if (this.props.report) {\n      this.showReportDialog();\n    }\n\n    airtableAssets.find('recHqITRS7cBMwn9i', (err, record) => \n       this.setState({airtableAssets: record.fields})\n    )\n  }\n\n  async verifyAuth() {\n    const authChannel = new AuthChannel(this.props.store);\n    authChannel.setSocket(await connectToReticulum());\n    await authChannel.verifyAuthentication(this.props.authTopic, this.props.authToken, this.props.authPayload);\n    this.setState({ signedIn: true, email: this.props.store.state.credentials.email });\n  }\n\n  showDialog = (DialogClass, props = {}) => {\n    this.setState({\n      dialog: <DialogClass {...{ onClose: this.closeDialog, ...props }} />\n    });\n  };\n\n  showAuthDialog = verifying => {\n    this.showDialog(AuthDialog, { verifying, authOrigin: this.props.authOrigin });\n  };\n\n  loadHomeVideo = () => {\n    const videoEl = document.querySelector(\"#background-video\");\n    if (!videoEl) return;\n    videoEl.playbackRate = 0.9;\n    playVideoWithStopOnBlur(videoEl);\n  };\n\n  closeDialog = () => {\n    this.setState({ dialog: null });\n  };\n\n  showJoinUsDialog = () => this.showDialog(JoinUsDialog);\n\n  showReportDialog = () => this.showDialog(ReportDialog);\n\n  showUpdatesDialog = () =>\n    this.showDialog(UpdatesDialog, {\n      onSubmittedEmail: () => {\n        this.showDialog(\n          <DialogContainer>Great! Please check your e-mail to confirm your subscription.</DialogContainer>\n        );\n      }\n    });\n\n  showSignInDialog = () => {\n    this.showDialog(SignInDialog, {\n      message: messages[\"sign-in.prompt\"],\n      onSignIn: async email => {\n        const { authComplete } = await this.props.authChannel.startAuthentication(email);\n        this.showDialog(SignInDialog, { authStarted: true });\n        await authComplete;\n        this.setState({ signedIn: true, email });\n        this.closeDialog();\n      }\n    });\n  };\n\n  signOut = () => {\n    this.props.authChannel.signOut();\n    this.setState({ signedIn: false });\n  };\n\n  loadEnvironmentFromScene = async () => {\n    let sceneUrlBase = \"/api/v1/scenes\";\n    if (process.env.RETICULUM_SERVER) {\n      sceneUrlBase = `https://${process.env.RETICULUM_SERVER}${sceneUrlBase}`;\n    }\n    const sceneInfoUrl = `${sceneUrlBase}/${this.props.sceneId}`;\n    const resp = await fetch(sceneInfoUrl).then(r => r.json());\n    const scene = resp.scenes[0];\n    const attribution = scene.attribution && scene.attribution.split(\"\\n\").join(\", \");\n    const authors = attribution && [{ organization: { name: attribution } }];\n    // Transform the scene info into a an environment bundle structure.\n    this.setState({\n      environments: [\n        {\n          scene_id: this.props.sceneId,\n          meta: {\n            title: scene.name,\n            authors,\n            images: [{ type: \"preview-thumbnail\", srcset: scene.screenshot_url }]\n          }\n        }\n      ]\n    });\n  };\n\n  loadEnvironments = () => {\n    const environments = [];\n\n    const environmentLoads = ENVIRONMENT_URLS.map(src =>\n      (async () => {\n        const res = await fetch(src);\n        const data = await res.json();\n        data.bundle_url = src;\n        environments.push(data);\n      })()\n    );\n\n    Promise.all(environmentLoads).then(() => this.setState({ environments }));\n  };\n\n  onLinkClicked = trigger => {\n    return e => {\n      e.preventDefault();\n      e.stopPropagation();\n      trigger();\n    };\n  };\n\n  render() {\n    const mainContentClassNames = classNames({\n      [styles.mainContent]: true,\n      [styles.noninteractive]: !!this.state.dialog\n    });\n\n    const showFTUEVideo = false;\n\n    return (\n      <IntlProvider locale={lang} messages={messages}>\n        <div className={styles.home}>\n          <div className={mainContentClassNames}>\n            <div className={styles.headerContent}>\n              <div className={styles.titleAndNav} onClick={() => (document.location = \"/\")}>\n\n                {false && <div className={styles.links}>\n                  <a href=\"/whats-new\">\n                    <FormattedMessage id=\"home.whats_new_link\" />\n                  </a>\n                  <a href=\"https://github.com/mozilla/hubs\" rel=\"noreferrer noopener\">\n                    <FormattedMessage id=\"home.source_link\" />\n                  </a>\n                  <a href=\"https://discord.gg/wHmY4nd\" rel=\"noreferrer noopener\">\n                    <FormattedMessage id=\"home.community_link\" />\n                  </a>\n                  <a href=\"/spoke\" rel=\"noreferrer noopener\">\n                    Spoke\n                  </a>\n                </div>}\n\n                <div className={styles.links}>\n                  <a href=\"https://www.axonpark.com/\" target=\"_blank\">\n                    Axon Park Home\n                  </a>\n                </div>\n\n              </div>\n              <div className={styles.signIn}>\n                {this.state.signedIn ? (\n                  <div>\n                    <span>\n                      <FormattedMessage id=\"sign-in.as\" /> {maskEmail(this.state.email)}\n                    </span>{\" \"}\n                    <a onClick={this.onLinkClicked(this.signOut)}>\n                      <FormattedMessage id=\"sign-in.out\" />\n                    </a>\n                  </div>\n                ) : (\n                  <a onClick={this.onLinkClicked(this.showSignInDialog)}>\n                    <FormattedMessage id=\"sign-in.in\" />\n                  </a>\n                )}\n              </div>\n            </div>\n            <div className={styles.heroContent}>\n\n              {!this.props.hideHero &&\n                (this.props.favoriteHubsResult &&\n                this.props.favoriteHubsResult.entries.length > 0 &&\n                this.state.signedIn\n                  ? this.renderFavoriteHero()\n                  : this.renderNonFavoriteHero())}\n              {!this.props.hideHero && (\n                <div className={classNames(styles.heroPanel, styles.rightPanel)}>\n                  {showFTUEVideo && (\n                    <div className={styles.heroVideo}>\n                      <video playsInline muted loop autoPlay>\n                        <source src={homeVideoWebM} type=\"video/webm\" />\n                        <source src={homeVideoMp4} type=\"video/mp4\" />\n                      </video>\n                    </div>\n                  )}\n                  <div>\n\n                    {false && <div className={styles.secondaryLink}>\n                      <a href=\"/link\">\n                        <FormattedMessage id=\"home.have_code\" />\n                      </a>\n                    </div>}\n\n\n                    {false && <div className={styles.secondaryLink}>\n                      <div>\n                        <FormattedMessage id=\"home.add_to_discord_1\" />\n                      </div>\n                      <img src={discordLogoSmall} />\n                      <a href=\"/discord\">\n                        <FormattedMessage id=\"home.add_to_discord_2\" />\n                      </a>\n                      <div>\n                        <FormattedMessage id=\"home.add_to_discord_3\" />\n                      </div>\n                    </div>}\n                  </div>\n                </div>\n              )}\n            </div>\n            <div className={styles.footerContent}>\n              {false && <div className={styles.links}>\n                <div className={styles.top}>\n                  <a\n                    className={styles.link}\n                    rel=\"noopener noreferrer\"\n                    href=\"#\"\n                    onClick={this.onLinkClicked(this.showJoinUsDialog)}\n                  >\n                    <FormattedMessage id=\"home.join_us\" />\n                  </a>\n                  <a\n                    className={styles.link}\n                    rel=\"noopener noreferrer\"\n                    href=\"#\"\n                    onClick={this.onLinkClicked(this.showUpdatesDialog)}\n                  >\n                    <FormattedMessage id=\"home.get_updates\" />\n                  </a>\n                  <a\n                    className={styles.link}\n                    rel=\"noopener noreferrer\"\n                    href=\"#\"\n                    onClick={this.onLinkClicked(this.showReportDialog)}\n                  >\n                    <FormattedMessage id=\"home.report_issue\" />\n                  </a>\n                  <a\n                    className={styles.link}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    href=\"https://github.com/mozilla/hubs/blob/master/TERMS.md\"\n                  >\n                    <FormattedMessage id=\"home.terms_of_use\" />\n                  </a>\n                  <a\n                    className={styles.link}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    href=\"https://github.com/mozilla/hubs/blob/master/PRIVACY.md\"\n                  >\n                    <FormattedMessage id=\"home.privacy_notice\" />\n                  </a>\n\n                  <img className={styles.mozLogo} src={mozLogo} />\n                </div>\n              </div>}\n              <div className={styles.links}>\n                <div className={styles.top}>\n                  <a\n                    className={styles.link}\n\n                    href=\"https://www.axonpark.com/about-us/\"\n\n                  >\n                    About Us\n                  </a>\n                  <img className={styles.axonIcon} src={this.state.airtableAssets.Icon} />\n                </div>\n              </div>\n            </div>\n          </div>\n          {this.state.dialog}\n        </div>\n      </IntlProvider>\n    );\n  }\n\n  renderPwaButton() {\n    return (\n      <button\n        className={classNames(styles.secondaryButton)}\n        style={this.props.installEvent || this.state.installed ? {} : { visibility: \"hidden\" }}\n        onClick={() => {\n          this.props.installEvent.prompt();\n\n          this.props.installEvent.userChoice.then(choiceResult => {\n            if (choiceResult.outcome === \"accepted\") {\n              this.setState({ installed: true });\n            }\n          });\n        }}\n      >\n        <i>\n          <FontAwesomeIcon icon={faPlus} />\n        </i>\n        <FormattedMessage id={`home.${isMobile ? \"mobile\" : \"desktop\"}.add_pwa`} />\n      </button>\n    );\n  }\n\n  renderCreateButton() {\n    return (\n      <button\n        className={classNames(styles.primaryButton, styles.ctaButton)}\n        onClick={e => {\n          e.preventDefault();\n          createAndRedirectToNewHub(null, process.env.DEFAULT_SCENE_SID, null, false);\n        }}\n      >\n        <FormattedMessage id=\"home.create_a_room\" />\n      </button>\n    );\n  }\n\n  renderFavoriteHero() {\n    return [\n      <div className={styles.heroPanel} key={1}>\n        <div className={styles.container}>\n          <div className={classNames([styles.logo, styles.logoMargin])} >\n            <img src={this.state.airtableAssets.DarkLogo} />\n          </div>\n        </div>\n        <div className={styles.ctaButtons}>\n          {this.renderCreateButton()}\n          {this.renderPwaButton()}\n        </div>\n      </div>,\n      <div className={styles.heroPanel} key={2}>\n        <div className={classNames([mediaBrowserStyles.mediaBrowser, mediaBrowserStyles.mediaBrowserInline])}>\n          <div className={classNames([mediaBrowserStyles.box, mediaBrowserStyles.darkened])}>\n            <MediaTiles result={this.props.favoriteHubsResult} urlSource=\"favorites\" />\n          </div>\n        </div>\n      </div>\n    ];\n  }\n\n  renderNonFavoriteHero() {\n    return (\n      <div className={styles.heroPanel}>\n        <div className={styles.container}>\n          <div className={styles.logo} style={{alignSelf: 'center', maxWidth: 250, marginBottom: 15}}>\n            <img src={this.state.airtableAssets.DarkLogo} />\n          </div>\n          <div className={styles.blurb}>\n            <FormattedMessage id=\"home.hero_blurb\" />\n          </div>\n        </div>\n        <div className={styles.ctaButtons}>\n          {this.renderCreateButton()}\n          {this.renderPwaButton()}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HomeRoot;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./assets/stylesheets/index.scss\";\nimport registerTelemetry from \"./telemetry\";\nimport HomeRoot from \"./react-components/home-root\";\nimport AuthChannel from \"./utils/auth-channel\";\nimport { createAndRedirectToNewHub, connectToReticulum, fetchReticulumAuthenticated } from \"./utils/phoenix-utils\";\nimport Store from \"./storage/store\";\n\nconst qs = new URLSearchParams(location.search);\nregisterTelemetry(\"/home\", \"Hubs Home Page\");\n\nconst { pathname } = document.location;\nconst sceneId = qs.get(\"scene_id\") || (pathname.startsWith(\"/scenes/\") && pathname.substring(1).split(\"/\")[1]);\n\nconst store = new Store();\nwindow.APP = { store };\n\nconst authChannel = new AuthChannel(store);\nlet installEvent = null;\nlet favoriteHubsResult = null;\nlet mountedUI = false;\nlet hideHero = true;\n\nconst remountUI = function() {\n  mountedUI = true;\n\n  const root = (\n    <HomeRoot\n      initialEnvironment={qs.get(\"initial_environment\")}\n      sceneId={sceneId || \"\"}\n      store={store}\n      authChannel={authChannel}\n      authVerify={qs.has(\"auth_topic\")}\n      authTopic={qs.get(\"auth_topic\")}\n      authToken={qs.get(\"auth_token\")}\n      authPayload={qs.get(\"auth_payload\")}\n      authOrigin={qs.get(\"auth_origin\")}\n      listSignup={qs.has(\"list_signup\")}\n      hideHero={hideHero}\n      favoriteHubsResult={favoriteHubsResult}\n      report={qs.has(\"report\")}\n      installEvent={installEvent}\n    />\n  );\n  ReactDOM.render(root, document.getElementById(\"home-root\"));\n};\n\n// PWA install prompt\nwindow.addEventListener(\"beforeinstallprompt\", e => {\n  e.preventDefault();\n  installEvent = e;\n\n  if (mountedUI) {\n    remountUI();\n  }\n});\n\n(async () => {\n  if (qs.get(\"new\") !== null) {\n    createAndRedirectToNewHub(null, process.env.DEFAULT_SCENE_SID, null, true);\n    return;\n  }\n\n  authChannel.setSocket(await connectToReticulum());\n  remountUI();\n\n  if (authChannel.signedIn) {\n    // Fetch favorite rooms\n    const path = `/api/v1/media/search?source=favorites&type=hubs&user=${store.credentialsAccountId}`;\n    favoriteHubsResult = await fetchReticulumAuthenticated(path);\n  }\n\n  hideHero = false;\n  remountUI();\n})();\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport { WithHoverSound } from \"./wrap-with-audio\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons/faTimes\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nexport default class DialogContainer extends Component {\n  static propTypes = {\n    title: PropTypes.node,\n    children: PropTypes.node.isRequired,\n    onClose: PropTypes.func,\n    closable: PropTypes.bool,\n    wide: PropTypes.bool,\n    className: PropTypes.string,\n    allowOverflow: PropTypes.bool,\n    additionalClass: PropTypes.string\n  };\n\n  static defaultProps = {\n    closable: true\n  };\n\n  constructor(props) {\n    super(props);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onContainerClicked = this.onContainerClicked.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  onKeyDown(e) {\n    if (this.props.closable && e.key === \"Escape\") {\n      this.props.onClose();\n    }\n  }\n\n  onContainerClicked = e => {\n    if (this.props.closable && e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className={classNames(\"dialog-overlay\", this.props.className)}>\n        <div className=\"dialog\" onClick={this.onContainerClicked}>\n          <div className={`dialog__box ${this.props.wide ? \"dialog__wide\" : \"\"} `}>\n            <div\n              className={classNames(\n                \"dialog__box__contents\",\n                this.props.allowOverflow ? \"dialog__box__contents-overflow\" : null,\n                this.props.additionalClass\n              )}\n            >\n              {this.props.closable &&\n                this.props.onClose && (\n                  <WithHoverSound>\n                    <button className=\"dialog__box__contents__close\" onClick={() => this.props.onClose()}>\n                      <i>\n                        <FontAwesomeIcon icon={faTimes} />\n                      </i>\n                    </button>\n                  </WithHoverSound>\n                )}\n              {this.props.title && <div className=\"dialog__box__contents__title\">{this.props.title}</div>}\n              <div className=\"dialog__box__contents__body\">{this.props.children}</div>\n              <div className=\"dialog__box__contents__button-container\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { FormattedMessage } from \"react-intl\";\n\nimport styles from \"../assets/stylesheets/sign-in-dialog.scss\";\nimport DialogContainer from \"./dialog-container\";\nimport { handleTextFieldFocus, handleTextFieldBlur } from \"../utils/focus-utils\";\n\nexport default class SignInDialog extends Component {\n  static propTypes = {\n    authStarted: PropTypes.bool,\n    authComplete: PropTypes.bool,\n    onSignIn: PropTypes.func,\n    onContinue: PropTypes.func,\n    message: PropTypes.string,\n    continueText: PropTypes.string\n  };\n\n  state = {\n    email: \"\"\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.onSignIn(this.state.email);\n  };\n\n  render() {\n    let contents;\n    if (this.props.authStarted) {\n      contents = (\n        <p>\n          <FormattedMessage className=\"preformatted\" id=\"sign-in.auth-started\" />\n        </p>\n      );\n    } else if (this.props.authComplete) {\n      contents = (\n        <div className={styles.signInComplete}>\n          <p>{this.props.message}</p>\n          <button onClick={this.props.onContinue} className={styles.continueButton}>\n            {this.props.continueText}\n          </button>\n        </div>\n      );\n    } else {\n      contents = (\n        <form onSubmit={this.onSubmit} className={styles.signInForm}>\n          <span>{this.props.message}</span>\n          <input\n            name=\"email\"\n            type=\"email\"\n            required\n            placeholder=\"Your email address\"\n            value={this.state.email}\n            onFocus={e => handleTextFieldFocus(e.target)}\n            onBlur={() => handleTextFieldBlur()}\n            onChange={e => this.setState({ email: e.target.value })}\n            className={styles.emailField}\n          />\n          <p className={styles.terms}>\n            By proceeding, you agree to the{\" \"}\n            <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://github.com/mozilla/hubs/blob/master/TERMS.md\">\n              terms of use\n            </a>{\" \"}\n            and{\" \"}\n            <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://github.com/mozilla/hubs/blob/master/PRIVACY.md\">\n              privacy notice\n            </a>.\n          </p>\n          <button type=\"submit\" className={styles.nextButton}>\n            next\n          </button>\n        </form>\n      );\n    }\n\n    return (\n      <DialogContainer title=\"Sign In\" {...this.props}>\n        {contents}\n      </DialogContainer>\n    );\n  }\n}\n","// removed by extract-text-webpack-plugin\nmodule.exports = {\"hero-content\":\"index__hero-content__11fJu\",\"heroContent\":\"index__hero-content__11fJu\",\"cta-buttons\":\"index__cta-buttons__3SD-3\",\"ctaButtons\":\"index__cta-buttons__3SD-3\",\"primary-button\":\"index__primary-button__r8Kw5\",\"primaryButton\":\"index__primary-button__r8Kw5\",\"secondary-button\":\"index__secondary-button__swDOR\",\"secondaryButton\":\"index__secondary-button__swDOR\",\"loading-text\":\"index__loading-text__3tobw\",\"loadingText\":\"index__loading-text__3tobw\",\"home\":\"index__home__3xkuf\",\"main-content\":\"index__main-content__1L8Sf\",\"mainContent\":\"index__main-content__1L8Sf\",\"noninteractive\":\"index__noninteractive__3jQRs\",\"header-content\":\"index__header-content__1XfPi\",\"headerContent\":\"index__header-content__1XfPi\",\"title-and-nav\":\"index__title-and-nav__23waG\",\"titleAndNav\":\"index__title-and-nav__23waG\",\"links\":\"index__links__p0Llg\",\"sign-in\":\"index__sign-in__2L8Bu\",\"signIn\":\"index__sign-in__2L8Bu\",\"video-container\":\"index__video-container__2Z1bb\",\"videoContainer\":\"index__video-container__2Z1bb\",\"background-video\":\"index__background-video__1XJJZ\",\"backgroundVideo\":\"index__background-video__1XJJZ\",\"container\":\"index__container__cs00S\",\"logo\":\"index__logo__2zl0D\",\"logo-margin\":\"index__logo-margin__1MXYL\",\"logoMargin\":\"index__logo-margin__1MXYL\",\"blurb\":\"index__blurb__3k96f\",\"hero-panel\":\"index__hero-panel__2AEHu\",\"heroPanel\":\"index__hero-panel__2AEHu\",\"cta-button\":\"index__cta-button__vTmK6\",\"ctaButton\":\"index__cta-button__vTmK6\",\"rightPanel\":\"index__rightPanel__2JG0C\",\"hero-video\":\"index__hero-video__Yf3bL\",\"heroVideo\":\"index__hero-video__Yf3bL\",\"have-code\":\"index__have-code__1EZm-\",\"haveCode\":\"index__have-code__1EZm-\",\"secondary-link\":\"index__secondary-link__3gfJB\",\"secondaryLink\":\"index__secondary-link__3gfJB\",\"footer-content\":\"index__footer-content__2GrlX\",\"footerContent\":\"index__footer-content__2GrlX\",\"moz-logo\":\"index__moz-logo__1ifwj\",\"mozLogo\":\"index__moz-logo__1ifwj\",\"axon-icon\":\"index__axon-icon__2kh1A\",\"axonIcon\":\"index__axon-icon__2kh1A\",\"top\":\"index__top__1gv9a\",\"link\":\"index__link__ujnyC\",\"bottom\":\"index__bottom__2Zyu1\"};","// removed by extract-text-webpack-plugin\nmodule.exports = {\"media-browser\":\"media-browser__media-browser__y0Hsu\",\"mediaBrowser\":\"media-browser__media-browser__y0Hsu\",\"facets\":\"media-browser__facets__1Yz65\",\"facet\":\"media-browser__facet__2uP6U\",\"body\":\"media-browser__body__j6Tv2\",\"pager\":\"media-browser__pager__RKx5O\",\"header-center\":\"media-browser__header-center__2D9CW\",\"headerCenter\":\"media-browser__header-center__2D9CW\",\"search\":\"media-browser__search__3gQ84\",\"engine-attribution\":\"media-browser__engine-attribution__2P2aD\",\"engineAttribution\":\"media-browser__engine-attribution__2P2aD\",\"engine-attribution-contents\":\"media-browser__engine-attribution-contents__gCdfr\",\"engineAttributionContents\":\"media-browser__engine-attribution-contents__gCdfr\",\"favorites-header\":\"media-browser__favorites-header__1XzZx\",\"favoritesHeader\":\"media-browser__favorites-header__1XzZx\",\"box\":\"media-browser__box__1KHYi\",\"header\":\"media-browser__header__zqZ09\",\"no-search\":\"media-browser__no-search__3N90H\",\"noSearch\":\"media-browser__no-search__3N90H\",\"nav\":\"media-browser__nav__9J5If\",\"nav-right-pad\":\"media-browser__nav-right-pad__1qH0B\",\"navRightPad\":\"media-browser__nav-right-pad__1qH0B\",\"nav-source\":\"media-browser__nav-source__o6NI6\",\"navSource\":\"media-browser__nav-source__o6NI6\",\"nav-source-selected\":\"media-browser__nav-source-selected__2osjH\",\"navSourceSelected\":\"media-browser__nav-source-selected__2osjH\",\"nav-scroll-arrow\":\"media-browser__nav-scroll-arrow__2Nikk\",\"navScrollArrow\":\"media-browser__nav-scroll-arrow__2Nikk\",\"tiles\":\"media-browser__tiles__1BYEY\",\"tile\":\"media-browser__tile__2lzHU\",\"info\":\"media-browser__info__2c8Zs\",\"name\":\"media-browser__name__RFiE4\",\"attribution\":\"media-browser__attribution__3glgj\",\"creator\":\"media-browser__creator__3LDPh\",\"publisher\":\"media-browser__publisher__mTzsX\",\"last-joined\":\"media-browser__last-joined__2DVWf\",\"lastJoined\":\"media-browser__last-joined__2DVWf\",\"tile-link\":\"media-browser__tile-link__IXyUO\",\"tileLink\":\"media-browser__tile-link__IXyUO\",\"tile-content\":\"media-browser__tile-content__1QYSP\",\"tileContent\":\"media-browser__tile-content__1QYSP\",\"avatar-tile\":\"media-browser__avatar-tile__qNo2r\",\"avatarTile\":\"media-browser__avatar-tile__qNo2r\",\"edit-avatar\":\"media-browser__edit-avatar__2HBfV\",\"editAvatar\":\"media-browser__edit-avatar__2HBfV\",\"create-tile\":\"media-browser__create-tile__RL9vr\",\"createTile\":\"media-browser__create-tile__RL9vr\",\"tiles-variable\":\"media-browser__tiles-variable__1ZNxg\",\"tilesVariable\":\"media-browser__tiles-variable__1ZNxg\",\"page-number\":\"media-browser__page-number__OTpSH\",\"pageNumber\":\"media-browser__page-number__OTpSH\",\"pager-button-disabled\":\"media-browser__pager-button-disabled__ytlSN\",\"pagerButtonDisabled\":\"media-browser__pager-button-disabled__ytlSN\",\"header-left\":\"media-browser__header-left__1ObQh\",\"headerLeft\":\"media-browser__header-left__1ObQh\",\"header-right\":\"media-browser__header-right__3k3JZ\",\"headerRight\":\"media-browser__header-right__3k3JZ\",\"create-button\":\"media-browser__create-button__30hMV\",\"createButton\":\"media-browser__create-button__30hMV\",\"create-link\":\"media-browser__create-link__28Bpj\",\"createLink\":\"media-browser__create-link__28Bpj\",\"empty-string\":\"media-browser__empty-string__3r0tc\",\"emptyString\":\"media-browser__empty-string__3r0tc\",\"media-browser-inline\":\"media-browser__media-browser-inline__3AgWD\",\"mediaBrowserInline\":\"media-browser__media-browser-inline__3AgWD\"};","// removed by extract-text-webpack-plugin\nmodule.exports = {\"email-field\":\"sign-in-dialog__email-field__g3xRW\",\"emailField\":\"sign-in-dialog__email-field__g3xRW\",\"next-button\":\"sign-in-dialog__next-button__2pGtq\",\"nextButton\":\"sign-in-dialog__next-button__2pGtq\",\"continue-button\":\"sign-in-dialog__continue-button__kFN6Z\",\"continueButton\":\"sign-in-dialog__continue-button__kFN6Z\",\"sign-in-form\":\"sign-in-dialog__sign-in-form__3Muog\",\"signInForm\":\"sign-in-dialog__sign-in-form__3Muog\",\"sign-in-complete\":\"sign-in-dialog__sign-in-complete__3JMkv\",\"signInComplete\":\"sign-in-dialog__sign-in-complete__3JMkv\",\"terms\":\"sign-in-dialog__terms__3TT6i\"};","import {airtableMessages} from '../airtable'\n\n// let fields;\n\n// airtableAssets.find('recHqITRS7cBMwn9i', (err, record) => \n//    fields = record.fields\n// )\n\nasync () => {\n\tawait console.log(airtableMessages)\n}\n\nlet motto = airtableMessages && airtableMessages.get('Motto') || 'Learn together, from anywhere.\\nThe future of learning is virtual.\\nEqualizing access to premier quality education.'\n\n\nexport default {\n  \"en\": {\n    \"auth.verified-title\": \"E-Mail Verified!\",\n    \"auth.verified\": \"Your email has been verified!\\nYou can now close this browser tab and return to Hubs.\",\n    \"auth.spoke-verified\": \"You email has been verified!\\nYou can now close this browser tab and return to Spoke.\",\n    \"sign-in.prompt\": \"Sign in to pin objects in rooms.\",\n    \"sign-in.auth-started\":\n      \"Email sent!\\n\\nTo continue, go click on the link in the email using your phone, tablet, or PC.\",\n    \"sign-in.pin\": \"You'll need to sign in to pin objects.\",\n    \"sign-in.pin-complete\": \"You are now signed in.\",\n    \"sign-in.unpin\": \"You'll need to sign in to un-pin objects.\",\n    \"sign-in.unpin-complete\": \"You are now signed in.\",\n    \"sign-in.change-scene\": \"You'll need to sign in to change the scene.\",\n    \"sign-in.change-scene-complete\": \"You are now signed in.\",\n    \"sign-in.rename-room\": \"You'll need to sign in to rename axon park.\",\n    \"sign-in.rename-room-complete\": \"You are now signed in.\",\n    \"sign-in.close-room\": \"You'll need to sign in to close axon park.\",\n    \"sign-in.close-room-complete\": \"You are now signed in.\",\n    \"sign-in.mute-user\": \"You'll need to sign in to mute other users.\",\n    \"sign-in.mute-user-complete\": \"You are now signed in.\",\n    \"sign-in.kick-user\": \"You'll need to sign in to kick other users.\",\n    \"sign-in.kick-user-complete\": \"You are now signed in.\",\n    \"sign-in.create-avatar\": \"You'll need to sign in to create avatars.\",\n    \"sign-in.create-avatar-complete\": \"You are now signed in.\",\n    \"sign-in.favorite-room\": \"You'll need to sign in to add this room to your favorites.\",\n    \"sign-in.favorite-rooms\": \"You'll need to sign in to add favorite rooms.\",\n    \"sign-in.favorite-room-complete\": \"You are now signed in.\",\n    \"sign-in.favorite-rooms-complete\": \"You are now signed in.\",\n    \"sign-in.as\": \"Signed in as\",\n    \"sign-in.in\": \"Sign In\",\n    \"sign-in.out\": \"Sign Out\",\n    \"rename-room.message\": \"Enter the new name for axon park.\",\n    \"rename-room.rename\": \"Rename Axon Park\",\n    \"close-room.message\":\n      \"Closing this room will remove yourself and others from axon park, shutting it down permanently.\\n\\nAre you sure? This action cannot be undone.\",\n    \"close-room.confirm\": \"Yes, Close Axon Park\",\n    \"close-room.cancel\": \"Cancel\",\n    \"entry.room\": \"Immersive Education\",\n    \"entry.enter-room-title\": \"Lobby\",\n    \"entry.enter-room\": \"enter or send to device\",\n    \"entry.leave-room\": \"Leave Axon Park\",\n    \"entry.change-scene\": \"Choose a Scene\",\n    \"entry.in-lobby-notice\": \"You are viewing Axon Park from the lobby.\",\n    \"entry.screen-prefix\": \"Enter on \",\n    \"entry.desktop-screen\": \"Screen\",\n    \"entry.mobile-screen\": \"Phone\",\n    \"entry.mobile-safari\": \"Safari\",\n    \"entry.generic-prefix\": \" \",\n    \"entry.generic-medium\": \"Connected VR Headset\",\n    \"entry.generic-subtitle-desktop\": \"Oculus or SteamVR\",\n    \"entry.gearvr-prefix\": \"Enter on \",\n    \"entry.gearvr-medium\": \"Gear VR\",\n    \"entry.choose-device\": \"Choose Device\",\n    \"entry.device-medium\": \"Send to Device\",\n    \"entry.device-subtitle-desktop\": \"Standalone VR or Phone\",\n    \"entry.device-subtitle-mobile\": \"Standalone VR or PC\",\n    \"entry.device-subtitle-vr\": \"Phone or PC\",\n    \"entry.cardboard\": \"Enter on Google Cardboard\",\n    \"entry.daydream-prefix\": \"Enter on \",\n    \"entry.daydream-medium\": \"Daydream\",\n    \"entry.daydream-via-chrome\": \"Using Google Chrome\",\n    \"entry.invite-others\": \"invite others\",\n    \"entry.share-button\": \"share\",\n    \"entry.desktop.invite-tip\": \"Nobody is here yet. Share this room to get together.\",\n    \"entry.mobile.invite-tip\": \"Share to get together.\",\n    \"entry.invite-team-nag\": \"Invite a hubs team member\",\n    \"entry.enable-screen-sharing\": \"Share my desktop\",\n    \"entry.return-to-vr\": \"Return to VR\",\n    \"entry.enter-in-vr\": \"Enter in VR\",\n    \"entry.open-in-window\": \"Open in Tab\",\n    \"entry.lobby\": \"Lobby\",\n    \"entry.back\": \"Back\",\n    \"entry.notify_me\": \"Notify me when others arrive\",\n    \"entry.mute-on-entry\": \"Mute my microphone\",\n    \"profile.save\": \"Accept\",\n    \"profile.display_name.validation_warning\": \"Alphanumerics and hyphens. At least 3 characters, no more than 32\",\n    \"profile.header\": \"Name & Avatar\",\n    \"profile.terms_of_use\": \"Terms of Use\",\n    \"profile.privacy_notice\": \"Privacy Notice\",\n    \"profile.choose_avatar\": \"Browse Avatars\",\n    \"profile.tabs.legacy\": \"Default\",\n    \"profile.tabs.skinnable\": \"Custom Skin\",\n    \"profile.tabs.url\": \"Custom Model\",\n    \"profile.info\": \"Resources for creating custom avatar models can be found\",\n    \"profile.info-link\": \"here\",\n    \"avatar-editor.info\": \"Resources for creating custom avatar skins can be found\",\n    \"avatar-editor.info-link\": \"here\",\n    \"avatar-preview.loading-failed\": \"Loading failed\\nPlease choose another avatar\",\n    \"media-browser.search-placeholder.scenes\": \"Search Scenes...\",\n    \"media-browser.search-placeholder.avatars\": \"Search Avatars...\",\n    \"media-browser.search-placeholder.videos\": \"Search the web...\",\n    \"media-browser.search-placeholder.images\": \"Search the web...\",\n    \"media-browser.search-placeholder.youtube\": \"Search for videos...\",\n    \"media-browser.search-placeholder.gifs\": \"Search for GIFs...\",\n    \"media-browser.search-placeholder.twitch\": \"Search for streams...\",\n    \"media-browser.search-placeholder.sketchfab\": \"Search for models...\",\n    \"media-browser.search-placeholder.poly\": \"Search for models...\",\n    \"media-browser.search-placeholder.base\": \"Search...\",\n    \"media-browser.favorites-header\": \"Favorite Rooms\",\n    \"media-browser.add_custom_object\": \"Custom URL or File\",\n    \"media-browser.add_custom_scene\": \"Custom Scene\",\n    \"media-browser.add_custom_avatar\": \"Avatar GLB URL\",\n    \"media-browser.privacy_policy\": \"Privacy Policy\",\n    \"media-browser.spoke\": \"Spoke\",\n    \"media-browser.report_issue\": \"Report Issue\",\n    \"media-browser.powered_by.images\": \"Search by Bing | \",\n    \"media-browser.powered_by.videos\": \"Search by Bing | \",\n    \"media-browser.powered_by.youtube\": \"Search by Google | \",\n    \"media-browser.powered_by.gifs\": \"Search by Tenor | \",\n    \"media-browser.powered_by.sketchfab\": \"Search by Sketchfab | \",\n    \"media-browser.powered_by.poly\": \"Search by Google | \",\n    \"media-browser.powered_by.twitch\": \"Search by Twitch | \",\n    \"media-browser.powered_by.scenes\": \"Made with \",\n    \"media-browser.powered_by.avatars\": \" \",\n    \"media-browser.empty.images\": \"No results. Try entering a new search above.\",\n    \"media-browser.empty.videos\": \"No results. Try entering a new search above.\",\n    \"media-browser.empty.youtube\": \"No results. Try entering a new search above.\",\n    \"media-browser.empty.gifs\": \"No result. Try entering a new search above.\",\n    \"media-browser.empty.sketchfab\": \"No results. Try entering a new search above.\",\n    \"media-browser.empty.poly\": \"No results. Try entering a new search above.\",\n    \"media-browser.empty.twitch\": \"No results. Try entering a new search above.\",\n    \"media-browser.empty.favorites\": \"You don't have any favorites. Click a ⭐ to add to your favorites.\",\n    \"media-browser.nav_title.youtube\": \"YouTube\",\n    \"media-browser.nav_title.videos\": \"Videos\",\n    \"media-browser.nav_title.images\": \"Images\",\n    \"media-browser.nav_title.gifs\": \"GIFs\",\n    \"media-browser.nav_title.scenes\": \"Scenes\",\n    \"media-browser.nav_title.avatars\": \"Avatars\",\n    \"media-browser.nav_title.sketchfab\": \"Sketchfab\",\n    \"media-browser.nav_title.poly\": \"Google Poly\",\n    \"media-browser.nav_title.twitch\": \"Twitch\",\n    \"media-browser.create-avatar\": \"Create Avatar\",\n    \"media-browser.create-scene\": \"Create Scene with Spoke\",\n    \"media-browser.hub.joined-prefix\": \"Joined \",\n    \"media-browser.hub.joined-prefix\": \"Visited \",\n    \"audio.title\": \"Audio Setup\",\n    \"audio.talk_to_test\": \"talk\",\n    \"audio.click_to_test\": \"click\",\n    \"audio.subtitle-desktop\": \"Confirm HMD speaker output\",\n    \"audio.subtitle-mobile\": \"Earphones are recommended\",\n    \"audio.enter-now\": \"Enter Now\",\n    \"audio.hmd-mic-warning\": \"Your HMD mic is not chosen\",\n    \"audio.grant-title\": \"Grant mic permissions\",\n    \"audio.grant-subtitle\": \"Mic access needed to be heard by others\",\n    \"audio.granted-title\": \"Mic permissions granted\",\n    \"audio.granted-subtitle\": \"You can still mute yourself in-game\",\n    \"audio.granted-next\": \"Next\",\n    \"exit.subtitle.exited\": \"Your session has ended. Refresh your browser to start a new one.\",\n    \"exit.subtitle.closed\": \"This room is no longer available.\",\n    \"exit.subtitle.denied\": \"You are not permitted to join this room. Please request permission from the room creator.\",\n    \"exit.subtitle.kicked\": \"You have been kicked from axon park.\",\n    \"exit.subtitle.left\": \"You have left axon park.\",\n    \"exit.subtitle.full\": \"This room is full, please try again later.\",\n    \"exit.subtitle.connect_error\": \"Unable to connect to this room, please try again later.\",\n    \"exit.subtitle.version_mismatch\":\n      \"The version you deployed is not available yet. Your browser will refresh in 5 seconds.\",\n    \"autoexit.title\": \"Auto-ending session in \",\n    \"autoexit.title_units\": \" seconds\",\n    \"autoexit.subtitle\": \"You have started another session.\",\n    \"autoexit.cancel\": \"CANCEL\",\n    \"presence.entered_room\": \"entered axon park.\",\n    \"presence.entered_lobby\": \"entered axon park's lobby.\",\n    \"presence.join_lobby\": \"joined the axon park lobby.\",\n    \"presence.join_room\": \"joined axon park.\",\n    \"presence.leave\": \"left.\",\n    \"presence.name_change\": \"is now known as\",\n    \"presence.scene_change\": \"changed the scene to\",\n    \"presence.hub_name_change\": \"changed the name of the room to\",\n    \"presence.in_lobby\": \"Axon Park Lobby\",\n    \"presence.in_room\": \"In Axon Park\",\n    \"home.create_a_room\": \"Initialize Axon Park\",\n    \"home.desktop.add_pwa\": \"Install Desktop App\",\n    \"home.mobile.add_pwa\": \"Add to Home Screen\",\n    \"home.take_a_tour\": \"Take a Tour\",\n    \"home.room_create_options\": \"options\",\n    \"home.room_create_button\": \"Initialize Axon Park\",\n    \"home.create_name.validation_warning\": \"Invalid name, limited to 4 to 64 characters and limited symbols.\",\n    \"home.join_us\": \"Join the Conversation\",\n    \"home.have_code\": \"Have an axon park code?\",\n    \"home.add_to_discord_1\": \"Add the\",\n    \"home.add_to_discord_2\": \"Hubs Bot\",\n    \"home.add_to_discord_3\": \"to Discord\",\n    \"home.create_with_spoke\": \"Create a Scene\",\n    \"home.report_issue\": \"Report Issues\",\n    \"home.source_link\": \"Source\",\n    \"home.whats_new_link\": \"What's New\",\n    \"home.spoke_link\": \"Spoke\",\n    \"home.about_link\": \"About\",\n    \"home.community_link\": \"Community\",\n    \"home.privacy_notice\": \"Privacy Notice\",\n    \"home.terms_of_use\": \"Terms of Use\",\n    \"home.get_updates\": \"Get Updates\",\n    \"home.hero_title\": \"A new way to get together\",\n    \"home.hero_blurb\": motto,\n    \"home.made_with_love\": \"made with 🦆 by \",\n    \"home.environment_author_by\": \" by \",\n    \"dialog.close\": \"close\",\n    \"mailing_list.privacy_label\": \"I'm okay with Mozilla handling my info as explained in\",\n    \"mailing_list.privacy_link\": \"this Privacy Notice\",\n    \"link.link_page_header_entry\": \"Enter your code:\",\n    \"link.link_page_header_headset\": \"Enter Send to Device code:\",\n    \"link.linking_a_headset\": \"Have a letter code?\",\n    \"link.try_again\": \"We couldn't find that code.\\nPlease try again.\",\n    \"help.report_issue\": \"Report an Issue\",\n    \"scene.logo_tagline\": \"A new way to get together\",\n    \"scene.create_button\": \"Create a room with this scene\",\n    \"scene.tweet_button\": \"Share on Twitter\",\n    \"scene.unavailable\": \"This scene is no longer available.\",\n    \"link.in_your_browser\": \"In your device's web browser, go to:\",\n    \"link.enter_code\": \"Then, enter this one-time letter code:\",\n    \"link.do_not_close\":\n      \"Your account and avatar will be transferred to the device.\\nKeep this page open to use this code.\",\n    \"link.connect_headset\": \"Send to Device\",\n    \"link.cancel\": \"cancel\",\n    \"invite.enter_via\": \"Enter via \",\n    \"invite.enter_via_modal\": \"Others may enter via \",\n    \"invite.tweet\": \"tweet\",\n    \"invite.and_enter_code\": \" with code:\",\n    \"invite.or_visit\": \"or share permalink\",\n    \"invite.or_visit_modal\": \"or by visiting permalink\",\n    \"invite.embed\": \"or embed on a page\",\n    \"invite.embed-tip\":\n      \"Please be mindful of where you embed a Hubs room.\\nAnyone who can access the page can enter and create/remove objects.\",\n    \"spoke.primary_tagline\": \"make your space\",\n    \"spoke.secondary_tagline\": \"Create 3D social scenes for \",\n    \"spoke.thank_you\": \"Thank you for downloading Spoke!\",\n    \"spoke.download_win\": \"Download for Windows\",\n    \"spoke.download_macos\": \"Download for Mac\",\n    \"spoke.download_linux\": \"Download for Linux\",\n    \"spoke.download_unsupported\": \"View Releases\",\n    \"spoke.browse_all_versions\": \"Browse All Versions\",\n    \"spoke.beginner_tutorial_button\": \"Learn Spoke in 5 Minutes\",\n    \"spoke.advanced_tutorial_button\": \"Advanced Spoke in 10 minutes\",\n    \"spoke.play_button\": \"Learn Spoke in 5 Minutes\",\n    \"commands.fly\": \"Toggle fly mode.\",\n    \"commands.grow\": \"Increase your avatar's size.\",\n    \"commands.shrink\": \"Decrease your avatar's size.\",\n    \"commands.scene\": \"Change the scene.\",\n    \"commands.rename\": \"Rename the room.\",\n    \"commands.help\": \"Show help.\",\n    \"commands.leave\": \"Disconnect from axon park.\",\n    \"commands.duck\": \"The duck tested well. Quack.\",\n    \"commands.capture\": \"Capture a 15 second video.\",\n    \"commands.debug\": \"Toggle physics debug rendering.\",\n    \"commands.vrstats\": \"Toggle stats in VR.\",\n    \"settings.change-avatar\": \"Set Name & Avatar\",\n    \"settings.change-scene\": \"Choose a Scene\",\n\n    \"settings.favorites\": \"Favorite Rooms\",\n    \"settings.rename-room\": \"Set Axon Park Name...\",\n    \"settings.close-room\": \"Close Axon Park...\",\n    \"settings.room-info\": \"Axon Park Info\",\n    \"settings.create-room\": \"New Axon Park...\",\n\n    \"settings.create-scene\": \"Get Spoke\",\n    \"settings.send-feedback\": \"Send Feedback\",\n    \"settings.whats-new\": \"What's New\",\n    \"settings.features\": \"Help\",\n    \"settings.controls\": \"Controls\",\n    \"settings.community\": \"Join Discord\",\n    \"settings.tips\": \"Show Tips\",\n    \"settings.report\": \"Report Issue\",\n    \"settings.terms\": \"Terms of Use\",\n    \"settings.privacy\": \"Privacy Notice\",\n    \"settings.help\": \"Help\",\n\n    \"settings.row-profile\": \"You\",\n    \"settings.row-room\": \"Axon Park\",\n\n    \"tips.mobile.video_share_mode\": \"Tap to stop sharing video.\",\n    \"tips.mobile.pen_mode\": \"Tap icon again to end drawing.\",\n    \"tips.mobile.mute_mode\": \"You are muted. Tap to unmute.\",\n    \"tips.mobile.freeze_mode\": \"Two-finger tap to hide menus.\",\n    \"tips.mobile.look\": \"Welcome! 👋 Tap and drag to look around.\",\n    \"tips.mobile.locomotion\": \"Great! To move, pinch with two fingers.\",\n    \"tips.mobile.spawn_menu-pre\": \"Use the \",\n    \"tips.mobile.spawn_menu-post\": \"at the top to create objects.\",\n    \"tips.mobile.freeze_gesture\": \"Two-finger tap to show menus.\",\n    \"tips.mobile.object_grab\": \"Drag an object to move or throw it.\",\n    \"tips.mobile.object_rotate_button-pre\": \"Tap and drag \",\n    \"tips.mobile.object_rotate_button-post\": \" to rotate.\",\n    \"tips.mobile.object_scale_button-pre\": \"Tap and drag \",\n    \"tips.mobile.object_scale_button-post\": \" to scale.\",\n    \"tips.mobile.object_recenter_button-pre\": \"Tap \",\n    \"tips.mobile.object_recenter_button-post\": \" to have the object face you.\",\n\n    \"tips.mobile.object_pin\": \"Pin an object to save it to axon park.\",\n    \"tips.mobile.object_pin\": \"Pin an object to save it to axon park.\",\n    \"tips.mobile.invite\": \"Use the Invite button to share axon park.\",\n\n    \"tips.desktop.video_share_mode\": \"You're streaming. Select again to stop sharing video.\",\n    \"tips.desktop.pen_mode\": \"Press ESC or right click to drop pen. Ctrl-Z to undo.\",\n    \"tips.desktop.mirror_mode\": \"Press ESC to end camera mirroring.\",\n    \"tips.desktop.mute_mode\": \"You are muted. Click or press M to un-mute.\",\n    \"tips.desktop.look\": \"Welcome to Hubs! 👋 Click and drag to look around.\",\n    \"tips.desktop.locomotion\": \"Great! Now, use the W A S D keys to move. Hold shift to boost.\",\n    \"tips.desktop.turning\": \"Perfect. Use the Q and E keys to rotate.\",\n    \"tips.desktop.spawn_menu-pre\": \"To create objects, click the \",\n    \"tips.desktop.spawn_menu-post\": \"button at the top of the screen, or press Ctrl 1 through 7.\",\n    \"tips.desktop.freeze_gesture\": \"Press and hold spacebar to show object menus.\",\n    \"tips.desktop.menu_hover\": \"Now, point the cursor at an object to show the menu.\",\n    \"tips.desktop.object_grab\": \"Click and drag an object to move it. Or, flick to throw it!\",\n    \"tips.desktop.object_pin\": \"Pin an object to save it to axon park.\",\n    \"tips.desktop.object_zoom\": \"Scroll to move this object towards and away from you.\",\n    \"tips.desktop.object_rotate_button-pre\": \"Click and drag \",\n    \"tips.desktop.object_rotate_button-post\": \" to rotate the object.\",\n    \"tips.desktop.object_scale_button-pre\": \"Click and drag \",\n    \"tips.desktop.object_scale_button-post\": \" to scale the object.\",\n    \"tips.desktop.object_recenter_button-pre\": \"Click \",\n    \"tips.desktop.object_recenter_button-post\": \" to rotate the object to face you. Helpful if you drop it!\",\n    \"tips.desktop.object_scale\": \"Hold shift and scroll to scale it bigger and smaller.\",\n    \"tips.desktop.pen_color\": \"Use Shift-Q and Shift-E to change the pen color.\",\n    \"tips.desktop.pen_size\": \"Hold Shift and scroll to change the pen size.\",\n    \"tips.desktop.invite\": \"Nobody else is here. Use the Share button at the top to share this room.\",\n    \"tips.desktop.watching\": \"You're in the lobby. Others cannot see or hear you.\",\n    \"tips.watching.back\": \"Enter Room\",\n    \"tips.mobile.watching\": \"You're in the lobby.\",\n    \"tips.watching-exit\": \"Back\",\n    \"loader.entering_lobby\": \"Entering lobby...\",\n    \"loader.loading\": \"Loading \",\n    \"loader.object\": \"object\",\n    \"loader.objects\": \"objects\",\n    \"change-scene-dialog.change-scene\": \"Change Scene\",\n    \"change-scene-dialog.create-in-spoke\": \"Or, create a new scene using Spoke.\",\n    \"change-scene-dialog.new-spoke-project\": \"Launch Spoke\",\n    \"avatar-url-dialog.apply\": \"Apply\",\n    \"interstitial.prompt\": \"Continue\",\n    \"feedback.prompt\": \"Feedback\",\n    \"hide-ui.prompt\": \"Hide All\",\n    \"discord.primary_tagline\":\n      \"Share a virtual room with your community.\\nWatch videos, play with 3D objects, or just hang out.\",\n    \"discord.secondary_tagline\": \"No downloads or sign up. Full VR support too.\",\n    \"discord.contact_us\": \"Invite Bot to Server\",\n    \"discord.community_link\": \"Hubs Discord\",\n    \"discord.splash_tag\": \"Designed for serious businessing.\",\n    \"client-info.kick-button\": \"Kick\",\n    \"client-info.hide-button\": \"Hide\",\n    \"client-info.unhide-button\": \"Un-hide \",\n    \"client-info.mute-button\": \"Mute\",\n    \"client-info.cancel\": \"Cancel\",\n    \"avatar-landing.select\": \"Select\",\n    \"avatar-landing.selected\": \"This is your current avatar\",\n    \"leave-room-dialog.join-room.message\": \"Joining a new room will leave this one. Are you sure?\",\n    \"leave-room-dialog.join-room.confirm\": \"Join Room\",\n    \"leave-room-dialog.create-room.message\": \"Creating a new room will leave this one. Are you sure?\",\n    \"leave-room-dialog.create-room.confirm\": \"Leave Room\",\n    \"embed.load-button\": \"Load Room\",\n    \"embed.presence-warning\": \"This room is embedded, so may be visible to visitors on other websites.\"\n  }\n}\n","import localeData from \"../axonpark/messages.js\";\n// import localeData from \"../assets/translations.data.json\";\nconst navigatorLang = ((navigator.languages && navigator.languages[0]) || navigator.language || navigator.userLanguage)\n  .toLowerCase()\n  .split(/[_-]+/)[0];\nexport const lang = (localeData[navigatorLang] && navigatorLang) || \"en\";\nexport const messages = localeData[lang] || localeData.en;\n","module.exports = __webpack_public_path__ + \"assets/images/hub-preview-light-no-shadow-5ebb166e8580d819b445892173ec0286.png\";","import uuid from \"uuid/v4\";\n\nexport default class AuthChannel {\n  constructor(store) {\n    this.store = store;\n    this.socket = null;\n    this._signedIn = !!this.store.state.credentials.token;\n  }\n\n  setSocket = socket => {\n    this.socket = socket;\n  };\n\n  get email() {\n    return this.store.state.credentials.email;\n  }\n\n  get signedIn() {\n    return this._signedIn;\n  }\n\n  signOut = async hubChannel => {\n    if (hubChannel) {\n      await hubChannel.signOut();\n    }\n    this.store.update({ credentials: { token: null, email: null } });\n    this.store.resetToRandomLegacyAvatar();\n    this._signedIn = false;\n  };\n\n  verifyAuthentication(authTopic, authToken, authPayload) {\n    const channel = this.socket.channel(authTopic);\n    return new Promise((resolve, reject) =>\n      channel\n        .join()\n        .receive(\"ok\", () => {\n          channel.on(\"auth_credentials\", async ({ credentials: token, payload: payload }) => {\n            await this.handleAuthCredentials(payload.email, token);\n            resolve();\n          });\n\n          channel.push(\"auth_verified\", { token: authToken, payload: authPayload });\n        })\n        .receive(\"error\", reject)\n    );\n  }\n\n  async startAuthentication(email, hubChannel) {\n    const channel = this.socket.channel(`auth:${uuid()}`);\n    await new Promise((resolve, reject) =>\n      channel\n        .join()\n        .receive(\"ok\", resolve)\n        .receive(\"error\", reject)\n    );\n\n    const authComplete = new Promise(resolve =>\n      channel.on(\"auth_credentials\", async ({ credentials: token }) => {\n        await this.handleAuthCredentials(email, token, hubChannel);\n        resolve();\n      })\n    );\n\n    channel.push(\"auth_request\", { email, origin: \"hubs\" });\n\n    // Returning an object with the authComplete promise since we want the caller to wait for the above await but not\n    // for authComplete.\n    return { authComplete };\n  }\n\n  async handleAuthCredentials(email, token, hubChannel) {\n    this.store.update({ credentials: { email, token } });\n\n    if (hubChannel) {\n      await hubChannel.signIn(token);\n    }\n\n    this._signedIn = true;\n  }\n}\n","export function playVideoWithStopOnBlur(videoEl) {\n  function toggleVideo() {\n    // Play the video if the window/tab is visible.\n    if (document.hasFocus()) {\n      videoEl.play();\n    } else {\n      videoEl.pause();\n    }\n  }\n  if (\"hasFocus\" in document) {\n    document.addEventListener(\"visibilitychange\", toggleVideo);\n    window.addEventListener(\"focus\", toggleVideo);\n    window.addEventListener(\"blur\", toggleVideo);\n  }\n}\n","export default function maskEmail(email) {\n  if (!email) return \"\";\n  const emailParts = email.split(\"@\");\n  const emailIdentity = emailParts[0];\n  const emailDomain = emailParts[1];\n  const truncatedIdentity = emailIdentity.substring(0, Math.min(emailIdentity.length, 3));\n  return `${truncatedIdentity}...@${emailDomain}`;\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport dayjs from \"dayjs-ext\";\nimport relativeTime from \"dayjs-ext/plugin/relativeTime\";\nimport { FormattedMessage } from \"react-intl\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft } from \"@fortawesome/free-solid-svg-icons/faAngleLeft\";\nimport { faAngleRight } from \"@fortawesome/free-solid-svg-icons/faAngleRight\";\nimport { faExternalLinkAlt } from \"@fortawesome/free-solid-svg-icons/faExternalLinkAlt\";\nimport { faPencilAlt } from \"@fortawesome/free-solid-svg-icons/faPencilAlt\";\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons/faPlus\";\n\nimport styles from \"../assets/stylesheets/media-browser.scss\";\nimport { scaledThumbnailUrlFor } from \"../utils/media-url-utils\";\nimport StateLink from \"./state-link\";\n\ndayjs.extend(relativeTime);\n\nconst PUBLISHER_FOR_ENTRY_TYPE = {\n  sketchfab_model: \"Sketchfab\",\n  poly_model: \"Google Poly\",\n  twitch_stream: \"Twitch\"\n};\n\nclass MediaTiles extends Component {\n  static propTypes = {\n    result: PropTypes.object,\n    history: PropTypes.object,\n    urlSource: PropTypes.string,\n    handleEntryClicked: PropTypes.func,\n    handlePager: PropTypes.func\n  };\n\n  render() {\n    const { urlSource, result } = this.props;\n    const entries = (result && result.entries) || [];\n    const [createTileWidth, createTileHeight] = this.getTileDimensions(false, urlSource === \"avatars\");\n    const searchParams = new URLSearchParams((this.props.history ? this.props.history.location : location).search);\n    const hasMeta = !!(result && result.meta);\n    const apiSource = (hasMeta && result.meta.source) || null;\n    const isVariableWidth = result && [\"bing_images\", \"tenor\"].includes(apiSource);\n    const hasNext = !!(hasMeta && result.meta.next_cursor) || false;\n    const hasPrevious = searchParams.get(\"cursor\");\n\n    return (\n      <div className={styles.body}>\n        <div className={classNames({ [styles.tiles]: true, [styles.tilesVariable]: isVariableWidth })}>\n          {(urlSource === \"avatars\" || urlSource === \"scenes\") && (\n            <div\n              style={{ width: `${createTileWidth}px`, height: `${createTileHeight}px` }}\n              className={classNames(styles.tile, styles.createTile)}\n            >\n              {urlSource === \"scenes\" ? (\n                <a href=\"/spoke/new\" rel=\"noopener noreferrer\" target=\"_blank\" className={styles.tileLink}>\n                  <div className={styles.tileContent}>\n                    <FontAwesomeIcon icon={faPlus} />\n                    <FormattedMessage id=\"media-browser.create-scene\" />\n                  </div>\n                </a>\n              ) : (\n                <a\n                  onClick={e => {\n                    e.preventDefault();\n                    window.dispatchEvent(new CustomEvent(\"action_create_avatar\"));\n                  }}\n                  className={styles.tileLink}\n                >\n                  <div className={styles.tileContent}>\n                    <FontAwesomeIcon icon={faPlus} />\n                    <FormattedMessage id=\"media-browser.create-avatar\" />\n                  </div>\n                </a>\n              )}\n            </div>\n          )}\n\n          {entries.map(this.entryToTile)}\n        </div>\n\n        {result &&\n          (hasNext || hasPrevious) &&\n          this.props.handlePager && (\n            <div className={styles.pager}>\n              <a\n                className={classNames({ [styles.previousPage]: true, [styles.pagerButtonDisabled]: !hasPrevious })}\n                onClick={() => this.props.handlePager(-1)}\n              >\n                <FontAwesomeIcon icon={faAngleLeft} />\n              </a>\n              <div className={styles.pageNumber}>{result.meta.page}</div>\n              <a\n                className={classNames({ [styles.nextPage]: true, [styles.pagerButtonDisabled]: !hasNext })}\n                onClick={() => this.props.handlePager(1)}\n              >\n                <FontAwesomeIcon icon={faAngleRight} />\n              </a>\n            </div>\n          )}\n      </div>\n    );\n  }\n\n  getTileDimensions = (isImage, isAvatar, imageAspect) => {\n    // Doing breakpointing here, so we can have proper image placeholder based upon dynamic aspect ratio\n    const clientWidth = window.innerWidth;\n    let imageHeight = clientWidth < 1079 ? (clientWidth < 768 ? (clientWidth < 400 ? 85 : 100) : 150) : 200;\n    if (isAvatar) imageHeight = Math.floor(imageHeight * 1.5);\n\n    // Aspect ratio can vary per image if its an image result. Avatars are a taller portrait aspect, o/w assume 720p\n    let imageWidth;\n    if (isImage) {\n      imageWidth = Math.floor(Math.max(imageAspect * imageHeight, imageHeight * 0.85));\n    } else if (isAvatar) {\n      imageWidth = Math.floor((9 / 16) * imageHeight);\n    } else {\n      imageWidth = Math.floor(Math.max((16 / 9) * imageHeight, imageHeight * 0.85));\n    }\n\n    return [imageWidth, imageHeight];\n  };\n\n  entryToTile = (entry, idx) => {\n    const imageSrc = entry.images.preview.url;\n    const creator = entry.attributions && entry.attributions.creator;\n    const isImage = entry.type.endsWith(\"_image\");\n    const isAvatar = [\"avatar\", \"avatar_listing\"].includes(entry.type);\n    const isHub = [\"hub\"].includes(entry.type);\n    const imageAspect = entry.images.preview.width / entry.images.preview.height;\n\n    const [imageWidth, imageHeight] = this.getTileDimensions(isImage, isAvatar, imageAspect);\n\n    const publisherName =\n      (entry.attributions && entry.attributions.publisher && entry.attributions.publisher.name) ||\n      PUBLISHER_FOR_ENTRY_TYPE[entry.type];\n\n    return (\n      <div style={{ width: `${imageWidth}px` }} className={styles.tile} key={`${entry.id}_${idx}`}>\n        <a\n          href={entry.url}\n          rel=\"noreferrer noopener\"\n          onClick={e => this.props.handleEntryClicked && this.props.handleEntryClicked(e, entry)}\n          className={styles.tileLink}\n          style={{ width: `${imageWidth}px`, height: `${imageHeight}px` }}\n        >\n          <img\n            className={classNames(styles.tileContent, styles.avatarTile)}\n            src={scaledThumbnailUrlFor(imageSrc, imageWidth, imageHeight)}\n          />\n        </a>\n        {entry.type === \"avatar\" && (\n          <StateLink\n            className={styles.editAvatar}\n            stateKey=\"overlay\"\n            stateValue=\"avatar-editor\"\n            stateDetail={{ avatarId: entry.id }}\n            history={this.props.history}\n          >\n            <FontAwesomeIcon icon={faPencilAlt} />\n          </StateLink>\n        )}\n        {!entry.type.endsWith(\"_image\") && (\n          <div className={styles.info}>\n            <a\n              href={entry.url}\n              rel=\"noreferrer noopener\"\n              className={styles.name}\n              onClick={e => this.props.handleEntryClicked && this.props.handleEntryClicked(e, entry)}\n            >\n              {entry.name || \"\\u00A0\"}\n            </a>\n            {!isAvatar &&\n              !isHub && (\n                <div className={styles.attribution}>\n                  <div className={styles.creator}>\n                    {creator && creator.name === undefined && <span>{creator}</span>}\n                    {creator && creator.name && !creator.url && <span>{creator.name}</span>}\n                    {creator &&\n                      creator.name &&\n                      creator.url && (\n                        <a href={creator.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                          {creator.name}\n                        </a>\n                      )}\n                  </div>\n                  {publisherName && (\n                    <div className={styles.publisher}>\n                      <i>\n                        <FontAwesomeIcon icon={faExternalLinkAlt} />\n                      </i>\n                      &nbsp;<a href={entry.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                        {publisherName}\n                      </a>\n                    </div>\n                  )}\n                </div>\n              )}\n            {isHub && (\n              <div className={styles.attribution}>\n                <div className={styles.lastJoined}>\n                  <FormattedMessage id=\"media-browser.hub.joined-prefix\" />\n                  {dayjs(entry.last_activated_at).fromNow()}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  };\n}\nexport default MediaTiles;\n","import { avatars } from \"../assets/avatars/avatars.js\";\n\nconst names = [\n  \"Baers-Pochard\",\n  \"Baikal-Teal\",\n  \"Barrows-Goldeneye\",\n  \"Blue-Billed\",\n  \"Blue-Duck\",\n  \"Blue-Winged\",\n  \"Brown-Teal\",\n  \"Bufflehead\",\n  \"Canvasback\",\n  \"Cape-Shoveler\",\n  \"Chestnut-Teal\",\n  \"Chiloe-Wigeon\",\n  \"Cinnamon-Teal\",\n  \"Comb-Duck\",\n  \"Common-Eider\",\n  \"Common-Goldeneye\",\n  \"Common-Merganser\",\n  \"Common-Pochard\",\n  \"Common-Scoter\",\n  \"Common-Shelduck\",\n  \"Cotton-Pygmy\",\n  \"Crested-Duck\",\n  \"Crested-Shelduck\",\n  \"Eatons-Pintail\",\n  \"Falcated\",\n  \"Ferruginous\",\n  \"Freckled-Duck\",\n  \"Gadwall\",\n  \"Garganey\",\n  \"Greater-Scaup\",\n  \"Green-Pygmy\",\n  \"Grey-Teal\",\n  \"Hardhead\",\n  \"Harlequin\",\n  \"Hartlaubs\",\n  \"Hooded-Merganser\",\n  \"Hottentot-Teal\",\n  \"Kelp-Goose\",\n  \"King-Eider\",\n  \"Lake-Duck\",\n  \"Laysan-Duck\",\n  \"Lesser-Scaup\",\n  \"Long-Tailed\",\n  \"Maccoa-Duck\",\n  \"Mallard\",\n  \"Mandarin\",\n  \"Marbled-Teal\",\n  \"Mellers-Duck\",\n  \"Merganser\",\n  \"Northern-Pintail\",\n  \"Orinoco-Goose\",\n  \"Paradise-Shelduck\",\n  \"Plumed-Whistler\",\n  \"Puna-Teal\",\n  \"Pygmy-Goose\",\n  \"Radjah-Shelduck\",\n  \"Red-Billed\",\n  \"Red-Crested\",\n  \"Red-Shoveler\",\n  \"Ring-Necked\",\n  \"Ringed-Teal\",\n  \"Rosy-Billed\",\n  \"Ruddy-Shelduck\",\n  \"Salvadoris-Teal\",\n  \"Scaly-Sided\",\n  \"Shelduck\",\n  \"Shoveler\",\n  \"Silver-Teal\",\n  \"Smew\",\n  \"Spectacled-Eider\",\n  \"Spot-Billed\",\n  \"Spotted-Whistler\",\n  \"Steamerduck\",\n  \"Stellers-Eider\",\n  \"Sunda-Teal\",\n  \"Surf-Scoter\",\n  \"Tufted-Duck\",\n  \"Velvet-Scoter\",\n  \"Wandering-Whistler\",\n  \"Whistling-duck\",\n  \"White-Backed\",\n  \"White-Cheeked\",\n  \"White-Winged\",\n  \"Wigeon\",\n  \"Wood-Duck\",\n  \"Yellow-Billed\"\n];\n\nfunction selectRandom(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexport function generateRandomName() {\n  return `${selectRandom(names)}-${Math.floor(10000 + Math.random() * 10000)}`;\n}\n\nexport const avatarIds = avatars.map(av => av.id);\n\nexport function generateDefaultProfile() {\n  return {\n    avatarId: selectRandom(avatarIds)\n  };\n}\n","import { Validator } from \"jsonschema\";\nimport merge from \"deepmerge\";\nimport Cookies from \"js-cookie\";\nimport jwtDecode from \"jwt-decode\";\n\nconst LOCAL_STORE_KEY = \"___hubs_store\";\nconst STORE_STATE_CACHE_KEY = Symbol();\nconst OAUTH_FLOW_CREDENTIALS_KEY = \"ret-oauth-flow-account-credentials\";\nconst validator = new Validator();\nimport { EventTarget } from \"event-target-shim\";\nimport { generateDefaultProfile, generateRandomName } from \"../utils/identity.js\";\n\n// Durable (via local-storage) schema-enforced state that is meant to be consumed via forward data flow.\n// (Think flux but with way less incidental complexity, at least for now :))\nexport const SCHEMA = {\n  id: \"/HubsStore\",\n\n  definitions: {\n    profile: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        displayName: { type: \"string\", pattern: \"^[A-Za-z0-9-]{3,32}$\" },\n        avatarId: { type: \"string\" },\n        personalAvatarId: { type: \"string\" }\n      }\n    },\n\n    credentials: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        token: { type: [\"null\", \"string\"] },\n        email: { type: [\"null\", \"string\"] }\n      }\n    },\n\n    activity: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        hasFoundFreeze: { type: \"boolean\" },\n        hasChangedName: { type: \"boolean\" },\n        hasAcceptedProfile: { type: \"boolean\" },\n        lastEnteredAt: { type: \"string\" },\n        hasPinned: { type: \"boolean\" },\n        hasRotated: { type: \"boolean\" },\n        hasRecentered: { type: \"boolean\" },\n        hasScaled: { type: \"boolean\" },\n        hasHoveredInWorldHud: { type: \"boolean\" },\n        hasOpenedShare: { type: \"boolean\" },\n        entryCount: { type: \"number\" }\n      }\n    },\n\n    settings: {\n      type: \"object\",\n      additionalProperties: false,\n      properties: {\n        lastUsedMicDeviceId: { type: \"string\" }\n      }\n    },\n\n    // Legacy\n    confirmedDiscordRooms: {\n      type: \"array\",\n      items: { type: \"string\" }\n    },\n\n    confirmedBroadcastedRooms: {\n      type: \"array\",\n      items: { type: \"string\" }\n    },\n\n    uploadPromotionTokens: {\n      type: \"array\",\n      items: {\n        type: \"object\",\n        additionalProperties: false,\n        properties: {\n          fileId: { type: \"string\" },\n          promotionToken: { type: \"string\" }\n        }\n      }\n    },\n\n    creatorAssignmentTokens: {\n      type: \"array\",\n      items: {\n        type: \"object\",\n        additionalProperties: false,\n        properties: {\n          hubId: { type: \"string\" },\n          creatorAssignmentToken: { type: \"string\" }\n        }\n      }\n    },\n\n    embedTokens: {\n      type: \"array\",\n      items: {\n        type: \"object\",\n        additionalProperties: false,\n        properties: {\n          hubId: { type: \"string\" },\n          embedToken: { type: \"string\" }\n        }\n      }\n    },\n\n    onLoadActions: {\n      type: \"array\",\n      items: {\n        type: \"object\",\n        additionalProperties: false,\n        properties: {\n          action: { type: \"string\" },\n          args: { type: \"object\" }\n        }\n      }\n    }\n  },\n\n  type: \"object\",\n\n  properties: {\n    profile: { $ref: \"#/definitions/profile\" },\n    credentials: { $ref: \"#/definitions/credentials\" },\n    activity: { $ref: \"#/definitions/activity\" },\n    settings: { $ref: \"#/definitions/settings\" },\n    confirmedDiscordRooms: { $ref: \"#/definitions/confirmedDiscordRooms\" }, // Legacy\n    confirmedBroadcastedRooms: { $ref: \"#/definitions/confirmedBroadcastedRooms\" },\n    uploadPromotionTokens: { $ref: \"#/definitions/uploadPromotionTokens\" },\n    creatorAssignmentTokens: { $ref: \"#/definitions/creatorAssignmentTokens\" },\n    embedTokens: { $ref: \"#/definitions/embedTokens\" },\n    onLoadActions: { $ref: \"#/definitions/onLoadActions\" }\n  },\n\n  additionalProperties: false\n};\n\nexport default class Store extends EventTarget {\n  constructor() {\n    super();\n\n    if (localStorage.getItem(LOCAL_STORE_KEY) === null) {\n      localStorage.setItem(LOCAL_STORE_KEY, JSON.stringify({}));\n    }\n\n    // When storage is updated in another window\n    window.addEventListener(\"storage\", e => {\n      if (e.key !== LOCAL_STORE_KEY) return;\n      delete this[STORE_STATE_CACHE_KEY];\n      this.dispatchEvent(new CustomEvent(\"statechanged\"));\n    });\n\n    this.update({\n      activity: {},\n      settings: {},\n      credentials: {},\n      profile: {},\n      confirmedDiscordRooms: [],\n      confirmedBroadcastedRooms: [],\n      uploadPromotionTokens: [],\n      creatorAssignmentTokens: [],\n      embedTokens: [],\n      onLoadActions: []\n    });\n\n    const oauthFlowCredentials = Cookies.getJSON(OAUTH_FLOW_CREDENTIALS_KEY);\n    if (oauthFlowCredentials) {\n      this.update({ credentials: oauthFlowCredentials });\n      this.resetToRandomLegacyAvatar();\n      Cookies.remove(OAUTH_FLOW_CREDENTIALS_KEY);\n    }\n  }\n\n  // Initializes store with any default bits\n  init = () => {\n    this.update({\n      profile: { ...generateDefaultProfile(), ...(this.state.profile || {}) }\n    });\n\n    // Regenerate name to encourage users to change it.\n    if (!this.state.activity.hasChangedName) {\n      this.update({ profile: { displayName: generateRandomName() } });\n    }\n  };\n\n  resetToRandomLegacyAvatar = () => {\n    this.update({\n      profile: { ...(this.state.profile || {}), ...generateDefaultProfile() }\n    });\n  };\n\n  get state() {\n    if (!this.hasOwnProperty(STORE_STATE_CACHE_KEY)) {\n      this[STORE_STATE_CACHE_KEY] = JSON.parse(localStorage.getItem(LOCAL_STORE_KEY));\n    }\n\n    return this[STORE_STATE_CACHE_KEY];\n  }\n\n  get credentialsAccountId() {\n    if (this.state.credentials.token) {\n      return jwtDecode(this.state.credentials.token).sub;\n    } else {\n      return null;\n    }\n  }\n\n  resetConfirmedBroadcastedRooms() {\n    this.clearStoredArray(\"confirmedBroadcastedRooms\");\n  }\n\n  resetTipActivityFlags() {\n    this.update({\n      activity: { hasRotated: false, hasPinned: false, hasRecentered: false, hasScaled: false, entryCount: 0 }\n    });\n  }\n\n  bumpEntryCount() {\n    const currentEntryCount = this.state.activity.entryCount || 0;\n    this.update({ activity: { entryCount: currentEntryCount + 1 } });\n  }\n\n  // Sets a one-time action to perform the next time the page loads\n  enqueueOnLoadAction(action, args) {\n    this.update({ onLoadActions: [{ action, args }] });\n  }\n\n  executeOnLoadActions(sceneEl) {\n    for (let i = 0; i < this.state.onLoadActions.length; i++) {\n      const { action, args } = this.state.onLoadActions[i];\n\n      if (action === \"emit_scene_event\") {\n        sceneEl.emit(args.event, args.detail);\n      }\n    }\n\n    this.clearOnLoadActions();\n  }\n\n  clearOnLoadActions() {\n    this.clearStoredArray(\"onLoadActions\");\n  }\n\n  clearStoredArray(key) {\n    const overwriteMerge = (destinationArray, sourceArray) => sourceArray;\n    const update = {};\n    update[key] = [];\n\n    this.update(update, { arrayMerge: overwriteMerge });\n  }\n\n  update(newState, mergeOpts) {\n    const finalState = merge(this.state, newState, mergeOpts);\n    const { valid } = validator.validate(finalState, SCHEMA);\n\n    if (!valid) {\n      // Intentionally not including details about the state or validation result here, since we don't want to leak\n      // sensitive data in the error message.\n      throw new Error(`Write to store failed schema validation.`);\n    }\n\n    localStorage.setItem(LOCAL_STORE_KEY, JSON.stringify(finalState));\n    delete this[STORE_STATE_CACHE_KEY];\n\n    if (newState.profile !== undefined) {\n      this.dispatchEvent(new CustomEvent(\"profilechanged\"));\n    }\n    this.dispatchEvent(new CustomEvent(\"statechanged\"));\n\n    return finalState;\n  }\n}\n","import screenfull from \"screenfull\";\nimport { showFullScreenIfWasFullScreen } from \"./fullscreen\";\nconst { detect } = require(\"detect-browser\");\n\nconst browser = detect();\nlet isExitingFullscreenDueToFocus = false;\n\n// Utility function that handles a bunch of incidental stuff related to text fields:\n//\n// - On non-mobile platforms, selects the value on focus\n// - If full screen, exits/enters full screen because of firefox full screen issues\nexport function handleTextFieldFocus(target) {\n  if (!window.AFRAME) return;\n  const isMobile = AFRAME.utils.device.isMobile();\n\n  if (screenfull.isFullscreen && !AFRAME.utils.device.isMobileVR() && browser.name === \"firefox\") {\n    // This will prevent focus, but its the only way to avoid getting into a\n    // weird \"firefox reports full screen but actually not\". You end up having to tap\n    // twice to ultimately get the focus.\n    //\n    // We need to keep track of a bit here so that we don't re-full screen when\n    // the text box is blurred by the browser.\n\n    isExitingFullscreenDueToFocus = true;\n    screenfull.exit().then(() => {\n      target.focus();\n    });\n  }\n\n  if (!isMobile) target.select();\n}\n\nexport function handleTextFieldBlur() {\n  // This is the incidental blur event when exiting fullscreen mode on mobile\n  if (isExitingFullscreenDueToFocus) {\n    isExitingFullscreenDueToFocus = false;\n    return;\n  }\n\n  showFullScreenIfWasFullScreen();\n}\n","export const avatars = [\n  {\n    id: \"botdefault\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotDefault_Avatar-9f71f8ff22.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botdefault-thumb-42C4C7D3C01D085EAFDAC8BACE591CE6.png\"\n  },\n  {\n    id: \"botbobo\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotBobo_Avatar-f9740a010b.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botbobo-thumb-261278FD5831E9CD89610D15948F23E4.png\"\n  },\n  {\n    id: \"botdom\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotDom_Avatar-0c48bf15a5.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botdom-thumb-1160EB5E81D24F12CE643C520CE1E99E.png\"\n  },\n  {\n    id: \"botgreg\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotGreg_Avatar-98d39797bb.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botgreg-thumb-F2A37F14F9C342EE44DDE9B24DD9B9FC.png\"\n  },\n  {\n    id: \"botguest\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotGuest_Avatar-78cd857332.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botguest-thumb-F7A471250E2C10C2709325C3B02A8BBB.png\"\n  },\n  {\n    id: \"botjim\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotJim_Avatar-d28005a687.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botjim-thumb-A2D195C1A51A082BCED58BD172481B39.png\"\n  },\n  {\n    id: \"botkev\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotKev_Avatar-a95787bb51.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botkev-thumb-90746A7349E3F964C913EA612EE9A53F.png\"\n  },\n  {\n    id: \"botpinky\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotPinky_Avatar-b0b93f8675.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botpinky-thumb-C2E69D4479077766B988DC3EE4F30BE5.png\"\n  },\n  {\n    id: \"botrobert\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotRobert_Avatar-e9554880f3.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botrobert-thumb-9C33F2C752326E2CF4321EAA7BDB4E47.png\"\n  },\n  {\n    id: \"botwoody\",\n    model: \"https://asset-bundles-prod.reticulum.io/bots/BotWoody_Avatar-0140485a23.gltf\",\n    thumbnail: \"https://asset-bundles-prod.reticulum.io/bots/botwoody-thumb-F1F1FA7E21301B5AC1D8872B4ED0CC56.png\"\n  }\n];\n","import Raven from \"raven-js\";\n\nconst ga = window.ga;\n\nexport default function registerTelemetry(trackedPage, trackedTitle) {\n  const sentryDsn = process.env.SENTRY_DSN;\n  const gaTrackingId = process.env.GA_TRACKING_ID;\n\n  if (sentryDsn) {\n    console.log(\"Tracking: Sentry DSN: \" + sentryDsn);\n    Raven.config(sentryDsn).install();\n  }\n\n  if (ga && gaTrackingId) {\n    console.log(\"Tracking: Google Analytics ID: \" + gaTrackingId);\n\n    ga(\"create\", gaTrackingId, \"auto\");\n\n    if (trackedPage) {\n      ga(\"set\", \"page\", trackedPage);\n    }\n\n    if (trackedTitle) {\n      ga(\"set\", \"title\", trackedTitle);\n    }\n\n    ga(\"send\", \"pageview\");\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const ReactAudioContext = React.createContext({});\n\nexport const hudHoverSound = \"play_sound-hud_hover_start\";\n\nexport const WithHoverSound = ({ sound, children }) => {\n  return (\n    <ReactAudioContext.Consumer>\n      {context => {\n        return React.cloneElement(children, {\n          onMouseEnter: e => {\n            if (context && context.playSound) {\n              context.playSound(sound || hudHoverSound);\n            }\n            children.props.onMouseEnter && children.props.onMouseEnter(e);\n          }\n        });\n      }}\n    </ReactAudioContext.Consumer>\n  );\n};\n\nWithHoverSound.propTypes = {\n  children: PropTypes.object,\n  sound: PropTypes.string\n};\n"],"sourceRoot":""}